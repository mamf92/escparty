(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function lS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qd={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function uS(){if(Yv)return bl;Yv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var Kv;function cS(){return Kv||(Kv=1,qd.exports=uS()),qd.exports}var N=cS(),Hd={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function hS(){if(Xv)return Dt;Xv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=S&&z[S]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function M(z,et,ct){this.props=z,this.context=et,this.refs=H,this.updater=ct||x}M.prototype.isReactComponent={},M.prototype.setState=function(z,et){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,et,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=M.prototype;function F(z,et,ct){this.props=z,this.context=et,this.refs=H,this.updater=ct||x}var G=F.prototype=new j;G.constructor=F,D(G,M.prototype),G.isPureReactComponent=!0;var rt=Array.isArray,st={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function I(z,et,ct,at,ht,At){return ct=At.ref,{$$typeof:n,type:z,key:et,ref:ct!==void 0?ct:null,props:At}}function R(z,et){return I(z.type,et,void 0,void 0,void 0,z.props)}function w(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function V(z){var et={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ct){return et[ct]})}var P=/\/+/g;function B(z,et){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):et.toString(36)}function O(){}function le(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(O,O):(z.status="pending",z.then(function(et){z.status==="pending"&&(z.status="fulfilled",z.value=et)},function(et){z.status==="pending"&&(z.status="rejected",z.reason=et)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function re(z,et,ct,at,ht){var At=typeof z;(At==="undefined"||At==="boolean")&&(z=null);var bt=!1;if(z===null)bt=!0;else switch(At){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(z.$$typeof){case n:case t:bt=!0;break;case E:return bt=z._init,re(bt(z._payload),et,ct,at,ht)}}if(bt)return ht=ht(z),bt=at===""?"."+B(z,0):at,rt(ht)?(ct="",bt!=null&&(ct=bt.replace(P,"$&/")+"/"),re(ht,et,ct,"",function(Ht){return Ht})):ht!=null&&(w(ht)&&(ht=R(ht,ct+(ht.key==null||z&&z.key===ht.key?"":(""+ht.key).replace(P,"$&/")+"/")+bt)),et.push(ht)),1;bt=0;var ee=at===""?".":at+":";if(rt(z))for(var It=0;It<z.length;It++)at=z[It],At=ee+B(at,It),bt+=re(at,et,ct,At,ht);else if(It=A(z),typeof It=="function")for(z=It.call(z),It=0;!(at=z.next()).done;)at=at.value,At=ee+B(at,It++),bt+=re(at,et,ct,At,ht);else if(At==="object"){if(typeof z.then=="function")return re(le(z),et,ct,at,ht);throw et=String(z),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return bt}function ot(z,et,ct){if(z==null)return z;var at=[],ht=0;return re(z,at,"","",function(At){return et.call(ct,At,ht++)}),at}function yt(z){if(z._status===-1){var et=z._result;et=et(),et.then(function(ct){(z._status===0||z._status===-1)&&(z._status=1,z._result=ct)},function(ct){(z._status===0||z._status===-1)&&(z._status=2,z._result=ct)}),z._status===-1&&(z._status=0,z._result=et)}if(z._status===1)return z._result.default;throw z._result}var mt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function wt(){}return Dt.Children={map:ot,forEach:function(z,et,ct){ot(z,function(){et.apply(this,arguments)},ct)},count:function(z){var et=0;return ot(z,function(){et++}),et},toArray:function(z){return ot(z,function(et){return et})||[]},only:function(z){if(!w(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Dt.Component=M,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=F,Dt.StrictMode=a,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Dt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Dt.cache=function(z){return function(){return z.apply(null,arguments)}},Dt.cloneElement=function(z,et,ct){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var at=D({},z.props),ht=z.key,At=void 0;if(et!=null)for(bt in et.ref!==void 0&&(At=void 0),et.key!==void 0&&(ht=""+et.key),et)!ut.call(et,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&et.ref===void 0||(at[bt]=et[bt]);var bt=arguments.length-2;if(bt===1)at.children=ct;else if(1<bt){for(var ee=Array(bt),It=0;It<bt;It++)ee[It]=arguments[It+2];at.children=ee}return I(z.type,ht,void 0,void 0,At,at)},Dt.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Dt.createElement=function(z,et,ct){var at,ht={},At=null;if(et!=null)for(at in et.key!==void 0&&(At=""+et.key),et)ut.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ht[at]=et[at]);var bt=arguments.length-2;if(bt===1)ht.children=ct;else if(1<bt){for(var ee=Array(bt),It=0;It<bt;It++)ee[It]=arguments[It+2];ht.children=ee}if(z&&z.defaultProps)for(at in bt=z.defaultProps,bt)ht[at]===void 0&&(ht[at]=bt[at]);return I(z,At,void 0,void 0,null,ht)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(z){return{$$typeof:m,render:z}},Dt.isValidElement=w,Dt.lazy=function(z){return{$$typeof:E,_payload:{_status:-1,_result:z},_init:yt}},Dt.memo=function(z,et){return{$$typeof:y,type:z,compare:et===void 0?null:et}},Dt.startTransition=function(z){var et=st.T,ct={};st.T=ct;try{var at=z(),ht=st.S;ht!==null&&ht(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(wt,mt)}catch(At){mt(At)}finally{st.T=et}},Dt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Dt.use=function(z){return st.H.use(z)},Dt.useActionState=function(z,et,ct){return st.H.useActionState(z,et,ct)},Dt.useCallback=function(z,et){return st.H.useCallback(z,et)},Dt.useContext=function(z){return st.H.useContext(z)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(z,et){return st.H.useDeferredValue(z,et)},Dt.useEffect=function(z,et){return st.H.useEffect(z,et)},Dt.useId=function(){return st.H.useId()},Dt.useImperativeHandle=function(z,et,ct){return st.H.useImperativeHandle(z,et,ct)},Dt.useInsertionEffect=function(z,et){return st.H.useInsertionEffect(z,et)},Dt.useLayoutEffect=function(z,et){return st.H.useLayoutEffect(z,et)},Dt.useMemo=function(z,et){return st.H.useMemo(z,et)},Dt.useOptimistic=function(z,et){return st.H.useOptimistic(z,et)},Dt.useReducer=function(z,et,ct){return st.H.useReducer(z,et,ct)},Dt.useRef=function(z){return st.H.useRef(z)},Dt.useState=function(z){return st.H.useState(z)},Dt.useSyncExternalStore=function(z,et,ct){return st.H.useSyncExternalStore(z,et,ct)},Dt.useTransition=function(){return st.H.useTransition()},Dt.version="19.0.0",Dt}var Zv;function tp(){return Zv||(Zv=1,Hd.exports=hS()),Hd.exports}var L=tp();const _n=lS(L);var Fd={exports:{}},Sl={},Gd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function fS(){return Jv||(Jv=1,function(n){function t(ot,yt){var mt=ot.length;ot.push(yt);t:for(;0<mt;){var wt=mt-1>>>1,z=ot[wt];if(0<o(z,yt))ot[wt]=yt,ot[mt]=z,mt=wt;else break t}}function i(ot){return ot.length===0?null:ot[0]}function a(ot){if(ot.length===0)return null;var yt=ot[0],mt=ot.pop();if(mt!==yt){ot[0]=mt;t:for(var wt=0,z=ot.length,et=z>>>1;wt<et;){var ct=2*(wt+1)-1,at=ot[ct],ht=ct+1,At=ot[ht];if(0>o(at,mt))ht<z&&0>o(At,at)?(ot[wt]=At,ot[ht]=mt,wt=ht):(ot[wt]=at,ot[ct]=mt,wt=ct);else if(ht<z&&0>o(At,mt))ot[wt]=At,ot[ht]=mt,wt=ht;else break t}}return yt}function o(ot,yt){var mt=ot.sortIndex-yt.sortIndex;return mt!==0?mt:ot.id-yt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,A=3,x=!1,D=!1,H=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(ot){for(var yt=i(y);yt!==null;){if(yt.callback===null)a(y);else if(yt.startTime<=ot)a(y),yt.sortIndex=yt.expirationTime,t(g,yt);else break;yt=i(y)}}function rt(ot){if(H=!1,G(ot),!D)if(i(g)!==null)D=!0,le();else{var yt=i(y);yt!==null&&re(rt,yt.startTime-ot)}}var st=!1,ut=-1,I=5,R=-1;function w(){return!(n.unstable_now()-R<I)}function V(){if(st){var ot=n.unstable_now();R=ot;var yt=!0;try{t:{D=!1,H&&(H=!1,j(ut),ut=-1),x=!0;var mt=A;try{e:{for(G(ot),S=i(g);S!==null&&!(S.expirationTime>ot&&w());){var wt=S.callback;if(typeof wt=="function"){S.callback=null,A=S.priorityLevel;var z=wt(S.expirationTime<=ot);if(ot=n.unstable_now(),typeof z=="function"){S.callback=z,G(ot),yt=!0;break e}S===i(g)&&a(g),G(ot)}else a(g);S=i(g)}if(S!==null)yt=!0;else{var et=i(y);et!==null&&re(rt,et.startTime-ot),yt=!1}}break t}finally{S=null,A=mt,x=!1}yt=void 0}}finally{yt?P():st=!1}}}var P;if(typeof F=="function")P=function(){F(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=V,P=function(){O.postMessage(null)}}else P=function(){M(V,0)};function le(){st||(st=!0,P())}function re(ot,yt){ut=M(function(){ot(n.unstable_now())},yt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ot){ot.callback=null},n.unstable_continueExecution=function(){D||x||(D=!0,le())},n.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ot?Math.floor(1e3/ot):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return i(g)},n.unstable_next=function(ot){switch(A){case 1:case 2:case 3:var yt=3;break;default:yt=A}var mt=A;A=yt;try{return ot()}finally{A=mt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ot,yt){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var mt=A;A=ot;try{return yt()}finally{A=mt}},n.unstable_scheduleCallback=function(ot,yt,mt){var wt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?wt+mt:wt):mt=wt,ot){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=mt+z,ot={id:E++,callback:yt,priorityLevel:ot,startTime:mt,expirationTime:z,sortIndex:-1},mt>wt?(ot.sortIndex=mt,t(y,ot),i(g)===null&&ot===i(y)&&(H?(j(ut),ut=-1):H=!0,re(rt,mt-wt))):(ot.sortIndex=z,t(g,ot),D||x||(D=!0,le())),ot},n.unstable_shouldYield=w,n.unstable_wrapCallback=function(ot){var yt=A;return function(){var mt=A;A=yt;try{return ot.apply(this,arguments)}finally{A=mt}}}}(Qd)),Qd}var Wv;function dS(){return Wv||(Wv=1,Gd.exports=fS()),Gd.exports}var Yd={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function mS(){if(t0)return nn;t0=1;var n=tp();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},nn.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:x}):E==="script"&&a.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},nn.requestFormReset=function(g){a.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.0.0",nn}var e0;function pS(){if(e0)return Yd.exports;e0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yd.exports=mS(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function gS(){if(n0)return Sl;n0=1;var n=dS(),t=tp(),i=pS();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),x=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function ut(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case H:return"Suspense";case M:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case D:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return r=e.displayName||null,r!==null?r:R(e.type)||"Memo";case F:r=e._payload,e=e._init;try{return R(e(r))}catch{}}return null}var w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,P,B;function O(e){if(P===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",B=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+e+B}var le=!1;function re(e,r){if(!e||le)return"";le=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var Y=X}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(X){Y=X}e.call(nt.prototype)}}else{try{throw Error()}catch(X){Y=X}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var Z=`
`+C[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{le=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?O(s):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function yt(e){try{var r="";do r+=ot(e),e=e.return;while(e);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function mt(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function wt(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function z(e){if(mt(e)!==e)throw Error(a(188))}function et(e){var r=e.alternate;if(!r){if(r=mt(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return z(h),e;if(d===l)return z(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function ct(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=ct(e),r!==null)return r;e=e.sibling}return null}var at=Array.isArray,ht=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},bt=[],ee=-1;function It(e){return{current:e}}function Ht(e){0>ee||(e.current=bt[ee],bt[ee]=null,ee--)}function kt(e,r){ee++,bt[ee]=e.current,e.current=r}var gt=It(null),Yt=It(null),se=It(null),dn=It(null);function Kt(e,r){switch(kt(se,r),kt(Yt,e),kt(gt,null),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Sv(r):0;break;default:if(e=e===8?r.parentNode:r,r=e.tagName,e=e.namespaceURI)e=Sv(e),r=Av(e,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ht(gt),kt(gt,r)}function xe(){Ht(gt),Ht(Yt),Ht(se)}function oa(e){e.memoizedState!==null&&kt(dn,e);var r=gt.current,s=Av(r,e.type);r!==s&&(kt(Yt,e),kt(gt,s))}function Wa(e){Yt.current===e&&(Ht(gt),Ht(Yt)),dn.current===e&&(Ht(dn),yl._currentValue=At)}var ts=Object.prototype.hasOwnProperty,la=n.unstable_scheduleCallback,es=n.unstable_cancelCallback,Hh=n.unstable_shouldYield,vo=n.unstable_requestPaint,mn=n.unstable_now,au=n.unstable_getCurrentPriorityLevel,De=n.unstable_ImmediatePriority,ke=n.unstable_UserBlockingPriority,Nr=n.unstable_NormalPriority,su=n.unstable_LowPriority,_o=n.unstable_IdlePriority,Fh=n.log,ua=n.unstable_setDisableYieldValue,ci=null,tn=null;function Eo(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ci,e,void 0,(e.current.flags&128)===128)}catch{}}function sr(e){if(typeof Fh=="function"&&ua(e),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ci,e)}catch{}}var ln=Math.clz32?Math.clz32:lu,To=Math.log,ou=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(To(e)/ou|0)|0}var or=128,hi=4194304;function Yn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,r){var s=e.pendingLanes;if(s===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=Yn(s):(d&=T,d!==0?l=Yn(d):e||(_=T&~_,_!==0&&(l=Yn(_))))):(T=s&~h,T!==0?l=Yn(T):d!==0?l=Yn(d):e||(_=s&~_,_!==0&&(l=Yn(_)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:l}function fi(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function ns(e,r){switch(e){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var e=or;return or<<=1,(or&4194176)===0&&(or=128),e}function di(){var e=hi;return hi<<=1,(hi&62914560)===0&&(hi=4194304),e}function rs(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function _e(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uu(e,r,s,l,h,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-ln(s),nt=1<<Z;T[Z]=0,C[Z]=-1;var Y=U[Z];if(Y!==null)for(U[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}s&=~nt}l!==0&&mi(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function mi(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-ln(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function pi(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-ln(s),h=1<<l;h&r|e[l]&r&&(e[l]|=r),s&=~h}}function cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:$v(e.type))}function gi(e,r){var s=ht.p;try{return ht.p=e,r()}finally{ht.p=s}}var lr=Math.random().toString(36).slice(2),Ue="__reactFiber$"+lr,Ie="__reactProps$"+lr,Mr="__reactContainer$"+lr,ca="__reactEvents$"+lr,is="__reactListeners$"+lr,ur="__reactHandles$"+lr,So="__reactResources$"+lr,yi="__reactMarker$"+lr;function ha(e){delete e[Ue],delete e[Ie],delete e[ca],delete e[is],delete e[ur]}function Kn(e){var r=e[Ue];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Mr]||s[Ue]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Cv(e);e!==null;){if(s=e[Ue])return s;e=Cv(e)}return r}e=s,s=e.parentNode}return null}function zr(e){if(e=e[Ue]||e[Mr]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function vi(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function _i(e){var r=e[So];return r||(r=e[So]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ue(e){e[yi]=!0}var Ao=new Set,as={};function Tn(e,r){pn(e,r),pn(e+"Capture",r)}function pn(e,r){for(as[e]=r,e=0;e<r.length;e++)Ao.add(r[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function fu(e){return ts.call(Ro,e)?!0:ts.call(wo,e)?!1:Gh.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function Ei(e,r,s){if(fu(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function Ti(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function On(e,r,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+l)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function du(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qh(e){var r=du(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function fa(e){e._valueTracker||(e._valueTracker=Qh(e))}function Co(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=du(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pr=/[\n"\\]/g;function me(e){return e.replace(Pr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bi(e,r,s,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+un(r)):e.value!==""+un(r)&&(e.value=""+un(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?os(e,_,un(r)):s!=null?os(e,_,un(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+un(T):e.removeAttribute("name")}function da(e,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+un(s):"",r=r!=null?""+un(r):s,T||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function os(e,r,s){r==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ft(e,r,s,l){if(e=e.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=r.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+un(s),r=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function ma(e,r,s){if(r!=null&&(r=""+un(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+un(s):""}function Si(e,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(at(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=un(r),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Vn(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,s):typeof s!="number"||s===0||Yh.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function mu(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&xo(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&xo(e,d,r[d])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return Xh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nn=null;function ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kr=null,Ur=null;function Lr(e){var r=zr(e);if(r&&(e=r.stateNode)){var s=e[Ie]||null;t:switch(e=r.stateNode,r.type){case"input":if(bi(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+me(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var h=l[Ie]||null;if(!h)throw Error(a(90));bi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===e.form&&Co(l)}break t;case"textarea":ma(e,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Ft(e,!!s.multiple,r,!1)}}}var Io=!1;function pu(e,r,s){if(Io)return e(r,s);Io=!0;try{var l=e(r);return l}finally{if(Io=!1,(kr!==null||Ur!==null)&&(sc(),kr&&(r=kr,e=Ur,Ur=kr=null,Lr(r),e)))for(r=0;r<e.length;r++)Lr(e[r])}}function pa(e,r){var s=e.stateNode;if(s===null)return null;var l=s[Ie]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Mn=!1;if(bn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Mn=!1}var hr=null,Ai=null,jr=null;function Oo(){if(jr)return jr;var e,r=Ai,s=r.length,l,h="value"in hr?hr.value:hr.textContent,d=h.length;for(e=0;e<s&&r[e]===h[e];e++);var _=s-e;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return jr=h.slice(e,1<l?1-l:void 0)}function fr(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function Vo(){return!1}function Le(e){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?dr:Vo,this.isPropagationStopped=Vo,this}return V(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),r}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Le(Xt),ya=V({},Xt,{view:0,detail:0}),gu=Le(ya),cs,hs,mr,va=V({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(cs=e.screenX-mr.screenX,hs=e.screenY-mr.screenY):hs=cs=0,mr=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),zn=Le(va),yu=V({},va,{dataTransfer:0}),Zh=Le(yu),_a=V({},ya,{relatedTarget:0}),fs=Le(_a),No=V({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=Le(No),vu=V({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ms=Le(vu),Jh=V({},Xt,{data:0}),Mo=Le(Jh),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Eu[e])?!!r[e]:!1}function Ta(){return zo}var Tu=V({},ya,{key:function(e){if(e.key){var r=Ea[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ps=Le(Tu),bu=V({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Le(bu),Br=V({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Su=Le(Br),Au=V({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=Le(Au),Ru=V({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gs=Le(Ru),cn=V({},Xt,{newState:0,oldState:0}),Cu=Le(cn),xu=[9,13,27,32],pr=bn&&"CompositionEvent"in window,c=null;bn&&"documentMode"in document&&(c=document.documentMode);var p=bn&&"TextEvent"in window&&!c,v=bn&&(!pr||c&&8<c&&11>=c),b=" ",q=!1;function K(e,r){switch(e){case"keyup":return xu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Oe(e,r){switch(e){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(q=!0,b);case"textInput":return e=r.data,e===b&&q?null:e;default:return null}}function jt(e,r){if(Lt)return e==="compositionend"||!pr&&K(e,r)?(e=Oo(),jr=Ai=hr=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!je[e.type]:r==="textarea"}function $r(e,r,s,l){kr?Ur?Ur.push(l):Ur=[l]:kr=l,r=hc(r,"onChange"),0<r.length&&(s=new us("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var Ge=null,gr=null;function ko(e){vv(e,0)}function Du(e){var r=vi(e);if(Co(r))return e}function Qp(e,r){if(e==="change")return r}var Yp=!1;if(bn){var Wh;if(bn){var tf="oninput"in document;if(!tf){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),tf=typeof Kp.oninput=="function"}Wh=tf}else Wh=!1;Yp=Wh&&(!document.documentMode||9<document.documentMode)}function Xp(){Ge&&(Ge.detachEvent("onpropertychange",Zp),gr=Ge=null)}function Zp(e){if(e.propertyName==="value"&&Du(gr)){var r=[];$r(r,gr,e,ls(e)),pu(ko,r)}}function UT(e,r,s){e==="focusin"?(Xp(),Ge=r,gr=s,Ge.attachEvent("onpropertychange",Zp)):e==="focusout"&&Xp()}function LT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(gr)}function jT(e,r){if(e==="click")return Du(r)}function BT(e,r){if(e==="input"||e==="change")return Du(r)}function $T(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Sn=typeof Object.is=="function"?Object.is:$T;function Uo(e,r){if(Sn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ts.call(r,h)||!Sn(e[h],r[h]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wp(e,r){var s=Jp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Jp(s)}}function tg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?tg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=ss(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=ss(e.document)}return r}function ef(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function qT(e,r){var s=eg(r);r=e.focusedElem;var l=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&tg(r.ownerDocument.documentElement,r)){if(l!==null&&ef(r)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(s,r.value.length);else if(s=(e=r.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=Wp(r,d);var _=Wp(r,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(e),s.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),s.addRange(e)))}}for(e=[],s=r;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)s=e[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var HT=bn&&"documentMode"in document&&11>=document.documentMode,ys=null,nf=null,Lo=null,rf=!1;function ng(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rf||ys==null||ys!==ss(l)||(l=ys,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Lo&&Uo(Lo,l)||(Lo=l,l=hc(nf,"onSelect"),0<l.length&&(r=new us("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=ys)))}function ba(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var vs={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},af={},rg={};bn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Sa(e){if(af[e])return af[e];if(!vs[e])return e;var r=vs[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in rg)return af[e]=r[s];return e}var ig=Sa("animationend"),ag=Sa("animationiteration"),sg=Sa("animationstart"),FT=Sa("transitionrun"),GT=Sa("transitionstart"),QT=Sa("transitioncancel"),og=Sa("transitionend"),lg=new Map,ug="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xn(e,r){lg.set(e,r),Tn(r,[e])}var Pn=[],_s=0,sf=0;function Iu(){for(var e=_s,r=sf=_s=0;r<e;){var s=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var h=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&cg(s,h,d)}}function Ou(e,r,s,l){Pn[_s++]=e,Pn[_s++]=r,Pn[_s++]=s,Pn[_s++]=l,sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function of(e,r,s,l){return Ou(e,r,s,l),Vu(e)}function wi(e,r){return Ou(e,null,null,r),Vu(e)}function cg(e,r,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&r!==null&&e.tag===3&&(d=e.stateNode,h=31-ln(s),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[r]:e.push(r),r.lane=s|536870912)}function Vu(e){if(50<cl)throw cl=0,dd=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Es={},hg=new WeakMap;function kn(e,r){if(typeof e=="object"&&e!==null){var s=hg.get(e);return s!==void 0?s:(r={value:e,source:r,stack:yt(r)},hg.set(e,r),r)}return{value:e,source:r,stack:yt(r)}}var Ts=[],bs=0,Nu=null,Mu=0,Un=[],Ln=0,Aa=null,qr=1,Hr="";function wa(e,r){Ts[bs++]=Mu,Ts[bs++]=Nu,Nu=e,Mu=r}function fg(e,r,s){Un[Ln++]=qr,Un[Ln++]=Hr,Un[Ln++]=Aa,Aa=e;var l=qr;e=Hr;var h=32-ln(l)-1;l&=~(1<<h),s+=1;var d=32-ln(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,qr=1<<32-ln(r)+h|s<<h|l,Hr=d+e}else qr=1<<d|s<<h|l,Hr=e}function lf(e){e.return!==null&&(wa(e,1),fg(e,1,0))}function uf(e){for(;e===Nu;)Nu=Ts[--bs],Ts[bs]=null,Mu=Ts[--bs],Ts[bs]=null;for(;e===Aa;)Aa=Un[--Ln],Un[Ln]=null,Hr=Un[--Ln],Un[Ln]=null,qr=Un[--Ln],Un[Ln]=null}var hn=null,Qe=null,Gt=!1,Zn=null,yr=!1,cf=Error(a(519));function Ra(e){var r=Error(a(418,""));throw $o(kn(r,e)),cf}function dg(e){var r=e.stateNode,s=e.type,l=e.memoizedProps;switch(r[Ue]=e,r[Ie]=l,s){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(s=0;s<fl.length;s++)Ut(fl[s],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":Ut("invalid",r),da(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(r);break;case"select":Ut("invalid",r);break;case"textarea":Ut("invalid",r),Si(r,l.value,l.defaultValue,l.children),fa(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||bv(r.textContent,s)?(l.popover!=null&&(Ut("beforetoggle",r),Ut("toggle",r)),l.onScroll!=null&&Ut("scroll",r),l.onScrollEnd!=null&&Ut("scrollend",r),l.onClick!=null&&(r.onclick=fc),r=!0):r=!1,r||Ra(e)}function mg(e){for(hn=e.return;hn;)switch(hn.tag){case 3:case 27:yr=!0;return;case 5:case 13:yr=!1;return;default:hn=hn.return}}function jo(e){if(e!==hn)return!1;if(!Gt)return mg(e),Gt=!0,!1;var r=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Id(e.type,e.memoizedProps)),s=!s),s&&(r=!0),r&&Qe&&Ra(e),mg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(r===0){Qe=Wn(e.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;e=e.nextSibling}Qe=null}}else Qe=hn?Wn(e.stateNode.nextSibling):null;return!0}function Bo(){Qe=hn=null,Gt=!1}function $o(e){Zn===null?Zn=[e]:Zn.push(e)}var qo=Error(a(460)),pg=Error(a(474)),hf={then:function(){}};function gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function yg(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(zu,zu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===qo?Error(a(483)):e;default:if(typeof r.status=="string")r.then(zu,zu);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===qo?Error(a(483)):e}throw Ho=r,qo}}var Ho=null;function vg(){if(Ho===null)throw Error(a(459));var e=Ho;return Ho=null,e}var Ss=null,Fo=0;function Pu(e){var r=Fo;return Fo+=1,Ss===null&&(Ss=[]),yg(Ss,e,r)}function Go(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function ku(e,r){throw r.$$typeof===u?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function _g(e){var r=e._init;return r(e._payload)}function Eg(e){function r($,k){if(e){var Q=$.deletions;Q===null?($.deletions=[k],$.flags|=16):Q.push(k)}}function s($,k){if(!e)return null;for(;k!==null;)r($,k),k=k.sibling;return null}function l($){for(var k=new Map;$!==null;)$.key!==null?k.set($.key,$):k.set($.index,$),$=$.sibling;return k}function h($,k){return $=ki($,k),$.index=0,$.sibling=null,$}function d($,k,Q){return $.index=Q,e?(Q=$.alternate,Q!==null?(Q=Q.index,Q<k?($.flags|=33554434,k):Q):($.flags|=33554434,k)):($.flags|=1048576,k)}function _($){return e&&$.alternate===null&&($.flags|=33554434),$}function T($,k,Q,J){return k===null||k.tag!==6?(k=ad(Q,$.mode,J),k.return=$,k):(k=h(k,Q),k.return=$,k)}function C($,k,Q,J){var dt=Q.type;return dt===g?Z($,k,Q.props.children,J,Q.key):k!==null&&(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===F&&_g(dt)===k.type)?(k=h(k,Q.props),Go(k,Q),k.return=$,k):(k=ec(Q.type,Q.key,Q.props,null,$.mode,J),Go(k,Q),k.return=$,k)}function U($,k,Q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==Q.containerInfo||k.stateNode.implementation!==Q.implementation?(k=sd(Q,$.mode,J),k.return=$,k):(k=h(k,Q.children||[]),k.return=$,k)}function Z($,k,Q,J,dt){return k===null||k.tag!==7?(k=Pa(Q,$.mode,J,dt),k.return=$,k):(k=h(k,Q),k.return=$,k)}function nt($,k,Q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ad(""+k,$.mode,Q),k.return=$,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return Q=ec(k.type,k.key,k.props,null,$.mode,Q),Go(Q,k),Q.return=$,Q;case m:return k=sd(k,$.mode,Q),k.return=$,k;case F:var J=k._init;return k=J(k._payload),nt($,k,Q)}if(at(k)||ut(k))return k=Pa(k,$.mode,Q,null),k.return=$,k;if(typeof k.then=="function")return nt($,Pu(k),Q);if(k.$$typeof===x)return nt($,Ju($,k),Q);ku($,k)}return null}function Y($,k,Q,J){var dt=k!==null?k.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return dt!==null?null:T($,k,""+Q,J);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case f:return Q.key===dt?C($,k,Q,J):null;case m:return Q.key===dt?U($,k,Q,J):null;case F:return dt=Q._init,Q=dt(Q._payload),Y($,k,Q,J)}if(at(Q)||ut(Q))return dt!==null?null:Z($,k,Q,J,null);if(typeof Q.then=="function")return Y($,k,Pu(Q),J);if(Q.$$typeof===x)return Y($,k,Ju($,Q),J);ku($,Q)}return null}function X($,k,Q,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return $=$.get(Q)||null,T(k,$,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case f:return $=$.get(J.key===null?Q:J.key)||null,C(k,$,J,dt);case m:return $=$.get(J.key===null?Q:J.key)||null,U(k,$,J,dt);case F:var Mt=J._init;return J=Mt(J._payload),X($,k,Q,J,dt)}if(at(J)||ut(J))return $=$.get(Q)||null,Z(k,$,J,dt,null);if(typeof J.then=="function")return X($,k,Q,Pu(J),dt);if(J.$$typeof===x)return X($,k,Q,Ju(k,J),dt);ku(k,J)}return null}function pt($,k,Q,J){for(var dt=null,Mt=null,vt=k,Tt=k=0,qe=null;vt!==null&&Tt<Q.length;Tt++){vt.index>Tt?(qe=vt,vt=null):qe=vt.sibling;var Qt=Y($,vt,Q[Tt],J);if(Qt===null){vt===null&&(vt=qe);break}e&&vt&&Qt.alternate===null&&r($,vt),k=d(Qt,k,Tt),Mt===null?dt=Qt:Mt.sibling=Qt,Mt=Qt,vt=qe}if(Tt===Q.length)return s($,vt),Gt&&wa($,Tt),dt;if(vt===null){for(;Tt<Q.length;Tt++)vt=nt($,Q[Tt],J),vt!==null&&(k=d(vt,k,Tt),Mt===null?dt=vt:Mt.sibling=vt,Mt=vt);return Gt&&wa($,Tt),dt}for(vt=l(vt);Tt<Q.length;Tt++)qe=X(vt,$,Tt,Q[Tt],J),qe!==null&&(e&&qe.alternate!==null&&vt.delete(qe.key===null?Tt:qe.key),k=d(qe,k,Tt),Mt===null?dt=qe:Mt.sibling=qe,Mt=qe);return e&&vt.forEach(function(Hi){return r($,Hi)}),Gt&&wa($,Tt),dt}function Ct($,k,Q,J){if(Q==null)throw Error(a(151));for(var dt=null,Mt=null,vt=k,Tt=k=0,qe=null,Qt=Q.next();vt!==null&&!Qt.done;Tt++,Qt=Q.next()){vt.index>Tt?(qe=vt,vt=null):qe=vt.sibling;var Hi=Y($,vt,Qt.value,J);if(Hi===null){vt===null&&(vt=qe);break}e&&vt&&Hi.alternate===null&&r($,vt),k=d(Hi,k,Tt),Mt===null?dt=Hi:Mt.sibling=Hi,Mt=Hi,vt=qe}if(Qt.done)return s($,vt),Gt&&wa($,Tt),dt;if(vt===null){for(;!Qt.done;Tt++,Qt=Q.next())Qt=nt($,Qt.value,J),Qt!==null&&(k=d(Qt,k,Tt),Mt===null?dt=Qt:Mt.sibling=Qt,Mt=Qt);return Gt&&wa($,Tt),dt}for(vt=l(vt);!Qt.done;Tt++,Qt=Q.next())Qt=X(vt,$,Tt,Qt.value,J),Qt!==null&&(e&&Qt.alternate!==null&&vt.delete(Qt.key===null?Tt:Qt.key),k=d(Qt,k,Tt),Mt===null?dt=Qt:Mt.sibling=Qt,Mt=Qt);return e&&vt.forEach(function(oS){return r($,oS)}),Gt&&wa($,Tt),dt}function ye($,k,Q,J){if(typeof Q=="object"&&Q!==null&&Q.type===g&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case f:t:{for(var dt=Q.key;k!==null;){if(k.key===dt){if(dt=Q.type,dt===g){if(k.tag===7){s($,k.sibling),J=h(k,Q.props.children),J.return=$,$=J;break t}}else if(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===F&&_g(dt)===k.type){s($,k.sibling),J=h(k,Q.props),Go(J,Q),J.return=$,$=J;break t}s($,k);break}else r($,k);k=k.sibling}Q.type===g?(J=Pa(Q.props.children,$.mode,J,Q.key),J.return=$,$=J):(J=ec(Q.type,Q.key,Q.props,null,$.mode,J),Go(J,Q),J.return=$,$=J)}return _($);case m:t:{for(dt=Q.key;k!==null;){if(k.key===dt)if(k.tag===4&&k.stateNode.containerInfo===Q.containerInfo&&k.stateNode.implementation===Q.implementation){s($,k.sibling),J=h(k,Q.children||[]),J.return=$,$=J;break t}else{s($,k);break}else r($,k);k=k.sibling}J=sd(Q,$.mode,J),J.return=$,$=J}return _($);case F:return dt=Q._init,Q=dt(Q._payload),ye($,k,Q,J)}if(at(Q))return pt($,k,Q,J);if(ut(Q)){if(dt=ut(Q),typeof dt!="function")throw Error(a(150));return Q=dt.call(Q),Ct($,k,Q,J)}if(typeof Q.then=="function")return ye($,k,Pu(Q),J);if(Q.$$typeof===x)return ye($,k,Ju($,Q),J);ku($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,k!==null&&k.tag===6?(s($,k.sibling),J=h(k,Q),J.return=$,$=J):(s($,k),J=ad(Q,$.mode,J),J.return=$,$=J),_($)):s($,k)}return function($,k,Q,J){try{Fo=0;var dt=ye($,k,Q,J);return Ss=null,dt}catch(vt){if(vt===qo)throw vt;var Mt=qn(29,vt,null,$.mode);return Mt.lanes=J,Mt.return=$,Mt}finally{}}}var Ca=Eg(!0),Tg=Eg(!1),As=It(null),Uu=It(0);function bg(e,r){e=ei,kt(Uu,e),kt(As,r),ei=e|r.baseLanes}function ff(){kt(Uu,ei),kt(As,As.current)}function df(){ei=Uu.current,Ht(As),Ht(Uu)}var jn=It(null),vr=null;function Ri(e){var r=e.alternate;kt(Ne,Ne.current&1),kt(jn,e),vr===null&&(r===null||As.current!==null||r.memoizedState!==null)&&(vr=e)}function Sg(e){if(e.tag===22){if(kt(Ne,Ne.current),kt(jn,e),vr===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(vr=e)}}else Ci()}function Ci(){kt(Ne,Ne.current),kt(jn,jn.current)}function Fr(e){Ht(jn),vr===e&&(vr=null),Ht(Ne)}var Ne=It(0);function Lu(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var YT=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},KT=n.unstable_scheduleCallback,XT=n.unstable_NormalPriority,Me={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new YT,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&KT(XT,function(){e.controller.abort()})}var Yo=null,pf=0,ws=0,Rs=null;function ZT(e,r){if(Yo===null){var s=Yo=[];pf=0,ws=Td(),Rs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return pf++,r.then(Ag,Ag),r}function Ag(){if(--pf===0&&Yo!==null){Rs!==null&&(Rs.status="fulfilled");var e=Yo;Yo=null,ws=0,Rs=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function JT(e,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var wg=w.S;w.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZT(e,r),wg!==null&&wg(e,r)};var xa=It(null);function gf(){var e=xa.current;return e!==null?e:ie.pooledCache}function ju(e,r){r===null?kt(xa,xa.current):kt(xa,r.pool)}function Rg(){var e=gf();return e===null?null:{parent:Me._currentValue,pool:e}}var xi=0,Vt=null,Wt=null,Se=null,Bu=!1,Cs=!1,Da=!1,$u=0,Ko=0,xs=null,WT=0;function Ee(){throw Error(a(321))}function yf(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Sn(e[s],r[s]))return!1;return!0}function vf(e,r,s,l,h,d){return xi=d,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,w.H=e===null||e.memoizedState===null?Ia:Di,Da=!1,d=s(l,h),Da=!1,Cs&&(d=xg(r,s,l,h)),Cg(e),d}function Cg(e){w.H=_r;var r=Wt!==null&&Wt.next!==null;if(xi=0,Se=Wt=Vt=null,Bu=!1,Ko=0,xs=null,r)throw Error(a(300));e===null||Be||(e=e.dependencies,e!==null&&Zu(e)&&(Be=!0))}function xg(e,r,s,l){Vt=e;var h=0;do{if(Cs&&(xs=null),Ko=0,Cs=!1,25<=h)throw Error(a(301));if(h+=1,Se=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Oa,d=r(s,l)}while(Cs);return d}function tb(){var e=w.H,r=e.useState()[0];return r=typeof r.then=="function"?Xo(r):r,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Vt.flags|=1024),r}function _f(){var e=$u!==0;return $u=0,e}function Ef(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Tf(e){if(Bu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Bu=!1}xi=0,Se=Wt=Vt=null,Cs=!1,Ko=$u=0,xs=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Vt.memoizedState=Se=e:Se=Se.next=e,Se}function Ae(){if(Wt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var r=Se===null?Vt.memoizedState:Se.next;if(r!==null)Se=r,Wt=e;else{if(e===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?Vt.memoizedState=Se=e:Se=Se.next=e}return Se}var qu;qu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xo(e){var r=Ko;return Ko+=1,xs===null&&(xs=[]),e=yg(xs,e,r),r=Vt,(Se===null?r.memoizedState:Se.next)===null&&(r=r.alternate,w.H=r===null||r.memoizedState===null?Ia:Di),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===x)return en(e)}throw Error(a(438,String(e)))}function bf(e){var r=null,s=Vt.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=qu(),Vt.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),l=0;l<e;l++)s[l]=rt;return r.index++,s}function Gr(e,r){return typeof r=="function"?r(e):r}function Fu(e){var r=Ae();return Sf(r,Wt,e)}function Sf(e,r,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var T=_=null,C=null,U=r,Z=!1;do{var nt=U.lane&-536870913;if(nt!==U.lane?(Bt&nt)===nt:(xi&nt)===nt){var Y=U.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),nt===ws&&(Z=!0);else if((xi&Y)===Y){U=U.next,Y===ws&&(Z=!0);continue}else nt={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=nt,_=d):C=C.next=nt,Vt.lanes|=Y,Ui|=Y;nt=U.action,Da&&s(d,nt),d=U.hasEagerState?U.eagerState:s(d,nt)}else Y={lane:nt,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=Y,_=d):C=C.next=Y,Vt.lanes|=nt,Ui|=nt;U=U.next}while(U!==null&&U!==r);if(C===null?_=d:C.next=T,!Sn(d,e.memoizedState)&&(Be=!0,Z&&(s=Rs,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Af(e){var r=Ae(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Sn(d,r.memoizedState)||(Be=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Dg(e,r,s){var l=Vt,h=Ae(),d=Gt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!Sn((Wt||h).memoizedState,s);if(_&&(h.memoizedState=s,Be=!0),h=h.queue,Cf(Vg.bind(null,l,h,e),[e]),h.getSnapshot!==r||_||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Ds(9,Og.bind(null,l,h,s,r),{destroy:void 0},null),ie===null)throw Error(a(349));d||(xi&60)!==0||Ig(l,r,s)}return s}function Ig(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Vt.updateQueue,r===null?(r=qu(),Vt.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Og(e,r,s,l){r.value=s,r.getSnapshot=l,Ng(r)&&Mg(e)}function Vg(e,r,s){return s(function(){Ng(r)&&Mg(e)})}function Ng(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Sn(e,s)}catch{return!0}}function Mg(e){var r=wi(e,2);r!==null&&fn(r,e,2)}function wf(e){var r=gn();if(typeof e=="function"){var s=e;if(e=s(),Da){sr(!0);try{s()}finally{sr(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:e},r}function zg(e,r,s,l){return e.baseState=s,Sf(e,Wt,typeof l=="function"?l:Gr)}function eb(e,r,s,l,h){if(Yu(e))throw Error(a(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};w.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Pg(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Pg(e,r){var s=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=w.T,_={};w.T=_;try{var T=s(h,l),C=w.S;C!==null&&C(_,T),kg(e,r,T)}catch(U){Rf(e,r,U)}finally{w.T=d}}else try{d=s(h,l),kg(e,r,d)}catch(U){Rf(e,r,U)}}function kg(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ug(e,r,l)},function(l){return Rf(e,r,l)}):Ug(e,r,s)}function Ug(e,r,s){r.status="fulfilled",r.value=s,Lg(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,Pg(e,s)))}function Rf(e,r,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Lg(r),r=r.next;while(r!==l)}e.action=null}function Lg(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function jg(e,r){return r}function Bg(e,r){if(Gt){var s=ie.formState;if(s!==null){t:{var l=Vt;if(Gt){if(Qe){e:{for(var h=Qe,d=yr;h.nodeType!==8;){if(!d){h=null;break e}if(h=Wn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Qe=Wn(h.nextSibling),l=h.data==="F!";break t}}Ra(l)}l=!1}l&&(r=s[0])}}return s=gn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:r},s.queue=l,s=ay.bind(null,Vt,l),l.dispatch=s,l=wf(!1),d=Vf.bind(null,Vt,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,s=eb.bind(null,Vt,h,d,s),h.dispatch=s,l.memoizedState=e,[r,s,!1]}function $g(e){var r=Ae();return qg(r,Wt,e)}function qg(e,r,s){r=Sf(e,r,jg)[0],e=Fu(Gr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Xo(r):r;var l=Ae(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Vt.flags|=2048,Ds(9,nb.bind(null,h,s),{destroy:void 0},null)),[r,d,e]}function nb(e,r){e.action=r}function Hg(e){var r=Ae(),s=Wt;if(s!==null)return qg(r,s,e);Ae(),r=r.memoizedState,s=Ae();var l=s.queue.dispatch;return s.memoizedState=e,[r,l,!1]}function Ds(e,r,s,l){return e={tag:e,create:r,inst:s,deps:l,next:null},r=Vt.updateQueue,r===null&&(r=qu(),Vt.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e),e}function Fg(){return Ae().memoizedState}function Gu(e,r,s,l){var h=gn();Vt.flags|=e,h.memoizedState=Ds(1|r,s,{destroy:void 0},l===void 0?null:l)}function Qu(e,r,s,l){var h=Ae();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&yf(l,Wt.memoizedState.deps)?h.memoizedState=Ds(r,s,d,l):(Vt.flags|=e,h.memoizedState=Ds(1|r,s,d,l))}function Gg(e,r){Gu(8390656,8,e,r)}function Cf(e,r){Qu(2048,8,e,r)}function Qg(e,r){return Qu(4,2,e,r)}function Yg(e,r){return Qu(4,4,e,r)}function Kg(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Xg(e,r,s){s=s!=null?s.concat([e]):null,Qu(4,4,Kg.bind(null,r,e),s)}function xf(){}function Zg(e,r){var s=Ae();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&yf(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function Jg(e,r){var s=Ae();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&yf(r,l[1]))return l[0];if(l=e(),Da){sr(!0);try{e()}finally{sr(!1)}}return s.memoizedState=[l,r],l}function Df(e,r,s){return s===void 0||(xi&1073741824)!==0?e.memoizedState=r:(e.memoizedState=s,e=tv(),Vt.lanes|=e,Ui|=e,s)}function Wg(e,r,s,l){return Sn(s,r)?s:As.current!==null?(e=Df(e,s,l),Sn(e,r)||(Be=!0),e):(xi&42)===0?(Be=!0,e.memoizedState=s):(e=tv(),Vt.lanes|=e,Ui|=e,r)}function ty(e,r,s,l,h){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=w.T,T={};w.T=T,Vf(e,!1,r,s);try{var C=h(),U=w.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=JT(C,l);Zo(e,r,Z,Cn(e))}else Zo(e,r,l,Cn(e))}catch(nt){Zo(e,r,{then:function(){},status:"rejected",reason:nt},Cn())}finally{ht.p=d,w.T=_}}function rb(){}function If(e,r,s,l){if(e.tag!==5)throw Error(a(476));var h=ey(e).queue;ty(e,h,r,At,s===null?rb:function(){return ny(e),s(l)})}function ey(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:At},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function ny(e){var r=ey(e).next.queue;Zo(e,r,{},Cn())}function Of(){return en(yl)}function ry(){return Ae().memoizedState}function iy(){return Ae().memoizedState}function ib(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=Cn();e=Vi(s);var l=Ni(r,e,s);l!==null&&(fn(l,r,s),tl(l,r,s)),r={cache:mf()},e.payload=r;return}r=r.return}}function ab(e,r,s){var l=Cn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?sy(r,s):(s=of(e,r,s,l),s!==null&&(fn(s,e,l),oy(s,r,l)))}function ay(e,r,s){var l=Cn();Zo(e,r,s,l)}function Zo(e,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))sy(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,_))return Ou(e,r,h,0),ie===null&&Iu(),!1}catch{}finally{}if(s=of(e,r,h,l),s!==null)return fn(s,e,l),oy(s,r,l),!0}return!1}function Vf(e,r,s,l){if(l={lane:2,revertLane:Td(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(r)throw Error(a(479))}else r=of(e,s,l,2),r!==null&&fn(r,e,2)}function Yu(e){var r=e.alternate;return e===Vt||r!==null&&r===Vt}function sy(e,r){Cs=Bu=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function oy(e,r,s){if((s&4194176)!==0){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,pi(e,s)}}var _r={readContext:en,use:Hu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee};_r.useCacheRefresh=Ee,_r.useMemoCache=Ee,_r.useHostTransitionStatus=Ee,_r.useFormState=Ee,_r.useActionState=Ee,_r.useOptimistic=Ee;var Ia={readContext:en,use:Hu,useCallback:function(e,r){return gn().memoizedState=[e,r===void 0?null:r],e},useContext:en,useEffect:Gg,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,Kg.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Gu(4194308,4,e,r)},useInsertionEffect:function(e,r){Gu(4,2,e,r)},useMemo:function(e,r){var s=gn();r=r===void 0?null:r;var l=e();if(Da){sr(!0);try{e()}finally{sr(!1)}}return s.memoizedState=[l,r],l},useReducer:function(e,r,s){var l=gn();if(s!==void 0){var h=s(r);if(Da){sr(!0);try{s(r)}finally{sr(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=ab.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var r=gn();return e={current:e},r.memoizedState=e},useState:function(e){e=wf(e);var r=e.queue,s=ay.bind(null,Vt,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:xf,useDeferredValue:function(e,r){var s=gn();return Df(s,e,r)},useTransition:function(){var e=wf(!1);return e=ty.bind(null,Vt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var l=Vt,h=gn();if(Gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ie===null)throw Error(a(349));(Bt&60)!==0||Ig(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Gg(Vg.bind(null,l,d,e),[e]),l.flags|=2048,Ds(9,Og.bind(null,l,d,s,r),{destroy:void 0},null),s},useId:function(){var e=gn(),r=ie.identifierPrefix;if(Gt){var s=Hr,l=qr;s=(l&~(1<<32-ln(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=$u++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=WT++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},useCacheRefresh:function(){return gn().memoizedState=ib.bind(null,Vt)}};Ia.useMemoCache=bf,Ia.useHostTransitionStatus=Of,Ia.useFormState=Bg,Ia.useActionState=Bg,Ia.useOptimistic=function(e){var r=gn();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Vf.bind(null,Vt,!0,s),s.dispatch=r,[e,r]};var Di={readContext:en,use:Hu,useCallback:Zg,useContext:en,useEffect:Cf,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Jg,useReducer:Fu,useRef:Fg,useState:function(){return Fu(Gr)},useDebugValue:xf,useDeferredValue:function(e,r){var s=Ae();return Wg(s,Wt.memoizedState,e,r)},useTransition:function(){var e=Fu(Gr)[0],r=Ae().memoizedState;return[typeof e=="boolean"?e:Xo(e),r]},useSyncExternalStore:Dg,useId:ry};Di.useCacheRefresh=iy,Di.useMemoCache=bf,Di.useHostTransitionStatus=Of,Di.useFormState=$g,Di.useActionState=$g,Di.useOptimistic=function(e,r){var s=Ae();return zg(s,Wt,e,r)};var Oa={readContext:en,use:Hu,useCallback:Zg,useContext:en,useEffect:Cf,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Jg,useReducer:Af,useRef:Fg,useState:function(){return Af(Gr)},useDebugValue:xf,useDeferredValue:function(e,r){var s=Ae();return Wt===null?Df(s,e,r):Wg(s,Wt.memoizedState,e,r)},useTransition:function(){var e=Af(Gr)[0],r=Ae().memoizedState;return[typeof e=="boolean"?e:Xo(e),r]},useSyncExternalStore:Dg,useId:ry};Oa.useCacheRefresh=iy,Oa.useMemoCache=bf,Oa.useHostTransitionStatus=Of,Oa.useFormState=Hg,Oa.useActionState=Hg,Oa.useOptimistic=function(e,r){var s=Ae();return Wt!==null?zg(s,Wt,e,r):(s.baseState=e,[e,s.queue.dispatch])};function Nf(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:V({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Mf={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var l=Cn(),h=Vi(l);h.payload=r,s!=null&&(h.callback=s),r=Ni(e,h,l),r!==null&&(fn(r,e,l),tl(r,e,l))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=Cn(),h=Vi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Ni(e,h,l),r!==null&&(fn(r,e,l),tl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=Cn(),l=Vi(s);l.tag=2,r!=null&&(l.callback=r),r=Ni(e,l,s),r!==null&&(fn(r,e,s),tl(r,e,s))}};function ly(e,r,s,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Uo(s,l)||!Uo(h,d):!0}function uy(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&Mf.enqueueReplaceState(r,r.state,null)}function Va(e,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(e=e.defaultProps){s===r&&(s=V({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cy(e){Ku(e)}function hy(e){console.error(e)}function fy(e){Ku(e)}function Xu(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function dy(e,r,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,r,s){return s=Vi(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,r)},s}function my(e){return e=Vi(e),e.tag=3,e}function py(e,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){dy(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){dy(r,s,l),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sb(e,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Wo(r,s,h,!0),s=jn.current,s!==null){switch(s.tag){case 13:return vr===null?gd():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===hf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),vd(e,l,h)),!1;case 22:return s.flags|=65536,l===hf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),vd(e,l,h)),!1}throw Error(a(435,s.tag))}return vd(e,l,h),gd(),!1}if(Gt)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==cf&&(e=Error(a(422),{cause:l}),$o(kn(e,s)))):(l!==cf&&(r=Error(a(423),{cause:l}),$o(kn(r,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=kn(l,s),h=zf(e.stateNode,l,h),Xf(e,h),ge!==4&&(ge=2)),!1;var d=Error(a(520),{cause:l});if(d=kn(d,s),ll===null?ll=[d]:ll.push(d),ge!==4&&(ge=2),r===null)return!0;l=kn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=zf(s.stateNode,l,e),Xf(s,e),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=my(h),py(h,e,s,l),Xf(s,h),!1}s=s.return}while(s!==null);return!1}var gy=Error(a(461)),Be=!1;function Ye(e,r,s,l){r.child=e===null?Tg(r,null,s,l):Ca(r,e.child,s,l)}function yy(e,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ma(r),l=vf(e,r,s,_,d,h),T=_f(),e!==null&&!Be?(Ef(e,r,h),Qr(e,r,h)):(Gt&&T&&lf(r),r.flags|=1,Ye(e,r,l,h),r.child)}function vy(e,r,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!id(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,_y(e,r,d,l,h)):(e=ec(s.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Hf(e,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(_,l)&&e.ref===r.ref)return Qr(e,r,h)}return r.flags|=1,e=ki(d,l),e.ref=r.ref,e.return=r,r.child=e}function _y(e,r,s,l,h){if(e!==null){var d=e.memoizedProps;if(Uo(d,l)&&e.ref===r.ref)if(Be=!1,r.pendingProps=l=d,Hf(e,h))(e.flags&131072)!==0&&(Be=!0);else return r.lanes=e.lanes,Qr(e,r,h)}return Pf(e,r,s,l,h)}function Ey(e,r,s){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Jo(e,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|s:s,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ty(e,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(r,_!==null?_.cachePool:null),_!==null?bg(r,_):ff(),Sg(r);else return r.lanes=r.childLanes=536870912,Ty(e,r,_!==null?_.baseLanes|s:s,s)}else _!==null?(ju(r,_.cachePool),bg(r,_),Ci(),r.memoizedState=null):(e!==null&&ju(r,null),ff(),Ci());return Ye(e,r,h,s),r.child}function Ty(e,r,s,l){var h=gf();return h=h===null?null:{parent:Me._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},e!==null&&ju(r,null),ff(),Sg(r),e!==null&&Wo(e,r,l,!0),null}function Jo(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=2097664)}}function Pf(e,r,s,l,h){return Ma(r),s=vf(e,r,s,l,void 0,h),l=_f(),e!==null&&!Be?(Ef(e,r,h),Qr(e,r,h)):(Gt&&l&&lf(r),r.flags|=1,Ye(e,r,s,h),r.child)}function by(e,r,s,l,h,d){return Ma(r),r.updateQueue=null,s=xg(r,l,s,h),Cg(e),l=_f(),e!==null&&!Be?(Ef(e,r,d),Qr(e,r,d)):(Gt&&l&&lf(r),r.flags|=1,Ye(e,r,s,d),r.child)}function Sy(e,r,s,l,h){if(Ma(r),r.stateNode===null){var d=Es,_=s.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Yf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?en(_):Es,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Nf(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Mf.enqueueReplaceState(d,d.state,null),nl(r,l,d,h),el(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var T=r.memoizedProps,C=Va(s,T);d.props=C;var U=d.context,Z=s.contextType;_=Es,typeof Z=="object"&&Z!==null&&(_=en(Z));var nt=s.getDerivedStateFromProps;Z=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&uy(r,d,l,_),Oi=!1;var Y=r.memoizedState;d.state=Y,nl(r,l,d,h),el(),U=r.memoizedState,T||Y!==U||Oi?(typeof nt=="function"&&(Nf(r,s,nt,l),U=r.memoizedState),(C=Oi||ly(r,s,C,l,Y,U,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Kf(e,r),_=r.memoizedProps,Z=Va(s,_),d.props=Z,nt=r.pendingProps,Y=d.context,U=s.contextType,C=Es,typeof U=="object"&&U!==null&&(C=en(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||Y!==C)&&uy(r,d,l,C),Oi=!1,Y=r.memoizedState,d.state=Y,nl(r,l,d,h),el();var X=r.memoizedState;_!==nt||Y!==X||Oi||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof T=="function"&&(Nf(r,s,T,l),X=r.memoizedState),(Z=Oi||ly(r,s,Z,l,Y,X,C)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Jo(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Ca(r,e.child,null,h),r.child=Ca(r,null,s,h)):Ye(e,r,s,h),r.memoizedState=d.state,e=r.child):e=Qr(e,r,h),e}function Ay(e,r,s,l){return Bo(),r.flags|=256,Ye(e,r,s,l),r.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Uf(e){return{baseLanes:e,cachePool:Rg()}}function Lf(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=Hn),e}function wy(e,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Gt){if(h?Ri(r):Ci(),Gt){var T=Qe,C;if(C=T){t:{for(C=T,T=yr;C.nodeType!==8;){if(!T){T=null;break t}if(C=Wn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Aa!==null?{id:qr,overflow:Hr}:null,retryLane:536870912},C=qn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,hn=r,Qe=null,C=!0):C=!1}C||Ra(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Fr(r)}return T=l.children,l=l.fallback,h?(Ci(),h=r.mode,T=Bf({mode:"hidden",children:T},h),l=Pa(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Uf(s),h.childLanes=Lf(e,_,s),r.memoizedState=kf,l):(Ri(r),jf(r,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Ri(r),r.flags&=-257,r=$f(e,r,s)):r.memoizedState!==null?(Ci(),r.child=e.child,r.flags|=128,r=null):(Ci(),h=l.fallback,T=r.mode,l=Bf({mode:"visible",children:l.children},T),h=Pa(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ca(r,e.child,null,s),l=r.child,l.memoizedState=Uf(s),l.childLanes=Lf(e,_,s),r.memoizedState=kf,r=h);else if(Ri(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(a(419)),l.stack="",l.digest=_,$o({value:l,source:null,stack:null}),r=$f(e,r,s)}else if(Be||Wo(e,r,s,!1),_=(s&e.childLanes)!==0,Be||_){if(_=ie,_!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,wi(e,l),fn(_,e,l),gy}T.data==="$?"||gd(),r=$f(e,r,s)}else T.data==="$?"?(r.flags|=128,r.child=e.child,r=Tb.bind(null,e),T._reactRetry=r,r=null):(e=C.treeContext,Qe=Wn(T.nextSibling),hn=r,Gt=!0,Zn=null,yr=!1,e!==null&&(Un[Ln++]=qr,Un[Ln++]=Hr,Un[Ln++]=Aa,qr=e.id,Hr=e.overflow,Aa=r),r=jf(r,l.children),r.flags|=4096);return r}return h?(Ci(),h=l.fallback,T=r.mode,C=e.child,U=C.sibling,l=ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?h=ki(U,h):(h=Pa(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=e.child.memoizedState,T===null?T=Uf(s):(C=T.cachePool,C!==null?(U=Me._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Rg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=Lf(e,_,s),r.memoizedState=kf,l):(Ri(r),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=s,r.memoizedState=null,s)}function jf(e,r){return r=Bf({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Bf(e,r){return Zy(e,r,0,null)}function $f(e,r,s){return Ca(r,e.child,null,s),e=jf(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ry(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Gf(e.return,r,s)}function qf(e,r,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Cy(e,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ye(e,r,l.children,s),l=Ne.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,s,r);else if(e.tag===19)Ry(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(kt(Ne,l),h){case"forwards":for(s=r.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),qf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){r.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}qf(r,!0,s,null,d);break;case"together":qf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Ui|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(Wo(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=ki(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Hf(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function ob(e,r,s){switch(r.tag){case 3:Kt(r,r.stateNode.containerInfo),Ii(r,Me,e.memoizedState.cache),Bo();break;case 27:case 5:oa(r);break;case 4:Kt(r,r.stateNode.containerInfo);break;case 10:Ii(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(r),r.flags|=128,null):(s&r.child.childLanes)!==0?wy(e,r,s):(Ri(r),e=Qr(e,r,s),e!==null?e.sibling:null);Ri(r);break;case 19:var h=(e.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Wo(e,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Cy(e,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),kt(Ne,Ne.current),l)break;return null;case 22:case 23:return r.lanes=0,Ey(e,r,s);case 24:Ii(r,Me,e.memoizedState.cache)}return Qr(e,r,s)}function xy(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Be=!0;else{if(!Hf(e,s)&&(r.flags&128)===0)return Be=!1,ob(e,r,s);Be=(e.flags&131072)!==0}else Be=!1,Gt&&(r.flags&1048576)!==0&&fg(r,Mu,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")id(l)?(e=Va(l,e),r.tag=1,r=Sy(null,r,l,e,s)):(r.tag=0,r=Pf(null,r,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===D){r.tag=11,r=yy(null,r,l,e,s);break t}else if(h===j){r.tag=14,r=vy(null,r,l,e,s);break t}}throw r=R(l)||l,Error(a(306,r,""))}}return r;case 0:return Pf(e,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=Va(l,r.pendingProps),Sy(e,r,l,h,s);case 3:t:{if(Kt(r,r.stateNode.containerInfo),e===null)throw Error(a(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Kf(e,r),nl(r,d,null,s);var _=r.memoizedState;if(d=_.cache,Ii(r,Me,d),d!==h.cache&&Qf(r,[Me],s,!0),el(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Ay(e,r,d,s);break t}else if(d!==l){l=kn(Error(a(424)),r),$o(l),r=Ay(e,r,d,s);break t}else for(Qe=Wn(r.stateNode.containerInfo.firstChild),hn=r,Gt=!0,Zn=null,yr=!0,s=Tg(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Bo(),d===l){r=Qr(e,r,s);break t}Ye(e,r,d,s)}r=r.child}return r;case 26:return Jo(e,r),e===null?(s=Ov(r.type,null,r.pendingProps,null))?r.memoizedState=s:Gt||(s=r.type,e=r.pendingProps,l=dc(se.current).createElement(s),l[Ue]=r,l[Ie]=e,Ke(l,s,e),ue(l),r.stateNode=l):r.memoizedState=Ov(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return oa(r),e===null&&Gt&&(l=r.stateNode=xv(r.type,r.pendingProps,se.current),hn=r,yr=!0,Qe=Wn(l.firstChild)),l=r.pendingProps.children,e!==null||Gt?Ye(e,r,l,s):r.child=Ca(r,null,l,s),Jo(e,r),r.child;case 5:return e===null&&Gt&&((h=l=Qe)&&(l=kb(l,r.type,r.pendingProps,yr),l!==null?(r.stateNode=l,hn=r,Qe=Wn(l.firstChild),yr=!1,h=!0):h=!1),h||Ra(r)),oa(r),h=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Id(h,d)?l=null:_!==null&&Id(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=vf(e,r,tb,null,null,s),yl._currentValue=h),Jo(e,r),Ye(e,r,l,s),r.child;case 6:return e===null&&Gt&&((e=s=Qe)&&(s=Ub(s,r.pendingProps,yr),s!==null?(r.stateNode=s,hn=r,Qe=null,e=!0):e=!1),e||Ra(r)),null;case 13:return wy(e,r,s);case 4:return Kt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ca(r,null,l,s):Ye(e,r,l,s),r.child;case 11:return yy(e,r,r.type,r.pendingProps,s);case 7:return Ye(e,r,r.pendingProps,s),r.child;case 8:return Ye(e,r,r.pendingProps.children,s),r.child;case 12:return Ye(e,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ii(r,r.type,l.value),Ye(e,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ma(r),h=en(h),l=l(h),r.flags|=1,Ye(e,r,l,s),r.child;case 14:return vy(e,r,r.type,r.pendingProps,s);case 15:return _y(e,r,r.type,r.pendingProps,s);case 19:return Cy(e,r,s);case 22:return Ey(e,r,s);case 24:return Ma(r),l=en(Me),e===null?(h=gf(),h===null&&(h=ie,d=mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Yf(r),Ii(r,Me,h)):((e.lanes&s)!==0&&(Kf(e,r),nl(r,null,null,s),el()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ii(r,Me,l)):(l=d.cache,Ii(r,Me,l),l!==h.cache&&Qf(r,[Me],s,!0))),Ye(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var Ff=It(null),Na=null,Yr=null;function Ii(e,r,s){kt(Ff,r._currentValue),r._currentValue=s}function Kr(e){e._currentValue=Ff.current,Ht(Ff)}function Gf(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function Qf(e,r,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Gf(d.return,s,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Gf(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Wo(e,r,s,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Sn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===dn.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&Qf(r,e,s,l),r.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Na=e,Yr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Dy(Na,e)}function Ju(e,r){return Na===null&&Ma(e),Dy(e,r)}function Dy(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Yr===null){if(e===null)throw Error(a(308));Yr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Yr=Yr.next=r;return s}var Oi=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(he&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Vu(e),cg(e,null,s),r}return Ou(e,l,r,s),Vu(e)}function tl(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,pi(e,s)}}function Xf(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Zf=!1;function el(){if(Zf){var e=Rs;if(e!==null)throw e}}function nl(e,r,s,l){Zf=!1;var h=e.updateQueue;Oi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?d=U:_.next=U,_=C;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=U:T.next=U,Z.lastBaseUpdate=C))}if(d!==null){var nt=h.baseState;_=0,Z=U=C=null,T=d;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(Bt&Y)===Y:(l&Y)===Y){Y!==0&&Y===ws&&(Zf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=e,Ct=T;Y=r;var ye=s;switch(Ct.tag){case 1:if(pt=Ct.payload,typeof pt=="function"){nt=pt.call(ye,nt,Y);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Ct.payload,Y=typeof pt=="function"?pt.call(ye,nt,Y):pt,Y==null)break t;nt=V({},nt,Y);break t;case 2:Oi=!0}}Y=T.callback,Y!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(U=Z=X,C=nt):Z=Z.next=X,_|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);Z===null&&(C=nt),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Ui|=_,e.lanes=_,e.memoizedState=nt}}function Iy(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function Oy(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Iy(s[e],r)}function rl(e,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){ne(r,r.return,T)}}function Mi(e,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var C=s;try{T()}catch(U){ne(h,C,U)}}}l=l.next}while(l!==d)}}catch(U){ne(r,r.return,U)}}function Vy(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{Oy(r,s)}catch(l){ne(e,e.return,l)}}}function Ny(e,r,s){s.props=Va(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ne(e,r,l)}}function za(e,r){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(d){ne(e,r,d)}}function An(e,r){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ne(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ne(e,r,h)}else s.current=null}function My(e){var r=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ne(e,e.return,h)}}function zy(e,r,s){try{var l=e.stateNode;Vb(l,e.type,s,r),l[Ie]=r}catch(h){ne(e,e.return,h)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=fc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wf(e,r,s),e=e.sibling;e!==null;)Wf(e,r,s),e=e.sibling}function Wu(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wu(e,r,s),e=e.sibling;e!==null;)Wu(e,r,s),e=e.sibling}var Xr=!1,pe=!1,td=!1,ky=typeof WeakSet=="function"?WeakSet:Set,$e=null,Uy=!1;function lb(e,r){if(e=e.containerInfo,xd=_c,e=eg(e),ef(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,T=-1,C=-1,U=0,Z=0,nt=e,Y=null;e:for(;;){for(var X;nt!==s||h!==0&&nt.nodeType!==3||(T=_+h),nt!==d||l!==0&&nt.nodeType!==3||(C=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(X=nt.firstChild)!==null;)Y=nt,nt=X;for(;;){if(nt===e)break e;if(Y===s&&++U===h&&(T=_),Y===d&&++Z===l&&(C=_),(X=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=X}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dd={focusedElem:e,selectionRange:s},_c=!1,$e=r;$e!==null;)if(r=$e,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,$e=e;else for(;$e!==null;){switch(r=$e,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var pt=Va(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ct){ne(s,s.return,Ct)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Nd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,$e=e;break}$e=r.return}return pt=Uy,Uy=!1,pt}function Ly(e,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Jr(e,s),l&4&&rl(5,s);break;case 1:if(Jr(e,s),l&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(T){ne(s,s.return,T)}else{var h=Va(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ne(s,s.return,T)}}l&64&&Vy(s),l&512&&za(s,s.return);break;case 3:if(Jr(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{Oy(l,e)}catch(T){ne(s,s.return,T)}}break;case 26:Jr(e,s),l&512&&za(s,s.return);break;case 27:case 5:Jr(e,s),r===null&&l&4&&My(s),l&512&&za(s,s.return);break;case 12:Jr(e,s);break;case 13:Jr(e,s),l&4&&$y(e,s);break;case 22:if(h=s.memoizedState!==null||Xr,!h){r=r!==null&&r.memoizedState!==null||pe;var d=Xr,_=pe;Xr=h,(pe=r)&&!_?zi(e,s,(s.subtreeFlags&8772)!==0):Jr(e,s),Xr=d,pe=_}l&512&&(s.memoizedProps.mode==="manual"?za(s,s.return):An(s,s.return));break;default:Jr(e,s)}}function jy(e){var r=e.alternate;r!==null&&(e.alternate=null,jy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&ha(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,wn=!1;function Zr(e,r,s){for(s=s.child;s!==null;)By(e,r,s),s=s.sibling}function By(e,r,s){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ci,s)}catch{}switch(s.tag){case 26:pe||An(s,r),Zr(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pe||An(s,r);var l=we,h=wn;for(we=s.stateNode,Zr(e,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ha(s),we=l,wn=h;break;case 5:pe||An(s,r);case 6:h=we;var d=wn;if(we=null,Zr(e,r,s),we=h,wn=d,we!==null)if(wn)try{e=we,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(_){ne(s,r,_)}else try{we.removeChild(s.stateNode)}catch(_){ne(s,r,_)}break;case 18:we!==null&&(wn?(r=we,s=s.stateNode,r.nodeType===8?Vd(r.parentNode,s):r.nodeType===1&&Vd(r,s),Tl(r)):Vd(we,s.stateNode));break;case 4:l=we,h=wn,we=s.stateNode.containerInfo,wn=!0,Zr(e,r,s),we=l,wn=h;break;case 0:case 11:case 14:case 15:pe||Mi(2,s,r),pe||Mi(4,s,r),Zr(e,r,s);break;case 1:pe||(An(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ny(s,r,l)),Zr(e,r,s);break;case 21:Zr(e,r,s);break;case 22:pe||An(s,r),pe=(l=pe)||s.memoizedState!==null,Zr(e,r,s),pe=l;break;default:Zr(e,r,s)}}function $y(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(s){ne(r,r.return,s)}}function ub(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new ky),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new ky),r;default:throw Error(a(435,e.tag))}}function ed(e,r){var s=ub(e);r.forEach(function(l){var h=bb.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function Bn(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,_=r,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:we=T.stateNode,wn=!1;break t;case 3:we=T.stateNode.containerInfo,wn=!0;break t;case 4:we=T.stateNode.containerInfo,wn=!0;break t}T=T.return}if(we===null)throw Error(a(160));By(d,_,h),we=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)qy(r,e),r=r.sibling}var Jn=null;function qy(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(r,e),$n(e),l&4&&(Mi(3,e,e.return),rl(3,e),Mi(5,e,e.return));break;case 1:Bn(r,e),$n(e),l&512&&(pe||s===null||An(s,s.return)),l&64&&Xr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(Bn(r,e),$n(e),l&512&&(pe||s===null||An(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yi]||d[Ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,s),d[Ue]=e,ue(d),l=d;break t;case"link":var _=Mv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Mv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ue]=e,ue(d),l=d}e.stateNode=l}else zv(h,e.type,e.stateNode);else e.stateNode=Nv(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?zv(h,e.type,e.stateNode):Nv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zy(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var U=C.nextSibling,Z=C.nodeName;C[yi]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}for(var nt=e.type,Y=h.attributes;Y.length;)h.removeAttributeNode(Y[0]);Ke(h,nt,d),h[Ue]=e,h[Ie]=d}catch(pt){ne(e,e.return,pt)}}case 5:if(Bn(r,e),$n(e),l&512&&(pe||s===null||An(s,s.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(pt){ne(e,e.return,pt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zy(e,h,s!==null?s.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(Bn(r,e),$n(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(pt){ne(e,e.return,pt)}}break;case 3:if(gc=null,h=Jn,Jn=mc(r.containerInfo),Bn(r,e),Jn=h,$n(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Tl(r.containerInfo)}catch(pt){ne(e,e.return,pt)}td&&(td=!1,Hy(e));break;case 4:l=Jn,Jn=mc(e.stateNode.containerInfo),Bn(r,e),$n(e),Jn=l;break;case 12:Bn(r,e),$n(e);break;case 13:Bn(r,e),$n(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cd=mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ed(e,l)));break;case 22:if(l&512&&(pe||s===null||An(s,s.return)),C=e.memoizedState!==null,U=s!==null&&s.memoizedState!==null,Z=Xr,nt=pe,Xr=Z||C,pe=nt||U,Bn(r,e),pe=nt,Xr=Z,$n(e),r=e.stateNode,r._current=e,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=Xr||pe,s===null||U||r||Is(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,r=e;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){U=s=r;try{if(h=U.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=U.stateNode,T=U.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pt){ne(U,U.return,pt)}}}else if(r.tag===6){if(s===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(pt){ne(U,U.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ed(e,s))));break;case 19:Bn(r,e),$n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ed(e,l)));break;case 21:break;default:Bn(r,e),$n(e)}}function $n(e){var r=e.flags;if(r&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(Py(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=Jf(e);Wu(e,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Vn(_,""),l.flags&=-33);var T=Jf(e);Wu(e,T,_);break;case 3:case 4:var C=l.stateNode.containerInfo,U=Jf(e);Wf(e,U,C);break;default:throw Error(a(161))}}}catch(Z){ne(e,e.return,Z)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Hy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Jr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ly(e,r.alternate,r),r=r.sibling}function Is(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Mi(4,r,r.return),Is(r);break;case 1:An(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Ny(r,r.return,s),Is(r);break;case 26:case 27:case 5:An(r,r.return),Is(r);break;case 22:An(r,r.return),r.memoizedState===null&&Is(r);break;default:Is(r)}e=e.sibling}}function zi(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:zi(h,d,s),rl(4,d);break;case 1:if(zi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){ne(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Iy(C[h],T)}catch(U){ne(l,l.return,U)}}s&&_&64&&Vy(d),za(d,d.return);break;case 26:case 27:case 5:zi(h,d,s),s&&l===null&&_&4&&My(d),za(d,d.return);break;case 12:zi(h,d,s);break;case 13:zi(h,d,s),s&&_&4&&$y(h,d);break;case 22:d.memoizedState===null&&zi(h,d,s),za(d,d.return);break;default:zi(h,d,s)}r=r.sibling}}function nd(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function rd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Qo(e))}function Pi(e,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fy(e,r,s,l),r=r.sibling}function Fy(e,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(e,r,s,l),h&2048&&rl(9,r);break;case 3:Pi(e,r,s,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){Pi(e,r,s,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ne(r,r.return,C)}}else Pi(e,r,s,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Pi(e,r,s,l):il(e,r):d._visibility&4?Pi(e,r,s,l):(d._visibility|=4,Os(e,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&nd(r.alternate,r);break;case 24:Pi(e,r,s,l),h&2048&&rd(r.alternate,r);break;default:Pi(e,r,s,l)}}function Os(e,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,_=r,T=s,C=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Os(d,_,T,C,h),rl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&4?Os(d,_,T,C,h):il(d,_):(Z._visibility|=4,Os(d,_,T,C,h)),h&&U&2048&&nd(_.alternate,_);break;case 24:Os(d,_,T,C,h),h&&U&2048&&rd(_.alternate,_);break;default:Os(d,_,T,C,h)}r=r.sibling}}function il(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,l=r,h=l.flags;switch(l.tag){case 22:il(s,l),h&2048&&nd(l.alternate,l);break;case 24:il(s,l),h&2048&&rd(l.alternate,l);break;default:il(s,l)}r=r.sibling}}var al=8192;function Vs(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Gy(e),e=e.sibling}function Gy(e){switch(e.tag){case 26:Vs(e),e.flags&al&&e.memoizedState!==null&&Zb(Jn,e.memoizedState,e.memoizedProps);break;case 5:Vs(e);break;case 3:case 4:var r=Jn;Jn=mc(e.stateNode.containerInfo),Vs(e),Jn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=al,al=16777216,Vs(e),al=r):Vs(e));break;default:Vs(e)}}function Qy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function sl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];$e=l,Ky(l,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yy(e),e=e.sibling}function Yy(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&4&&(e.return===null||e.return.tag!==13)?(r._visibility&=-5,tc(e)):sl(e);break;default:sl(e)}}function tc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];$e=l,Ky(l,e)}Qy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Mi(8,r,r.return),tc(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,tc(r));break;default:tc(r)}e=e.sibling}}function Ky(e,r){for(;$e!==null;){var s=$e;switch(s.tag){case 0:case 11:case 15:Mi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$e=l;else t:for(s=e;$e!==null;){l=$e;var h=l.sibling,d=l.return;if(jy(l),l===s){$e=null;break t}if(h!==null){h.return=d,$e=h;break t}$e=d}}}function cb(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,r,s,l){return new cb(e,r,s,l)}function id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,r){var s=e.alternate;return s===null?(s=qn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Xy(e,r){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ec(e,r,s,l,h,d){var _=0;if(l=e,typeof e=="function")id(e)&&(_=1);else if(typeof e=="string")_=Kb(e,s,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Pa(s.children,h,d,r);case y:_=8,h|=24;break;case E:return e=qn(12,s,r,h|2),e.elementType=E,e.lanes=d,e;case H:return e=qn(13,s,r,h),e.elementType=H,e.lanes=d,e;case M:return e=qn(19,s,r,h),e.elementType=M,e.lanes=d,e;case G:return Zy(s,h,d,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case x:_=10;break t;case A:_=9;break t;case D:_=11;break t;case j:_=14;break t;case F:_=16,l=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return r=qn(_,s,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Pa(e,r,s,l){return e=qn(7,e,l,r),e.lanes=s,e}function Zy(e,r,s,l){e=qn(22,e,l,r),e.elementType=G,e.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=wi(d,2);_!==null&&(h._pendingVisibility|=2,fn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=wi(d,2);_!==null&&(h._pendingVisibility&=-3,fn(_,d,2))}}};return e.stateNode=h,e}function ad(e,r,s){return e=qn(6,e,null,r),e.lanes=s,e}function sd(e,r,s){return r=qn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Wr(e){e.flags|=4}function Jy(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pv(r)){if(r=jn.current,r!==null&&((Bt&4194176)===Bt?vr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==vr))throw Ho=hf,pg;e.flags|=8192}}function nc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?di():536870912,e.lanes|=r,Ms|=r)}function ol(e,r){if(!Gt)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function hb(e,r,s){var l=r.pendingProps;switch(uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return s=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kr(Me),xe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(jo(r)?Wr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zn!==null&&(md(Zn),Zn=null))),ce(r),null;case 26:return s=r.memoizedState,e===null?(Wr(r),s!==null?(ce(r),Jy(r,s)):(ce(r),r.flags&=-16777217)):s?s!==e.memoizedState?(Wr(r),ce(r),Jy(r,s)):(ce(r),r.flags&=-16777217):(e.memoizedProps!==l&&Wr(r),ce(r),r.flags&=-16777217),null;case 27:Wa(r),s=se.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Wr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ce(r),null}e=gt.current,jo(r)?dg(r):(e=xv(h,l,s),r.stateNode=e,Wr(r))}return ce(r),null;case 5:if(Wa(r),s=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Wr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ce(r),null}if(e=gt.current,jo(r))dg(r);else{switch(h=dc(se.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Ue]=r,e[Ie]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(Ke(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Wr(r)}}return ce(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Wr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(e=se.current,jo(r)){if(e=r.stateNode,s=r.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ue]=r,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||bv(e.nodeValue,s)),e||Ra(r)}else e=dc(e).createTextNode(l),e[Ue]=r,r.stateNode=e}return ce(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=jo(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ue]=r}else Bo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),h=!1}else Zn!==null&&(md(Zn),Zn=null),h=!0;if(!h)return r.flags&256?(Fr(r),r):(Fr(r),null)}if(Fr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(r.child.flags|=8192),nc(r,r.updateQueue),ce(r),null;case 4:return xe(),e===null&&wd(r.stateNode.containerInfo),ce(r),null;case 10:return Kr(r.type),ce(r),null;case 19:if(Ht(Ne),h=r.memoizedState,h===null)return ce(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Lu(e),d!==null){for(r.flags|=128,ol(h,!1),e=d.updateQueue,r.updateQueue=e,nc(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)Xy(s,e),s=s.sibling;return kt(Ne,Ne.current&1|2),r.child}e=e.sibling}h.tail!==null&&mn()>rc&&(r.flags|=128,l=!0,ol(h,!1),r.lanes=4194304)}else{if(!l)if(e=Lu(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,nc(r,e),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Gt)return ce(r),null}else 2*mn()-h.renderingStartTime>rc&&s!==536870912&&(r.flags|=128,l=!0,ol(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=mn(),r.sibling=null,e=Ne.current,kt(Ne,l?e&1|2:e&1),r):(ce(r),null);case 22:case 23:return Fr(r),df(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),s=r.updateQueue,s!==null&&nc(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),e!==null&&Ht(xa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Kr(Me),ce(r),null;case 25:return null}throw Error(a(156,r.tag))}function fb(e,r){switch(uf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Kr(Me),xe(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Wa(r),null;case 13:if(Fr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Bo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Ht(Ne),null;case 4:return xe(),null;case 10:return Kr(r.type),null;case 22:case 23:return Fr(r),df(),e!==null&&Ht(xa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Kr(Me),null;case 25:return null;default:return null}}function Wy(e,r){switch(uf(r),r.tag){case 3:Kr(Me),xe();break;case 26:case 27:case 5:Wa(r);break;case 4:xe();break;case 13:Fr(r);break;case 19:Ht(Ne);break;case 10:Kr(r.type);break;case 22:case 23:Fr(r),df(),e!==null&&Ht(xa);break;case 24:Kr(Me)}}var db={getCacheForType:function(e){var r=en(Me),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s}},mb=typeof WeakMap=="function"?WeakMap:Map,he=0,ie=null,zt=null,Bt=0,ae=0,Rn=null,ti=!1,Ns=!1,od=!1,ei=0,ge=0,Ui=0,ka=0,ld=0,Hn=0,Ms=0,ll=null,Er=null,ud=!1,cd=0,rc=1/0,ic=null,Li=null,ac=!1,Ua=null,ul=0,hd=0,fd=null,cl=0,dd=null;function Cn(){if((he&2)!==0&&Bt!==0)return Bt&-Bt;if(w.T!==null){var e=ws;return e!==0?e:Td()}return hu()}function tv(){Hn===0&&(Hn=(Bt&536870912)===0||Gt?bo():536870912);var e=jn.current;return e!==null&&(e.flags|=32),Hn}function fn(e,r,s){(e===ie&&ae===2||e.cancelPendingCommit!==null)&&(zs(e,0),ni(e,Bt,Hn,!1)),_e(e,s),((he&2)===0||e!==ie)&&(e===ie&&((he&2)===0&&(ka|=s),ge===4&&ni(e,Bt,Hn,!1)),Tr(e))}function ev(e,r,s){if((he&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&e.expiredLanes)===0||fi(e,r),h=l?yb(e,r):yd(e,r,!0),d=l;do{if(h===0){Ns&&!l&&ni(e,r,0,!1);break}else if(h===6)ni(e,r,0,!ti);else{if(s=e.current.alternate,d&&!pb(s)){h=yd(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var T=e;h=ll;var C=T.current.memoizedState.isDehydrated;if(C&&(zs(T,_).flags|=256),_=yd(T,_,!1),_!==2){if(od&&!C){T.errorRecoveryDisabledLanes|=d,ka|=d,h=4;break t}d=Er,Er=h,d!==null&&md(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){zs(e,0),ni(e,r,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){ni(l,r,Hn,!ti);break t}break;case 2:Er=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(d=cd+300-mn(),10<d)){if(ni(l,r,Hn,!ti),In(l,0)!==0)break t;l.timeoutHandle=wv(nv.bind(null,l,s,Er,ic,ud,r,Hn,ka,Ms,ti,2,-0,0),d);break t}nv(l,s,Er,ic,ud,r,Hn,ka,Ms,ti,0,-0,0)}}break}while(!0);Tr(e)}function md(e){Er===null?Er=e:Er.push.apply(Er,e)}function nv(e,r,s,l,h,d,_,T,C,U,Z,nt,Y){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:Xb},Gy(r),r=Jb(),r!==null)){e.cancelPendingCommit=r(uv.bind(null,e,s,l,h,_,T,C,1,nt,Y)),ni(e,d,_,!U);return}uv(e,s,l,h,_,T,C,Z,nt,Y)}function pb(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(e,r,s,l){r&=~ld,r&=~ka,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-ln(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&mi(e,s,r)}function sc(){return(he&6)===0?(hl(0),!1):!0}function pd(){if(zt!==null){if(ae===0)var e=zt.return;else e=zt,Yr=Na=null,Tf(e),Ss=null,Fo=0,e=zt;for(;e!==null;)Wy(e.alternate,e),e=e.return;zt=null}}function zs(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Mb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),pd(),ie=e,zt=s=ki(e.current,null),Bt=r,ae=0,Rn=null,ti=!1,Ns=fi(e,r),od=!1,Ms=Hn=ld=ka=Ui=ge=0,Er=ll=null,ud=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-ln(l),d=1<<h;r|=e[h],l&=~d}return ei=r,Iu(),s}function rv(e,r){Vt=null,w.H=_r,r===qo?(r=vg(),ae=3):r===pg?(r=vg(),ae=4):ae=r===gy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,zt===null&&(ge=1,Xu(e,kn(r,e.current)))}function iv(){var e=w.H;return w.H=_r,e===null?_r:e}function av(){var e=w.A;return w.A=db,e}function gd(){ge=4,ti||(Bt&4194176)!==Bt&&jn.current!==null||(Ns=!0),(Ui&134217727)===0&&(ka&134217727)===0||ie===null||ni(ie,Bt,Hn,!1)}function yd(e,r,s){var l=he;he|=2;var h=iv(),d=av();(ie!==e||Bt!==r)&&(ic=null,zs(e,r)),r=!1;var _=ge;t:do try{if(ae!==0&&zt!==null){var T=zt,C=Rn;switch(ae){case 8:pd(),_=6;break t;case 3:case 2:case 6:jn.current===null&&(r=!0);var U=ae;if(ae=0,Rn=null,Ps(e,T,C,U),s&&Ns){_=0;break t}break;default:U=ae,ae=0,Rn=null,Ps(e,T,C,U)}}gb(),_=ge;break}catch(Z){rv(e,Z)}while(!0);return r&&e.shellSuspendCounter++,Yr=Na=null,he=l,w.H=h,w.A=d,zt===null&&(ie=null,Bt=0,Iu()),_}function gb(){for(;zt!==null;)sv(zt)}function yb(e,r){var s=he;he|=2;var l=iv(),h=av();ie!==e||Bt!==r?(ic=null,rc=mn()+500,zs(e,r)):Ns=fi(e,r);t:do try{if(ae!==0&&zt!==null){r=zt;var d=Rn;e:switch(ae){case 1:ae=0,Rn=null,Ps(e,r,d,1);break;case 2:if(gg(d)){ae=0,Rn=null,ov(r);break}r=function(){ae===2&&ie===e&&(ae=7),Tr(e)},d.then(r,r);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:gg(d)?(ae=0,Rn=null,ov(r)):(ae=0,Rn=null,Ps(e,r,d,7));break;case 5:var _=null;switch(zt.tag){case 26:_=zt.memoizedState;case 5:case 27:var T=zt;if(!_||Pv(_)){ae=0,Rn=null;var C=T.sibling;if(C!==null)zt=C;else{var U=T.return;U!==null?(zt=U,oc(U)):zt=null}break e}}ae=0,Rn=null,Ps(e,r,d,5);break;case 6:ae=0,Rn=null,Ps(e,r,d,6);break;case 8:pd(),ge=6;break t;default:throw Error(a(462))}}vb();break}catch(Z){rv(e,Z)}while(!0);return Yr=Na=null,w.H=l,w.A=h,he=s,zt!==null?0:(ie=null,Bt=0,Iu(),ge)}function vb(){for(;zt!==null&&!Hh();)sv(zt)}function sv(e){var r=xy(e.alternate,e,ei);e.memoizedProps=e.pendingProps,r===null?oc(e):zt=r}function ov(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=by(s,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=by(s,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Tf(r);default:Wy(s,r),r=zt=Xy(r,ei),r=xy(s,r,ei)}e.memoizedProps=e.pendingProps,r===null?oc(e):zt=r}function Ps(e,r,s,l){Yr=Na=null,Tf(r),Ss=null,Fo=0;var h=r.return;try{if(sb(e,h,r,s,Bt)){ge=1,Xu(e,kn(s,e.current)),zt=null;return}}catch(d){if(h!==null)throw zt=h,d;ge=1,Xu(e,kn(s,e.current)),zt=null;return}r.flags&32768?(Gt||l===1?e=!0:Ns||(Bt&536870912)!==0?e=!1:(ti=e=!0,(l===2||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(r,e)):oc(r)}function oc(e){var r=e;do{if((r.flags&32768)!==0){lv(r,ti);return}e=r.return;var s=hb(r.alternate,r,ei);if(s!==null){zt=s;return}if(r=r.sibling,r!==null){zt=r;return}zt=r=e}while(r!==null);ge===0&&(ge=5)}function lv(e,r){do{var s=fb(e.alternate,e);if(s!==null){s.flags&=32767,zt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){zt=e;return}zt=e=s}while(e!==null);ge=6,zt=null}function uv(e,r,s,l,h,d,_,T,C,U){var Z=w.T,nt=ht.p;try{ht.p=2,w.T=null,_b(e,r,s,l,nt,h,d,_,T,C,U)}finally{w.T=Z,ht.p=nt}}function _b(e,r,s,l,h,d,_,T){do ks();while(Ua!==null);if((he&6)!==0)throw Error(a(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=sf,uu(e,l,U,d,_,T),e===ie&&(zt=ie=null,Bt=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||ac||(ac=!0,hd=U,fd=s,Sb(Nr,function(){return ks(),null})),s=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||s?(s=w.T,w.T=null,d=ht.p,ht.p=2,_=he,he|=4,lb(e,C),qy(C,e),qT(Dd,e.containerInfo),_c=!!xd,Dd=xd=null,e.current=C,Ly(e,C.alternate,C),vo(),he=_,ht.p=d,w.T=s):e.current=C,ac?(ac=!1,Ua=e,ul=l):cv(e,U),U=e.pendingLanes,U===0&&(Li=null),Eo(C.stateNode),Tr(e),r!==null)for(h=e.onRecoverableError,C=0;C<r.length;C++)U=r[C],h(U.value,{componentStack:U.stack});return(ul&3)!==0&&ks(),U=e.pendingLanes,(l&4194218)!==0&&(U&42)!==0?e===dd?cl++:(cl=0,dd=e):cl=0,hl(0),null}function cv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Qo(r)))}function ks(){if(Ua!==null){var e=Ua,r=hd;hd=0;var s=cu(ul),l=w.T,h=ht.p;try{if(ht.p=32>s?32:s,w.T=null,Ua===null)var d=!1;else{s=fd,fd=null;var _=Ua,T=ul;if(Ua=null,ul=0,(he&6)!==0)throw Error(a(331));var C=he;if(he|=4,Yy(_.current),Fy(_,_.current,T,s),he=C,hl(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ci,_)}catch{}d=!0}return d}finally{ht.p=h,w.T=l,cv(e,r)}}return!1}function hv(e,r,s){r=kn(s,r),r=zf(e.stateNode,r,2),e=Ni(e,r,2),e!==null&&(_e(e,2),Tr(e))}function ne(e,r,s){if(e.tag===3)hv(e,e,s);else for(;r!==null;){if(r.tag===3){hv(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){e=kn(s,e),s=my(2),l=Ni(r,s,2),l!==null&&(py(s,l,r,e),_e(l,2),Tr(l));break}}r=r.return}}function vd(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new mb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(od=!0,h.add(s),e=Eb.bind(null,e,r,s),r.then(e,e))}function Eb(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ie===e&&(Bt&s)===s&&(ge===4||ge===3&&(Bt&62914560)===Bt&&300>mn()-cd?(he&2)===0&&zs(e,0):ld|=s,Ms===Bt&&(Ms=0)),Tr(e)}function fv(e,r){r===0&&(r=di()),e=wi(e,r),e!==null&&(_e(e,r),Tr(e))}function Tb(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),fv(e,s)}function bb(e,r){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),fv(e,s)}function Sb(e,r){return la(e,r)}var lc=null,Us=null,_d=!1,uc=!1,Ed=!1,La=0;function Tr(e){e!==Us&&e.next===null&&(Us===null?lc=Us=e:Us=Us.next=e),uc=!0,_d||(_d=!0,wb(Ab))}function hl(e,r){if(!Ed&&uc){Ed=!0;do for(var s=!1,l=lc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ln(42|e)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,pv(l,d))}else d=Bt,d=In(l,l===ie?d:0),(d&3)===0||fi(l,d)||(s=!0,pv(l,d));l=l.next}while(s);Ed=!1}}function Ab(){uc=_d=!1;var e=0;La!==0&&(Nb()&&(e=La),La=0);for(var r=mn(),s=null,l=lc;l!==null;){var h=l.next,d=dv(l,r);d===0?(l.next=null,s===null?lc=h:s.next=h,h===null&&(Us=s)):(s=l,(e!==0||(d&3)!==0)&&(uc=!0)),l=h}hl(e)}function dv(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ln(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&l)!==0)&&(h[_]=ns(T,r)):C<=r&&(e.expiredLanes|=T),d&=~T}if(r=ie,s=Bt,s=In(e,e===r?s:0),l=e.callbackNode,s===0||e===r&&ae===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&es(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||fi(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(l!==null&&es(l),cu(s)){case 2:case 8:s=ke;break;case 32:s=Nr;break;case 268435456:s=_o;break;default:s=Nr}return l=mv.bind(null,e),s=la(s,l),e.callbackPriority=r,e.callbackNode=s,r}return l!==null&&l!==null&&es(l),e.callbackPriority=2,e.callbackNode=null,2}function mv(e,r){var s=e.callbackNode;if(ks()&&e.callbackNode!==s)return null;var l=Bt;return l=In(e,e===ie?l:0),l===0?null:(ev(e,l,r),dv(e,mn()),e.callbackNode!=null&&e.callbackNode===s?mv.bind(null,e):null)}function pv(e,r){if(ks())return null;ev(e,r,!0)}function wb(e){zb(function(){(he&6)!==0?la(De,e):e()})}function Td(){return La===0&&(La=bo()),La}function gv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function yv(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function Rb(e,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=gv((h[Ie]||null).action),_=l.submitter;_&&(r=(r=_[Ie]||null)?gv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new us("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(La!==0){var C=_?yv(h,_):new FormData(h);If(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?yv(h,_):new FormData(h),If(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var bd=0;bd<ug.length;bd++){var Sd=ug[bd],Cb=Sd.toLowerCase(),xb=Sd[0].toUpperCase()+Sd.slice(1);Xn(Cb,"on"+xb)}Xn(ig,"onAnimationEnd"),Xn(ag,"onAnimationIteration"),Xn(sg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(FT,"onTransitionRun"),Xn(GT,"onTransitionStart"),Xn(QT,"onTransitionCancel"),Xn(og,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function vv(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Z){Ku(Z)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Z){Ku(Z)}h.currentTarget=null,d=C}}}}function Ut(e,r){var s=r[ca];s===void 0&&(s=r[ca]=new Set);var l=e+"__bubble";s.has(l)||(_v(r,e,2,!1),s.add(l))}function Ad(e,r,s){var l=0;r&&(l|=4),_v(s,e,l,r)}var cc="_reactListening"+Math.random().toString(36).slice(2);function wd(e){if(!e[cc]){e[cc]=!0,Ao.forEach(function(s){s!=="selectionchange"&&(Db.has(s)||Ad(s,!1,e),Ad(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[cc]||(r[cc]=!0,Ad("selectionchange",!1,r))}}function _v(e,r,s,l){switch($v(r)){case 2:var h=eS;break;case 8:h=nS;break;default:h=Ud}s=h.bind(null,r,s,e),h=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,s,{capture:!0,passive:h}):e.addEventListener(r,s,!0):h!==void 0?e.addEventListener(r,s,{passive:h}):e.addEventListener(r,s,!1)}function Rd(e,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Kn(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}pu(function(){var U=d,Z=ls(s),nt=[];t:{var Y=lg.get(e);if(Y!==void 0){var X=us,pt=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":X=ps;break;case"focusin":pt="focus",X=fs;break;case"focusout":pt="blur",X=fs;break;case"beforeblur":case"afterblur":X=fs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Su;break;case ig:case ag:case sg:X=ds;break;case og:X=wu;break;case"scroll":case"scrollend":X=gu;break;case"wheel":X=gs;break;case"copy":case"cut":case"paste":X=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Po;break;case"toggle":case"beforetoggle":X=Cu}var Ct=(r&4)!==0,ye=!Ct&&(e==="scroll"||e==="scrollend"),$=Ct?Y!==null?Y+"Capture":null:Y;Ct=[];for(var k=U,Q;k!==null;){var J=k;if(Q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Q===null||$===null||(J=pa(k,$),J!=null&&Ct.push(dl(k,J,Q))),ye)break;k=k.return}0<Ct.length&&(Y=new X(Y,pt,null,s,Z),nt.push({event:Y,listeners:Ct}))}}if((r&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Y&&s!==Nn&&(pt=s.relatedTarget||s.fromElement)&&(Kn(pt)||pt[Mr]))break t;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pt=s.relatedTarget||s.toElement,X=U,pt=pt?Kn(pt):null,pt!==null&&(ye=mt(pt),Ct=pt.tag,pt!==ye||Ct!==5&&Ct!==27&&Ct!==6)&&(pt=null)):(X=null,pt=U),X!==pt)){if(Ct=zn,J="onMouseLeave",$="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Ct=Po,J="onPointerLeave",$="onPointerEnter",k="pointer"),ye=X==null?Y:vi(X),Q=pt==null?Y:vi(pt),Y=new Ct(J,k+"leave",X,s,Z),Y.target=ye,Y.relatedTarget=Q,J=null,Kn(Z)===U&&(Ct=new Ct($,k+"enter",pt,s,Z),Ct.target=Q,Ct.relatedTarget=ye,J=Ct),ye=J,X&&pt)e:{for(Ct=X,$=pt,k=0,Q=Ct;Q;Q=Ls(Q))k++;for(Q=0,J=$;J;J=Ls(J))Q++;for(;0<k-Q;)Ct=Ls(Ct),k--;for(;0<Q-k;)$=Ls($),Q--;for(;k--;){if(Ct===$||$!==null&&Ct===$.alternate)break e;Ct=Ls(Ct),$=Ls($)}Ct=null}else Ct=null;X!==null&&Ev(nt,Y,X,Ct,!1),pt!==null&&ye!==null&&Ev(nt,ye,pt,Ct,!0)}}t:{if(Y=U?vi(U):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var dt=Qp;else if(Ve(Y))if(Yp)dt=BT;else{dt=LT;var Mt=UT}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?U&&Do(U.elementType)&&(dt=Qp):dt=jT;if(dt&&(dt=dt(e,U))){$r(nt,dt,s,Z);break t}Mt&&Mt(e,Y,U),e==="focusout"&&U&&Y.type==="number"&&U.memoizedProps.value!=null&&os(Y,"number",Y.value)}switch(Mt=U?vi(U):window,e){case"focusin":(Ve(Mt)||Mt.contentEditable==="true")&&(ys=Mt,nf=U,Lo=null);break;case"focusout":Lo=nf=ys=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,ng(nt,s,Z);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":ng(nt,s,Z)}var vt;if(pr)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Lt?K(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&s.locale!=="ko"&&(Lt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Lt&&(vt=Oo()):(hr=Z,Ai="value"in hr?hr.value:hr.textContent,Lt=!0)),Mt=hc(U,Tt),0<Mt.length&&(Tt=new Mo(Tt,e,null,s,Z),nt.push({event:Tt,listeners:Mt}),vt?Tt.data=vt:(vt=lt(s),vt!==null&&(Tt.data=vt)))),(vt=p?Oe(e,s):jt(e,s))&&(Tt=hc(U,"onBeforeInput"),0<Tt.length&&(Mt=new Mo("onBeforeInput","beforeinput",null,s,Z),nt.push({event:Mt,listeners:Tt}),Mt.data=vt)),Rb(nt,e,U,s,Z)}vv(nt,r)})}function dl(e,r,s){return{instance:e,listener:r,currentTarget:s}}function hc(e,r){for(var s=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=pa(e,s),h!=null&&l.unshift(dl(e,h,d)),h=pa(e,r),h!=null&&l.push(dl(e,h,d))),e=e.return}return l}function Ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ev(e,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=pa(s,d),U!=null&&_.unshift(dl(s,U,C))):h||(U=pa(s,d),U!=null&&_.push(dl(s,U,C)))),s=s.return}_.length!==0&&e.push({event:r,listeners:_})}var Ib=/\r\n?/g,Ob=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(Ib,`
`).replace(Ob,"")}function bv(e,r){return r=Tv(r),Tv(e)===r}function fc(){}function te(e,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Vn(e,""+l);break;case"className":Ti(e,"class",l);break;case"tabIndex":Ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,s,l);break;case"style":mu(e,l,d);break;case"data":if(r!=="object"){Ti(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=cr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&te(e,r,"name",h.name,h,null),te(e,r,"formEncType",h.formEncType,h,null),te(e,r,"formMethod",h.formMethod,h,null),te(e,r,"formTarget",h.formTarget,h,null)):(te(e,r,"encType",h.encType,h,null),te(e,r,"method",h.method,h,null),te(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=cr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=fc);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=cr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),Ei(e,"popover",l);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ei(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Kh.get(s)||s,Ei(e,s,l))}}function Cd(e,r,s,l,h,d){switch(s){case"style":mu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=e[Ie]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ei(e,s,l)}}}function Ke(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:te(e,r,d,_,s,null)}}h&&te(e,r,"srcSet",s.srcSet,s,null),l&&te(e,r,"src",s.src,s,null);return;case"input":Ut("invalid",e);var T=d=_=h=null,C=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":U=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:te(e,r,l,Z,s,null)}}da(e,d,T,C,U,_,h,!1),fa(e);return;case"select":Ut("invalid",e),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:te(e,r,h,T,s,null)}r=d,s=_,e.multiple=!!l,r!=null?Ft(e,!!l,r,!1):s!=null&&Ft(e,!!l,s,!0);return;case"textarea":Ut("invalid",e),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:te(e,r,_,T,s,null)}Si(e,l,h,d),fa(e);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,r,C,l,s,null)}return;case"dialog":Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ut(fl[l],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:te(e,r,U,l,s,null)}return;default:if(Do(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Cd(e,r,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&te(e,r,T,l,s,null))}function Vb(e,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,U=null,Z=null;for(X in s){var nt=s[X];if(s.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=nt;default:l.hasOwnProperty(X)||te(e,r,X,null,l,nt)}}for(var Y in l){var X=l[Y];if(nt=s[Y],l.hasOwnProperty(Y)&&(X!=null||nt!=null))switch(Y){case"type":d=X;break;case"name":h=X;break;case"checked":U=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:X!==nt&&te(e,r,Y,X,l,nt)}}bi(e,_,T,C,U,Z,d,h);return;case"select":X=_=T=Y=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||te(e,r,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&te(e,r,h,d,l,C)}r=T,s=_,l=X,Y!=null?Ft(e,!!s,Y,!1):!!l!=!!s&&(r!=null?Ft(e,!!s,r,!0):Ft(e,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Y=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&te(e,r,_,h,l,d)}ma(e,Y,X);return;case"option":for(var pt in s)if(Y=s[pt],s.hasOwnProperty(pt)&&Y!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:te(e,r,pt,null,l,Y)}for(C in l)if(Y=l[C],X=s[C],l.hasOwnProperty(C)&&Y!==X&&(Y!=null||X!=null))switch(C){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:te(e,r,C,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in s)Y=s[Ct],s.hasOwnProperty(Ct)&&Y!=null&&!l.hasOwnProperty(Ct)&&te(e,r,Ct,null,l,Y);for(U in l)if(Y=l[U],X=s[U],l.hasOwnProperty(U)&&Y!==X&&(Y!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:te(e,r,U,Y,l,X)}return;default:if(Do(r)){for(var ye in s)Y=s[ye],s.hasOwnProperty(ye)&&Y!==void 0&&!l.hasOwnProperty(ye)&&Cd(e,r,ye,void 0,l,Y);for(Z in l)Y=l[Z],X=s[Z],!l.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Cd(e,r,Z,Y,l,X);return}}for(var $ in s)Y=s[$],s.hasOwnProperty($)&&Y!=null&&!l.hasOwnProperty($)&&te(e,r,$,null,l,Y);for(nt in l)Y=l[nt],X=s[nt],!l.hasOwnProperty(nt)||Y===X||Y==null&&X==null||te(e,r,nt,Y,l,X)}var xd=null,Dd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Sv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Av(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Id(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Od=null;function Nb(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var wv=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(e){return Rv.resolve(null).then(e).catch(Pb)}:wv;function Pb(e){setTimeout(function(){throw e})}function Vd(e,r){var s=r,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){e.removeChild(h),Tl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Tl(r)}function Nd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function kb(e,r,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[yi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function Ub(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Wn(e.nextSibling),e===null))return null;return e}function Wn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}function Cv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}function xv(e,r,s){switch(r=dc(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var Fn=new Map,Dv=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ri=ht.d;ht.d={f:Lb,r:jb,D:Bb,C:$b,L:qb,m:Hb,X:Gb,S:Fb,M:Qb};function Lb(){var e=ri.f(),r=sc();return e||r}function jb(e){var r=zr(e);r!==null&&r.tag===5&&r.type==="form"?ny(r):ri.r(e)}var js=typeof document>"u"?null:document;function Iv(e,r,s){var l=js;if(l&&typeof r=="string"&&r){var h=me(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Dv.has(h)||(Dv.add(h),e={rel:e,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ke(r,"link",e),ue(r),l.head.appendChild(r)))}}function Bb(e){ri.D(e),Iv("dns-prefetch",e,null)}function $b(e,r){ri.C(e,r),Iv("preconnect",e,r)}function qb(e,r,s){ri.L(e,r,s);var l=js;if(l&&e&&r){var h='link[rel="preload"][as="'+me(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+me(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+me(s.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(r){case"style":d=Bs(e);break;case"script":d=$s(e)}Fn.has(d)||(e=V({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),Fn.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(ml(d))||r==="script"&&l.querySelector(pl(d))||(r=l.createElement("link"),Ke(r,"link",e),ue(r),l.head.appendChild(r)))}}function Hb(e,r){ri.m(e,r);var s=js;if(s&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$s(e)}if(!Fn.has(d)&&(e=V({rel:"modulepreload",href:e},r),Fn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(pl(d)))return}l=s.createElement("link"),Ke(l,"link",e),ue(l),s.head.appendChild(l)}}}function Fb(e,r,s){ri.S(e,r,s);var l=js;if(l&&e){var h=_i(l).hoistableStyles,d=Bs(e);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ml(d)))T.loading=5;else{e=V({rel:"stylesheet",href:e,"data-precedence":r},s),(s=Fn.get(d))&&Md(e,s);var C=_=l.createElement("link");ue(C),Ke(C,"link",e),C._p=new Promise(function(U,Z){C.onload=U,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Gb(e,r){ri.X(e,r);var s=js;if(s&&e){var l=_i(s).hoistableScripts,h=$s(e),d=l.get(h);d||(d=s.querySelector(pl(h)),d||(e=V({src:e,async:!0},r),(r=Fn.get(h))&&zd(e,r),d=s.createElement("script"),ue(d),Ke(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Qb(e,r){ri.M(e,r);var s=js;if(s&&e){var l=_i(s).hoistableScripts,h=$s(e),d=l.get(h);d||(d=s.querySelector(pl(h)),d||(e=V({src:e,async:!0,type:"module"},r),(r=Fn.get(h))&&zd(e,r),d=s.createElement("script"),ue(d),Ke(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ov(e,r,s,l){var h=(h=se.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Bs(s.href),s=_i(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Bs(s.href);var d=_i(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(ml(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(e,s),d||Yb(h,e,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$s(s),s=_i(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Bs(e){return'href="'+me(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function Vv(e){return V({},e,{"data-precedence":e.precedence,precedence:null})}function Yb(e,r,s,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",s),ue(r),e.head.appendChild(r))}function $s(e){return'[src="'+me(e)+'"]'}function pl(e){return"script[async]"+e}function Nv(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+me(s.href)+'"]');if(l)return r.instance=l,ue(l),l;var h=V({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),Ke(l,"style",h),pc(l,s.precedence,e),r.instance=l;case"stylesheet":h=Bs(s.href);var d=e.querySelector(ml(h));if(d)return r.state.loading|=4,r.instance=d,ue(d),d;l=Vv(s),(h=Fn.get(h))&&Md(l,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),r.state.loading|=4,pc(d,s.precedence,e),r.instance=d;case"script":return d=$s(s.src),(h=e.querySelector(pl(d)))?(r.instance=h,ue(h),h):(l=s,(h=Fn.get(d))&&(l=V({},s),zd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Ke(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,pc(l,s.precedence,e));return r.instance}function pc(e,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function Md(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function zd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var gc=null;function Mv(e,r,s){if(gc===null){var l=new Map,h=gc=new Map;h.set(s,l)}else h=gc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[yi]||d[Ue]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function zv(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function Kb(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Pv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gl=null;function Xb(){}function Zb(e,r,s){if(gl===null)throw Error(a(475));var l=gl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Bs(s.href),d=e.querySelector(ml(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=yc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,ue(d);return}d=e.ownerDocument||e,s=Vv(s),(h=Fn.get(h))&&Md(s,h),d=d.createElement("link"),ue(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=yc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function Jb(){if(gl===null)throw Error(a(475));var e=gl;return e.stylesheets&&e.count===0&&Pd(e,e.stylesheets),0<e.count?function(r){var s=setTimeout(function(){if(e.stylesheets&&Pd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s)}}:null}function yc(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Pd(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,r.forEach(Wb,e),vc=null,yc.call(e))}function Wb(e,r){if(!(r.state.loading&4)){var s=vc.get(e);if(s)var l=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var yl={$$typeof:x,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function tS(e,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function kv(e,r,s,l,h,d,_,T,C,U,Z,nt){return e=new tS(e,r,s,_,T,C,U,nt),r=1,d===!0&&(r|=24),d=qn(3,null,null,r),e.current=d,d.stateNode=e,r=mf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Yf(d),e}function Uv(e){return e?(e=Es,e):Es}function Lv(e,r,s,l,h,d){h=Uv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ni(e,l,r),s!==null&&(fn(s,e,r),tl(s,e,r))}function jv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function kd(e,r){jv(e,r),(e=e.alternate)&&jv(e,r)}function Bv(e){if(e.tag===13){var r=wi(e,67108864);r!==null&&fn(r,e,67108864),kd(e,67108864)}}var _c=!0;function eS(e,r,s,l){var h=w.T;w.T=null;var d=ht.p;try{ht.p=2,Ud(e,r,s,l)}finally{ht.p=d,w.T=h}}function nS(e,r,s,l){var h=w.T;w.T=null;var d=ht.p;try{ht.p=8,Ud(e,r,s,l)}finally{ht.p=d,w.T=h}}function Ud(e,r,s,l){if(_c){var h=Ld(l);if(h===null)Rd(e,r,l,Ec,s),qv(e,l);else if(iS(h,e,r,s,l))l.stopPropagation();else if(qv(e,l),r&4&&-1<rS.indexOf(e)){for(;h!==null;){var d=zr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Yn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-ln(_);T.entanglements[1]|=C,_&=~C}Tr(d),(he&6)===0&&(rc=mn()+500,hl(0))}}break;case 13:T=wi(d,2),T!==null&&fn(T,d,2),sc(),kd(d,2)}if(d=Ld(l),d===null&&Rd(e,r,l,Ec,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rd(e,r,l,null,s)}}function Ld(e){return e=ls(e),jd(e)}var Ec=null;function jd(e){if(Ec=null,e=Kn(e),e!==null){var r=mt(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=wt(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Ec=e,null}function $v(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(au()){case De:return 2;case ke:return 8;case Nr:case su:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Bd=!1,ji=null,Bi=null,$i=null,vl=new Map,_l=new Map,qi=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(e,r){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(r.pointerId)}}function El(e,r,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=zr(r),r!==null&&Bv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function iS(e,r,s,l,h){switch(r){case"focusin":return ji=El(ji,e,r,s,l,h),!0;case"dragenter":return Bi=El(Bi,e,r,s,l,h),!0;case"mouseover":return $i=El($i,e,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,El(vl.get(d)||null,e,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,El(_l.get(d)||null,e,r,s,l,h)),!0}return!1}function Hv(e){var r=Kn(e.target);if(r!==null){var s=mt(r);if(s!==null){if(r=s.tag,r===13){if(r=wt(s),r!==null){e.blockedOn=r,gi(e.priority,function(){if(s.tag===13){var l=Cn(),h=wi(s,l);h!==null&&fn(h,s,l),kd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Ld(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Nn=l,s.target.dispatchEvent(l),Nn=null}else return r=zr(s),r!==null&&Bv(r),e.blockedOn=s,!1;r.shift()}return!0}function Fv(e,r,s){Tc(e)&&s.delete(r)}function aS(){Bd=!1,ji!==null&&Tc(ji)&&(ji=null),Bi!==null&&Tc(Bi)&&(Bi=null),$i!==null&&Tc($i)&&($i=null),vl.forEach(Fv),_l.forEach(Fv)}function bc(e,r){e.blockedOn===r&&(e.blockedOn=null,Bd||(Bd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aS)))}var Sc=null;function Gv(e){Sc!==e&&(Sc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var r=0;r<e.length;r+=3){var s=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(jd(l||s)===null)continue;break}var d=zr(s);d!==null&&(e.splice(r,3),r-=3,If(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Tl(e){function r(C){return bc(C,e)}ji!==null&&bc(ji,e),Bi!==null&&bc(Bi,e),$i!==null&&bc($i,e),vl.forEach(r),_l.forEach(r);for(var s=0;s<qi.length;s++){var l=qi[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qi.length&&(s=qi[0],s.blockedOn===null);)Hv(s),s.blockedOn===null&&qi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Ie]||null;if(typeof d=="function")_||Gv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ie]||null)T=_.formAction;else if(jd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Gv(s)}}}function $d(e){this._internalRoot=e}Ac.prototype.render=$d.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Cn();Lv(s,l,e,r,null,null)},Ac.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;e.tag===0&&ks(),Lv(e.current,2,null,e,null,null),sc(),r[Mr]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var r=hu();e={blockedOn:null,target:e,priority:r};for(var s=0;s<qi.length&&r!==0&&r<qi[s].priority;s++);qi.splice(s,0,e),s===0&&Hv(e)}};var Qv=t.version;if(Qv!=="19.0.0")throw Error(a(527,Qv,"19.0.0"));ht.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=et(r),e=e!==null?ct(e):null,e=e===null?null:e.stateNode,e};var sS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{ci=wc.inject(sS),tn=wc}catch{}}return Sl.createRoot=function(e,r){if(!o(e))throw Error(a(299));var s=!1,l="",h=cy,d=hy,_=fy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=kv(e,1,!1,null,null,s,l,h,d,_,T,null),e[Mr]=r.current,wd(e.nodeType===8?e.parentNode:e),new $d(r)},Sl.hydrateRoot=function(e,r,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=cy,_=hy,T=fy,C=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),r=kv(e,1,!0,r,s??null,l,h,d,_,T,C,U),r.context=Uv(null),s=r.current,l=Cn(),h=Vi(l),h.callback=null,Ni(s,h,l),r.current.lanes=l,_e(r,l),Tr(r),e[Mr]=r.current,wd(e),new Ac(r)},Sl.version="19.0.0",Sl}var r0;function yS(){if(r0)return Fd.exports;r0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Fd.exports=gS(),Fd.exports}var vS=yS(),Al={},i0;function _S(){if(i0)return Al;i0=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.parse=f,Al.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,x){const D=new u,H=A.length;if(H<2)return D;const M=(x==null?void 0:x.decode)||E;let j=0;do{const F=A.indexOf("=",j);if(F===-1)break;const G=A.indexOf(";",j),rt=G===-1?H:G;if(F>rt){j=A.lastIndexOf(";",F-1)+1;continue}const st=m(A,j,F),ut=g(A,F,st),I=A.slice(st,ut);if(D[I]===void 0){let R=m(A,F+1,rt),w=g(A,rt,R);const V=M(A.slice(R,w));D[I]=V}j=rt+1}while(j<H);return D}function m(A,x,D){do{const H=A.charCodeAt(x);if(H!==32&&H!==9)return x}while(++x<D);return D}function g(A,x,D){for(;x>D;){const H=A.charCodeAt(--x);if(H!==32&&H!==9)return x+1}return D}function y(A,x,D){const H=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const M=H(x);if(!t.test(M))throw new TypeError(`argument val is invalid: ${x}`);let j=A+"="+M;if(!D)return j;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);j+="; Max-Age="+D.maxAge}if(D.domain){if(!i.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);j+="; Domain="+D.domain}if(D.path){if(!a.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);j+="; Path="+D.path}if(D.expires){if(!S(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);j+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(j+="; HttpOnly"),D.secure&&(j+="; Secure"),D.partitioned&&(j+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return j}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return Al}_S();var a0="popstate";function ES(n={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Ka(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Em("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Pl(u))}function a(o,u){nr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return bS(t,i,a,n)}function fe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function nr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TS(){return Math.random().toString(36).substring(2,10)}function s0(n,t){return{usr:n.state,key:n.key,idx:t}}function Em(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ka(t):t,state:i,key:t&&t.key||a||TS()}}function Pl({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Ka(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function bS(n,t,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let M=E(),j=M==null?null:M-y;y=M,g&&g({action:m,location:H.location,delta:j})}function A(M,j){m="PUSH";let F=Em(H.location,M,j);i&&i(F,M),y=E()+1;let G=s0(F,y),rt=H.createHref(F);try{f.pushState(G,"",rt)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(rt)}u&&g&&g({action:m,location:H.location,delta:1})}function x(M,j){m="REPLACE";let F=Em(H.location,M,j);i&&i(F,M),y=E();let G=s0(F,y),rt=H.createHref(F);f.replaceState(G,"",rt),u&&g&&g({action:m,location:H.location,delta:0})}function D(M){return SS(M)}let H={get action(){return m},get location(){return n(o,f)},listen(M){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(a0,S),g=M,()=>{o.removeEventListener(a0,S),g=null}},createHref(M){return t(o,M)},createURL:D,encodeLocation(M){let j=D(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:x,go(M){return f.go(M)}};return H}function SS(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),fe(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Pl(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function J_(n,t,i="/"){return AS(n,t,i,!1)}function AS(n,t,i,a){let o=typeof t=="string"?Ka(t):t,u=si(o.pathname||"/",i);if(u==null)return null;let f=W_(n);wS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=PS(u);m=MS(f[g],y,a)}return m}function W_(n,t=[],i=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(fe(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=ai([a,g.relativePath]),E=i.concat(g);u.children&&u.children.length>0&&(fe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),W_(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:VS(y,u.index),routesMeta:E})};return n.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of tE(u.path))o(u,f,g)}),t}function tE(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=tE(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function wS(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:NS(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var RS=/^:[\w-]+$/,CS=3,xS=2,DS=1,IS=10,OS=-2,o0=n=>n==="*";function VS(n,t){let i=n.split("/"),a=i.length;return i.some(o0)&&(a+=OS),t&&(a+=xS),i.filter(o=>!o0(o)).reduce((o,u)=>o+(RS.test(u)?CS:u===""?DS:IS),a)}function NS(n,t){return n.length===t.length&&n.slice(0,-1).every((a,o)=>a===t[o])?n[n.length-1]-t[t.length-1]:0}function MS(n,t,i=!1){let{routesMeta:a}=n,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!S&&y&&i&&!a[a.length-1].route.index&&(S=Zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ai([u,S.pathname]),pathnameBase:jS(ai([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=ai([u,S.pathnameBase]))}return f}function Zc(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=zS(n.path,n.caseSensitive,n.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:S},A)=>{if(E==="*"){let D=m[A]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const x=m[A];return S&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:n}}function zS(n,t=!1,i=!0){nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function PS(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function si(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}function kS(n,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof n=="string"?Ka(n):n;return{pathname:i?i.startsWith("/")?i:US(i,t):t,search:BS(a),hash:$S(o)}}function US(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Kd(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LS(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function eE(n){let t=LS(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function nE(n,t,i,a=!1){let o;typeof n=="string"?o=Ka(n):(o={...n},fe(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let S=t.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?t[S]:"/"}let g=kS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ai=n=>n.join("/").replace(/\/\/+/g,"/"),jS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$S=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rE=["POST","PUT","PATCH","DELETE"];new Set(rE);var HS=["GET",...rE];new Set(HS);var co=L.createContext(null);co.displayName="DataRouter";var _h=L.createContext(null);_h.displayName="DataRouterState";var iE=L.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var FS=L.createContext(new Map);FS.displayName="Fetchers";var GS=L.createContext(null);GS.displayName="Await";var Ir=L.createContext(null);Ir.displayName="Navigation";var Kl=L.createContext(null);Kl.displayName="Location";var Or=L.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var ep=L.createContext(null);ep.displayName="RouteError";function QS(n,{relative:t}={}){fe(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=L.useContext(Ir),{hash:o,pathname:u,search:f}=Zl(n,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:ai([i,u])),a.createHref({pathname:m,search:f,hash:o})}function Xl(){return L.useContext(Kl)!=null}function rr(){return fe(Xl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Kl).location}var aE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(n){L.useContext(Ir).static||L.useLayoutEffect(n)}function ir(){let{isDataRoute:n}=L.useContext(Or);return n?oA():YS()}function YS(){fe(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(co),{basename:t,navigator:i}=L.useContext(Ir),{matches:a}=L.useContext(Or),{pathname:o}=rr(),u=JSON.stringify(eE(a)),f=L.useRef(!1);return sE(()=>{f.current=!0}),L.useCallback((g,y={})=>{if(nr(f.current,aE),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=nE(g,JSON.parse(u),o,y.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ai([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,u,o,n])}L.createContext(null);function KS(){let{matches:n}=L.useContext(Or),t=n[n.length-1];return t?t.params:{}}function Zl(n,{relative:t}={}){let{matches:i}=L.useContext(Or),{pathname:a}=rr(),o=JSON.stringify(eE(i));return L.useMemo(()=>nE(n,JSON.parse(o),a,t==="path"),[n,o,a,t])}function XS(n,t){return oE(n,t)}function oE(n,t,i,a){var F;fe(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=L.useContext(Ir),{matches:f}=L.useContext(Or),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let G=S&&S.path||"";lE(y,!S||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=rr(),x;if(t){let G=typeof t=="string"?Ka(t):t;fe(E==="/"||((F=G.pathname)==null?void 0:F.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),x=G}else x=A;let D=x.pathname||"/",H=D;if(E!=="/"){let G=E.replace(/^\//,"").split("/");H="/"+D.replace(/^\//,"").split("/").slice(G.length).join("/")}let M=!u&&i&&i.matches&&i.matches.length>0?i.matches:J_(n,{pathname:H});nr(S||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),nr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=eA(M&&M.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:ai([E,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:ai([E,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),f,i,a);return t&&j?L.createElement(Kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function ZS(){let n=sA(),t=qS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:o},i):null,f)}var JS=L.createElement(ZS,null),WS=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?L.createElement(Or.Provider,{value:this.props.routeContext},L.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tA({routeContext:n,match:t,children:i}){let a=L.useContext(co);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Or.Provider,{value:n},i)}function eA(n,t=[],i=null,a=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let o=n,u=i==null?void 0:i.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);fe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(i)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=i,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,A=!1,x=null,D=null;i&&(S=u&&y.route.id?u[y.route.id]:void 0,x=y.route.errorElement||JS,f&&(m<0&&E===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,D=null):m===E&&(A=!0,D=y.route.hydrateFallbackElement||null)));let H=t.concat(o.slice(0,E+1)),M=()=>{let j;return S?j=x:A?j=D:y.route.Component?j=L.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=g,L.createElement(tA,{match:y,routeContext:{outlet:g,matches:H,isDataRoute:i!=null},children:j})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?L.createElement(WS,{location:i.location,revalidation:i.revalidation,component:x,error:S,children:M(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):M()},null)}function np(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nA(n){let t=L.useContext(co);return fe(t,np(n)),t}function rA(n){let t=L.useContext(_h);return fe(t,np(n)),t}function iA(n){let t=L.useContext(Or);return fe(t,np(n)),t}function rp(n){let t=iA(n),i=t.matches[t.matches.length-1];return fe(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function aA(){return rp("useRouteId")}function sA(){var a;let n=L.useContext(ep),t=rA("useRouteError"),i=rp("useRouteError");return n!==void 0?n:(a=t.errors)==null?void 0:a[i]}function oA(){let{router:n}=nA("useNavigate"),t=rp("useNavigate"),i=L.useRef(!1);return sE(()=>{i.current=!0}),L.useCallback(async(o,u={})=>{nr(i.current,aE),i.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var l0={};function lE(n,t,i){!t&&!l0[n]&&(l0[n]=!0,nr(!1,i))}L.memo(lA);function lA({routes:n,future:t,state:i}){return oE(n,void 0,i,t)}function tr(n){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uA({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){fe(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=Ka(i));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:A="default"}=i,x=L.useMemo(()=>{let D=si(g,f);return D==null?null:{location:{pathname:D,search:y,hash:E,state:S,key:A},navigationType:a}},[f,g,y,E,S,A,a]);return nr(x!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Ir.Provider,{value:m},L.createElement(Kl.Provider,{children:t,value:x}))}function cA({children:n,location:t}){return XS(Tm(n),t)}function Tm(n,t=[]){let i=[];return L.Children.forEach(n,(a,o)=>{if(!L.isValidElement(a))return;let u=[...t,o];if(a.type===L.Fragment){i.push.apply(i,Tm(a.props.children,u));return}fe(a.type===tr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Tm(a.props.children,u)),i.push(f)}),i}var Uc="get",Lc="application/x-www-form-urlencoded";function Eh(n){return n!=null&&typeof n.tagName=="string"}function hA(n){return Eh(n)&&n.tagName.toLowerCase()==="button"}function fA(n){return Eh(n)&&n.tagName.toLowerCase()==="form"}function dA(n){return Eh(n)&&n.tagName.toLowerCase()==="input"}function mA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pA(n,t){return n.button===0&&(!t||t==="_self")&&!mA(n)}var Rc=null;function gA(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var yA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(n){return n!=null&&!yA.has(n)?(nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):n}function vA(n,t){let i,a,o,u,f;if(fA(n)){let m=n.getAttribute("action");a=m?si(m,t):null,i=n.getAttribute("method")||Uc,o=Xd(n.getAttribute("enctype"))||Lc,u=new FormData(n)}else if(hA(n)||dA(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(a=g?si(g,t):null,i=n.getAttribute("formmethod")||m.getAttribute("method")||Uc,o=Xd(n.getAttribute("formenctype"))||Xd(m.getAttribute("enctype"))||Lc,u=new FormData(m,n),!gA()){let{name:y,type:E,value:S}=n;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,S)}}else{if(Eh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Uc,a=null,o=Lc,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}function ip(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function _A(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TA(n,t,i){let a=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await _A(u,i);return f.links?f.links():[]}return[]}));return wA(a.flat(1).filter(EA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u0(n,t,i,a,o,u){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>{var E;return i[y].pathname!==g.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var S;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function bA(n,t,{includeHydrateFallback:i}={}){return SA(n.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SA(n){return[...new Set(n)]}function AA(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function wA(n,t){let i=new Set;return new Set(t),n.reduce((a,o)=>{let u=JSON.stringify(AA(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RA=new Set([100,101,204,205]);function CA(n,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":t&&si(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function uE(){let n=L.useContext(co);return ip(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xA(){let n=L.useContext(_h);return ip(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ap=L.createContext(void 0);ap.displayName="FrameworkContext";function cE(){let n=L.useContext(ap);return ip(n,"You must render this element inside a <HydratedRouter> element"),n}function DA(n,t){let i=L.useContext(ap),[a,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,A=L.useRef(null);L.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let H=j=>{j.forEach(F=>{f(F.isIntersecting)})},M=new IntersectionObserver(H,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[n]),L.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let x=()=>{o(!0)},D=()=>{o(!1),f(!1)};return i?n!=="intent"?[u,A,{}]:[u,A,{onFocus:wl(m,x),onBlur:wl(g,D),onMouseEnter:wl(y,x),onMouseLeave:wl(E,D),onTouchStart:wl(S,x)}]:[!1,A,{}]}function wl(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function IA({page:n,...t}){let{router:i}=uE(),a=L.useMemo(()=>J_(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?L.createElement(VA,{page:n,matches:a,...t}):null}function OA(n){let{manifest:t,routeModules:i}=cE(),[a,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return TA(n,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[n,t,i]),a}function VA({page:n,matches:t,...i}){let a=rr(),{manifest:o,routeModules:u}=cE(),{basename:f}=uE(),{loaderData:m,matches:g}=xA(),y=L.useMemo(()=>u0(n,t,g,o,a,"data"),[n,t,g,o,a]),E=L.useMemo(()=>u0(n,t,g,o,a,"assets"),[n,t,g,o,a]),S=L.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let D=new Set,H=!1;if(t.forEach(j=>{var G;let F=o.routes[j.route.id];!F||!F.hasLoader||(!y.some(rt=>rt.route.id===j.route.id)&&j.route.id in m&&((G=u[j.route.id])!=null&&G.shouldRevalidate)||F.hasClientLoader?H=!0:D.add(j.route.id))}),D.size===0)return[];let M=CA(n,f);return H&&D.size>0&&M.searchParams.set("_routes",t.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[M.pathname+M.search]},[f,m,a,o,y,t,n,u]),A=L.useMemo(()=>bA(E,o),[E,o]),x=OA(E);return L.createElement(L.Fragment,null,S.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...i})),A.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...i})),x.map(({key:D,link:H})=>L.createElement("link",{key:D,...H})))}function NA(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hE&&(window.__reactRouterVersion="7.6.0")}catch{}function MA({basename:n,children:t,window:i}){let a=L.useRef();a.current==null&&(a.current=ES({window:i,v5Compat:!0}));let o=a.current,[u,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(g=>{L.startTransition(()=>f(g))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(uA,{basename:n,children:t,location:u.location,navigationType:u.action,navigator:o})}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=L.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...A},x){let{basename:D}=L.useContext(Ir),H=typeof y=="string"&&fE.test(y),M,j=!1;if(typeof y=="string"&&H&&(M=y,hE))try{let w=new URL(window.location.href),V=y.startsWith("//")?new URL(w.protocol+y):new URL(y),P=si(V.pathname,D);V.origin===w.origin&&P!=null?y=P+V.search+V.hash:j=!0}catch{nr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=QS(y,{relative:o}),[G,rt,st]=DA(a,A),ut=UA(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function I(w){t&&t(w),w.defaultPrevented||ut(w)}let R=L.createElement("a",{...A,...st,href:M||F,onClick:j||u?t:I,ref:NA(x,rt),target:g,"data-discover":!H&&i==="render"?"true":void 0});return G&&!H?L.createElement(L.Fragment,null,R,L.createElement(IA,{page:F})):R});dE.displayName="Link";var zA=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Zl(f,{relative:y.relative}),A=rr(),x=L.useContext(_h),{navigator:D,basename:H}=L.useContext(Ir),M=x!=null&&qA(S)&&m===!0,j=D.encodeLocation?D.encodeLocation(S).pathname:S.pathname,F=A.pathname,G=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(F=F.toLowerCase(),G=G?G.toLowerCase():null,j=j.toLowerCase()),G&&H&&(G=si(G,H)||G);const rt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let st=F===j||!o&&F.startsWith(j)&&F.charAt(rt)==="/",ut=G!=null&&(G===j||!o&&G.startsWith(j)&&G.charAt(j.length)==="/"),I={isActive:st,isPending:ut,isTransitioning:M},R=st?t:void 0,w;typeof a=="function"?w=a(I):w=[a,st?"active":null,ut?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return L.createElement(dE,{...y,"aria-current":R,className:w,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(I):g)});zA.displayName="NavLink";var PA=L.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:u,method:f=Uc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...A},x)=>{let D=BA(),H=$A(m,{relative:y}),M=f.toLowerCase()==="get"?"get":"post",j=typeof m=="string"&&fE.test(m),F=G=>{if(g&&g(G),G.defaultPrevented)return;G.preventDefault();let rt=G.nativeEvent.submitter,st=(rt==null?void 0:rt.getAttribute("formmethod"))||f;D(rt||G.currentTarget,{fetcherKey:t,method:st,navigate:i,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return L.createElement("form",{ref:x,method:M,action:H,onSubmit:a?g:F,...A,"data-discover":!j&&n==="render"?"true":void 0})});PA.displayName="Form";function kA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(n){let t=L.useContext(co);return fe(t,kA(n)),t}function UA(n,{target:t,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ir(),g=rr(),y=Zl(n,{relative:u});return L.useCallback(E=>{if(pA(E,t)){E.preventDefault();let S=i!==void 0?i:Pl(g)===Pl(y);m(n,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,i,a,t,n,o,u,f])}var LA=0,jA=()=>`__${String(++LA)}__`;function BA(){let{router:n}=mE("useSubmit"),{basename:t}=L.useContext(Ir),i=aA();return L.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=vA(a,t);if(o.navigate===!1){let E=o.fetcherKey||jA();await n.fetch(E,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,t,i])}function $A(n,{relative:t}={}){let{basename:i}=L.useContext(Ir),a=L.useContext(Or);fe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Zl(n||".",{relative:t})},f=rr();if(n==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ai([i,u.pathname])),Pl(u)}function qA(n,t={}){let i=L.useContext(iE);fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=mE("useViewTransitionState"),o=Zl(n,{relative:t.relative});if(!i.isTransitioning)return!1;let u=si(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=si(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Zc(o.pathname,f)!=null||Zc(o.pathname,u)!=null}[...RA];var on=function(){return on=Object.assign||function(t){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(t[u]=i[u])}return t},on.apply(this,arguments)};function kl(n,t,i){if(i||arguments.length===2)for(var a=0,o=t.length,u;a<o;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return n.concat(u||Array.prototype.slice.call(t))}var oe="-ms-",Ol="-moz-",Zt="-webkit-",pE="comm",Th="rule",sp="decl",HA="@import",gE="@keyframes",FA="@layer",yE=Math.abs,op=String.fromCharCode,bm=Object.assign;function GA(n,t){return Fe(n,0)^45?(((t<<2^Fe(n,0))<<2^Fe(n,1))<<2^Fe(n,2))<<2^Fe(n,3):0}function vE(n){return n.trim()}function ii(n,t){return(n=t.exec(n))?n[0]:n}function Ot(n,t,i){return n.replace(t,i)}function jc(n,t,i){return n.indexOf(t,i)}function Fe(n,t){return n.charCodeAt(t)|0}function Zs(n,t,i){return n.slice(t,i)}function Sr(n){return n.length}function _E(n){return n.length}function Rl(n,t){return t.push(n),n}function QA(n,t){return n.map(t).join("")}function c0(n,t){return n.filter(function(i){return!ii(i,t)})}var bh=1,Js=1,EE=0,Gn=0,Ce=0,ho="";function Sh(n,t,i,a,o,u,f,m){return{value:n,root:t,parent:i,type:a,props:o,children:u,line:bh,column:Js,length:f,return:"",siblings:m}}function Fi(n,t){return bm(Sh("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},t)}function qs(n){for(;n.root;)n=Fi(n.root,{children:[n]});Rl(n,n.siblings)}function YA(){return Ce}function KA(){return Ce=Gn>0?Fe(ho,--Gn):0,Js--,Ce===10&&(Js=1,bh--),Ce}function er(){return Ce=Gn<EE?Fe(ho,Gn++):0,Js++,Ce===10&&(Js=1,bh++),Ce}function qa(){return Fe(ho,Gn)}function Bc(){return Gn}function Ah(n,t){return Zs(ho,n,t)}function Sm(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XA(n){return bh=Js=1,EE=Sr(ho=n),Gn=0,[]}function ZA(n){return ho="",n}function Zd(n){return vE(Ah(Gn-1,Am(n===91?n+2:n===40?n+1:n)))}function JA(n){for(;(Ce=qa())&&Ce<33;)er();return Sm(n)>2||Sm(Ce)>3?"":" "}function WA(n,t){for(;--t&&er()&&!(Ce<48||Ce>102||Ce>57&&Ce<65||Ce>70&&Ce<97););return Ah(n,Bc()+(t<6&&qa()==32&&er()==32))}function Am(n){for(;er();)switch(Ce){case n:return Gn;case 34:case 39:n!==34&&n!==39&&Am(Ce);break;case 40:n===41&&Am(n);break;case 92:er();break}return Gn}function tw(n,t){for(;er()&&n+Ce!==57;)if(n+Ce===84&&qa()===47)break;return"/*"+Ah(t,Gn-1)+"*"+op(n===47?n:er())}function ew(n){for(;!Sm(qa());)er();return Ah(n,Gn)}function nw(n){return ZA($c("",null,null,null,[""],n=XA(n),0,[0],n))}function $c(n,t,i,a,o,u,f,m,g){for(var y=0,E=0,S=f,A=0,x=0,D=0,H=1,M=1,j=1,F=0,G="",rt=o,st=u,ut=a,I=G;M;)switch(D=F,F=er()){case 40:if(D!=108&&Fe(I,S-1)==58){jc(I+=Ot(Zd(F),"&","&\f"),"&\f",yE(y?m[y-1]:0))!=-1&&(j=-1);break}case 34:case 39:case 91:I+=Zd(F);break;case 9:case 10:case 13:case 32:I+=JA(D);break;case 92:I+=WA(Bc()-1,7);continue;case 47:switch(qa()){case 42:case 47:Rl(rw(tw(er(),Bc()),t,i,g),g);break;default:I+="/"}break;case 123*H:m[y++]=Sr(I)*j;case 125*H:case 59:case 0:switch(F){case 0:case 125:M=0;case 59+E:j==-1&&(I=Ot(I,/\f/g,"")),x>0&&Sr(I)-S&&Rl(x>32?f0(I+";",a,i,S-1,g):f0(Ot(I," ","")+";",a,i,S-2,g),g);break;case 59:I+=";";default:if(Rl(ut=h0(I,t,i,y,E,o,m,G,rt=[],st=[],S,u),u),F===123)if(E===0)$c(I,t,ut,ut,rt,u,S,m,st);else switch(A===99&&Fe(I,3)===110?100:A){case 100:case 108:case 109:case 115:$c(n,ut,ut,a&&Rl(h0(n,ut,ut,0,0,o,m,G,o,rt=[],S,st),st),o,st,S,m,a?rt:st);break;default:$c(I,ut,ut,ut,[""],st,0,m,st)}}y=E=x=0,H=j=1,G=I="",S=f;break;case 58:S=1+Sr(I),x=D;default:if(H<1){if(F==123)--H;else if(F==125&&H++==0&&KA()==125)continue}switch(I+=op(F),F*H){case 38:j=E>0?1:(I+="\f",-1);break;case 44:m[y++]=(Sr(I)-1)*j,j=1;break;case 64:qa()===45&&(I+=Zd(er())),A=qa(),E=S=Sr(G=I+=ew(Bc())),F++;break;case 45:D===45&&Sr(I)==2&&(H=0)}}return u}function h0(n,t,i,a,o,u,f,m,g,y,E,S){for(var A=o-1,x=o===0?u:[""],D=_E(x),H=0,M=0,j=0;H<a;++H)for(var F=0,G=Zs(n,A+1,A=yE(M=f[H])),rt=n;F<D;++F)(rt=vE(M>0?x[F]+" "+G:Ot(G,/&\f/g,x[F])))&&(g[j++]=rt);return Sh(n,t,i,o===0?Th:m,g,y,E,S)}function rw(n,t,i,a){return Sh(n,t,i,pE,op(YA()),Zs(n,2,-2),0,a)}function f0(n,t,i,a,o){return Sh(n,t,i,sp,Zs(n,0,a),Zs(n,a+1,-1),a,o)}function TE(n,t,i){switch(GA(n,t)){case 5103:return Zt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zt+n+n;case 4789:return Ol+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Zt+n+Ol+n+oe+n+n;case 5936:switch(Fe(n,t+11)){case 114:return Zt+n+oe+Ot(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Zt+n+oe+Ot(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Zt+n+oe+Ot(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Zt+n+oe+n+n;case 6165:return Zt+n+oe+"flex-"+n+n;case 5187:return Zt+n+Ot(n,/(\w+).+(:[^]+)/,Zt+"box-$1$2"+oe+"flex-$1$2")+n;case 5443:return Zt+n+oe+"flex-item-"+Ot(n,/flex-|-self/g,"")+(ii(n,/flex-|baseline/)?"":oe+"grid-row-"+Ot(n,/flex-|-self/g,""))+n;case 4675:return Zt+n+oe+"flex-line-pack"+Ot(n,/align-content|flex-|-self/g,"")+n;case 5548:return Zt+n+oe+Ot(n,"shrink","negative")+n;case 5292:return Zt+n+oe+Ot(n,"basis","preferred-size")+n;case 6060:return Zt+"box-"+Ot(n,"-grow","")+Zt+n+oe+Ot(n,"grow","positive")+n;case 4554:return Zt+Ot(n,/([^-])(transform)/g,"$1"+Zt+"$2")+n;case 6187:return Ot(Ot(Ot(n,/(zoom-|grab)/,Zt+"$1"),/(image-set)/,Zt+"$1"),n,"")+n;case 5495:case 3959:return Ot(n,/(image-set\([^]*)/,Zt+"$1$`$1");case 4968:return Ot(Ot(n,/(.+:)(flex-)?(.*)/,Zt+"box-pack:$3"+oe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zt+n+n;case 4200:if(!ii(n,/flex-|baseline/))return oe+"grid-column-align"+Zs(n,t)+n;break;case 2592:case 3360:return oe+Ot(n,"template-","")+n;case 4384:case 3616:return i&&i.some(function(a,o){return t=o,ii(a.props,/grid-\w+-end/)})?~jc(n+(i=i[t].value),"span",0)?n:oe+Ot(n,"-start","")+n+oe+"grid-row-span:"+(~jc(i,"span",0)?ii(i,/\d+/):+ii(i,/\d+/)-+ii(n,/\d+/))+";":oe+Ot(n,"-start","")+n;case 4896:case 4128:return i&&i.some(function(a){return ii(a.props,/grid-\w+-start/)})?n:oe+Ot(Ot(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Ot(n,/(.+)-inline(.+)/,Zt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sr(n)-1-t>6)switch(Fe(n,t+1)){case 109:if(Fe(n,t+4)!==45)break;case 102:return Ot(n,/(.+:)(.+)-([^]+)/,"$1"+Zt+"$2-$3$1"+Ol+(Fe(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~jc(n,"stretch",0)?TE(Ot(n,"stretch","fill-available"),t,i)+n:n}break;case 5152:case 5920:return Ot(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,o,u,f,m,g,y){return oe+o+":"+u+y+(f?oe+o+"-span:"+(m?g:+g-+u)+y:"")+n});case 4949:if(Fe(n,t+6)===121)return Ot(n,":",":"+Zt)+n;break;case 6444:switch(Fe(n,Fe(n,14)===45?18:11)){case 120:return Ot(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Zt+(Fe(n,14)===45?"inline-":"")+"box$3$1"+Zt+"$2$3$1"+oe+"$2box$3")+n;case 100:return Ot(n,":",":"+oe)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ot(n,"scroll-","scroll-snap-")+n}return n}function Jc(n,t){for(var i="",a=0;a<n.length;a++)i+=t(n[a],a,n,t)||"";return i}function iw(n,t,i,a){switch(n.type){case FA:if(n.children.length)break;case HA:case sp:return n.return=n.return||n.value;case pE:return"";case gE:return n.return=n.value+"{"+Jc(n.children,a)+"}";case Th:if(!Sr(n.value=n.props.join(",")))return""}return Sr(i=Jc(n.children,a))?n.return=n.value+"{"+i+"}":""}function aw(n){var t=_E(n);return function(i,a,o,u){for(var f="",m=0;m<t;m++)f+=n[m](i,a,o,u)||"";return f}}function sw(n){return function(t){t.root||(t=t.return)&&n(t)}}function ow(n,t,i,a){if(n.length>-1&&!n.return)switch(n.type){case sp:n.return=TE(n.value,n.length,i);return;case gE:return Jc([Fi(n,{value:Ot(n.value,"@","@"+Zt)})],a);case Th:if(n.length)return QA(i=n.props,function(o){switch(ii(o,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":qs(Fi(n,{props:[Ot(o,/:(read-\w+)/,":"+Ol+"$1")]})),qs(Fi(n,{props:[o]})),bm(n,{props:c0(i,a)});break;case"::placeholder":qs(Fi(n,{props:[Ot(o,/:(plac\w+)/,":"+Zt+"input-$1")]})),qs(Fi(n,{props:[Ot(o,/:(plac\w+)/,":"+Ol+"$1")]})),qs(Fi(n,{props:[Ot(o,/:(plac\w+)/,oe+"input-$1")]})),qs(Fi(n,{props:[o]})),bm(n,{props:c0(i,a)});break}return""})}}var lw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xn={},Ws=typeof process<"u"&&xn!==void 0&&(xn.REACT_APP_SC_ATTR||xn.SC_ATTR)||"data-styled",bE="active",SE="data-styled-version",wh="6.1.15",lp=`/*!sc*/
`,Wc=typeof window<"u"&&"HTMLElement"in window,uw=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xn!==void 0&&xn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xn.REACT_APP_SC_DISABLE_SPEEDY!==""?xn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xn!==void 0&&xn.SC_DISABLE_SPEEDY!==void 0&&xn.SC_DISABLE_SPEEDY!==""&&xn.SC_DISABLE_SPEEDY!=="false"&&xn.SC_DISABLE_SPEEDY),Rh=Object.freeze([]),to=Object.freeze({});function cw(n,t,i){return i===void 0&&(i=to),n.theme!==i.theme&&n.theme||t||i.theme}var AE=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hw=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,fw=/(^-|-$)/g;function d0(n){return n.replace(hw,"-").replace(fw,"")}var dw=/(a)(d)/gi,Cc=52,m0=function(n){return String.fromCharCode(n+(n>25?39:97))};function wm(n){var t,i="";for(t=Math.abs(n);t>Cc;t=t/Cc|0)i=m0(t%Cc)+i;return(m0(t%Cc)+i).replace(dw,"$1-$2")}var Jd,wE=5381,Ys=function(n,t){for(var i=t.length;i;)n=33*n^t.charCodeAt(--i);return n},RE=function(n){return Ys(wE,n)};function CE(n){return wm(RE(n)>>>0)}function mw(n){return n.displayName||n.name||"Component"}function Wd(n){return typeof n=="string"&&!0}var xE=typeof Symbol=="function"&&Symbol.for,DE=xE?Symbol.for("react.memo"):60115,pw=xE?Symbol.for("react.forward_ref"):60112,gw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vw=((Jd={})[pw]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jd[DE]=IE,Jd);function p0(n){return("type"in(t=n)&&t.type.$$typeof)===DE?IE:"$$typeof"in n?vw[n.$$typeof]:gw;var t}var _w=Object.defineProperty,Ew=Object.getOwnPropertyNames,g0=Object.getOwnPropertySymbols,Tw=Object.getOwnPropertyDescriptor,bw=Object.getPrototypeOf,y0=Object.prototype;function OE(n,t,i){if(typeof t!="string"){if(y0){var a=bw(t);a&&a!==y0&&OE(n,a,i)}var o=Ew(t);g0&&(o=o.concat(g0(t)));for(var u=p0(n),f=p0(t),m=0;m<o.length;++m){var g=o[m];if(!(g in yw||i&&i[g]||f&&g in f||u&&g in u)){var y=Tw(t,g);try{_w(n,g,y)}catch{}}}}return n}function Fa(n){return typeof n=="function"}function up(n){return typeof n=="object"&&"styledComponentId"in n}function Ba(n,t){return n&&t?"".concat(n," ").concat(t):n||t||""}function Rm(n,t){if(n.length===0)return"";for(var i=n[0],a=1;a<n.length;a++)i+=n[a];return i}function Ul(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Cm(n,t,i){if(i===void 0&&(i=!1),!i&&!Ul(n)&&!Array.isArray(n))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)n[a]=Cm(n[a],t[a]);else if(Ul(t))for(var a in t)n[a]=Cm(n[a],t[a]);return n}function cp(n,t){Object.defineProperty(n,"toString",{value:t})}function Ga(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Sw=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return n.prototype.indexOfGroup=function(t){for(var i=0,a=0;a<t;a++)i+=this.groupSizes[a];return i},n.prototype.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var a=this.groupSizes,o=a.length,u=o;t>=u;)if((u<<=1)<0)throw Ga(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var m=this.indexOfGroup(t+1),g=(f=0,i.length);f<g;f++)this.tag.insertRule(m,i[f])&&(this.groupSizes[t]++,m++)},n.prototype.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],a=this.indexOfGroup(t),o=a+i;this.groupSizes[t]=0;for(var u=a;u<o;u++)this.tag.deleteRule(a)}},n.prototype.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var a=this.groupSizes[t],o=this.indexOfGroup(t),u=o+a,f=o;f<u;f++)i+="".concat(this.tag.getRule(f)).concat(lp);return i},n}(),qc=new Map,th=new Map,Hc=1,xc=function(n){if(qc.has(n))return qc.get(n);for(;th.has(Hc);)Hc++;var t=Hc++;return qc.set(n,t),th.set(t,n),t},Aw=function(n,t){Hc=t+1,qc.set(n,t),th.set(t,n)},ww="style[".concat(Ws,"][").concat(SE,'="').concat(wh,'"]'),Rw=new RegExp("^".concat(Ws,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Cw=function(n,t,i){for(var a,o=i.split(","),u=0,f=o.length;u<f;u++)(a=o[u])&&n.registerName(t,a)},xw=function(n,t){for(var i,a=((i=t.textContent)!==null&&i!==void 0?i:"").split(lp),o=[],u=0,f=a.length;u<f;u++){var m=a[u].trim();if(m){var g=m.match(Rw);if(g){var y=0|parseInt(g[1],10),E=g[2];y!==0&&(Aw(E,y),Cw(n,E,g[3]),n.getTag().insertRules(y,o)),o.length=0}else o.push(m)}}},v0=function(n){for(var t=document.querySelectorAll(ww),i=0,a=t.length;i<a;i++){var o=t[i];o&&o.getAttribute(Ws)!==bE&&(xw(n,o),o.parentNode&&o.parentNode.removeChild(o))}};function Dw(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var VE=function(n){var t=document.head,i=n||t,a=document.createElement("style"),o=function(m){var g=Array.from(m.querySelectorAll("style[".concat(Ws,"]")));return g[g.length-1]}(i),u=o!==void 0?o.nextSibling:null;a.setAttribute(Ws,bE),a.setAttribute(SE,wh);var f=Dw();return f&&a.setAttribute("nonce",f),i.insertBefore(a,u),a},Iw=function(){function n(t){this.element=VE(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var a=document.styleSheets,o=0,u=a.length;o<u;o++){var f=a[o];if(f.ownerNode===i)return f}throw Ga(17)}(this.element),this.length=0}return n.prototype.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},n.prototype.getRule=function(t){var i=this.sheet.cssRules[t];return i&&i.cssText?i.cssText:""},n}(),Ow=function(){function n(t){this.element=VE(t),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(t,i){if(t<=this.length&&t>=0){var a=document.createTextNode(i);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},n.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),Vw=function(){function n(t){this.rules=[],this.length=0}return n.prototype.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},n.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},n.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),_0=Wc,Nw={isServer:!Wc,useCSSOMInjection:!uw},NE=function(){function n(t,i,a){t===void 0&&(t=to),i===void 0&&(i={});var o=this;this.options=on(on({},Nw),t),this.gs=i,this.names=new Map(a),this.server=!!t.isServer,!this.server&&Wc&&_0&&(_0=!1,v0(this)),cp(this,function(){return function(u){for(var f=u.getTag(),m=f.length,g="",y=function(S){var A=function(j){return th.get(j)}(S);if(A===void 0)return"continue";var x=u.names.get(A),D=f.getGroup(S);if(x===void 0||!x.size||D.length===0)return"continue";var H="".concat(Ws,".g").concat(S,'[id="').concat(A,'"]'),M="";x!==void 0&&x.forEach(function(j){j.length>0&&(M+="".concat(j,","))}),g+="".concat(D).concat(H,'{content:"').concat(M,'"}').concat(lp)},E=0;E<m;E++)y(E);return g}(o)})}return n.registerId=function(t){return xc(t)},n.prototype.rehydrate=function(){!this.server&&Wc&&v0(this)},n.prototype.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new n(on(on({},this.options),t),this.gs,i&&this.names||void 0)},n.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(t=function(i){var a=i.useCSSOMInjection,o=i.target;return i.isServer?new Vw(o):a?new Iw(o):new Ow(o)}(this.options),new Sw(t)));var t},n.prototype.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},n.prototype.registerName=function(t,i){if(xc(t),this.names.has(t))this.names.get(t).add(i);else{var a=new Set;a.add(i),this.names.set(t,a)}},n.prototype.insertRules=function(t,i,a){this.registerName(t,i),this.getTag().insertRules(xc(t),a)},n.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},n.prototype.clearRules=function(t){this.getTag().clearGroup(xc(t)),this.clearNames(t)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Mw=/&/g,zw=/^\s*\/\/.*$/gm;function ME(n,t){return n.map(function(i){return i.type==="rule"&&(i.value="".concat(t," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(t," ")),i.props=i.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=ME(i.children,t)),i})}function Pw(n){var t,i,a,o=to,u=o.options,f=u===void 0?to:u,m=o.plugins,g=m===void 0?Rh:m,y=function(A,x,D){return D.startsWith(i)&&D.endsWith(i)&&D.replaceAll(i,"").length>0?".".concat(t):A},E=g.slice();E.push(function(A){A.type===Th&&A.value.includes("&")&&(A.props[0]=A.props[0].replace(Mw,i).replace(a,y))}),f.prefix&&E.push(ow),E.push(iw);var S=function(A,x,D,H){x===void 0&&(x=""),D===void 0&&(D=""),H===void 0&&(H="&"),t=H,i=x,a=new RegExp("\\".concat(i,"\\b"),"g");var M=A.replace(zw,""),j=nw(D||x?"".concat(D," ").concat(x," { ").concat(M," }"):M);f.namespace&&(j=ME(j,f.namespace));var F=[];return Jc(j,aw(E.concat(sw(function(G){return F.push(G)})))),F};return S.hash=g.length?g.reduce(function(A,x){return x.name||Ga(15),Ys(A,x.name)},wE).toString():"",S}var kw=new NE,xm=Pw(),zE=_n.createContext({shouldForwardProp:void 0,styleSheet:kw,stylis:xm});zE.Consumer;_n.createContext(void 0);function E0(){return L.useContext(zE)}var PE=function(){function n(t,i){var a=this;this.inject=function(o,u){u===void 0&&(u=xm);var f=a.name+u.hash;o.hasNameForId(a.id,f)||o.insertRules(a.id,f,u(a.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=i,cp(this,function(){throw Ga(12,String(a.name))})}return n.prototype.getName=function(t){return t===void 0&&(t=xm),this.name+t.hash},n}(),Uw=function(n){return n>="A"&&n<="Z"};function T0(n){for(var t="",i=0;i<n.length;i++){var a=n[i];if(i===1&&a==="-"&&n[0]==="-")return n;Uw(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var kE=function(n){return n==null||n===!1||n===""},UE=function(n){var t,i,a=[];for(var o in n){var u=n[o];n.hasOwnProperty(o)&&!kE(u)&&(Array.isArray(u)&&u.isCss||Fa(u)?a.push("".concat(T0(o),":"),u,";"):Ul(u)?a.push.apply(a,kl(kl(["".concat(o," {")],UE(u),!1),["}"],!1)):a.push("".concat(T0(o),": ").concat((t=o,(i=u)==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||t in lw||t.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return a};function Ha(n,t,i,a){if(kE(n))return[];if(up(n))return[".".concat(n.styledComponentId)];if(Fa(n)){if(!Fa(u=n)||u.prototype&&u.prototype.isReactComponent||!t)return[n];var o=n(t);return Ha(o,t,i,a)}var u;return n instanceof PE?i?(n.inject(i,a),[n.getName(a)]):[n]:Ul(n)?UE(n):Array.isArray(n)?Array.prototype.concat.apply(Rh,n.map(function(f){return Ha(f,t,i,a)})):[n.toString()]}function Lw(n){for(var t=0;t<n.length;t+=1){var i=n[t];if(Fa(i)&&!up(i))return!1}return!0}var jw=RE(wh),Bw=function(){function n(t,i,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Lw(t),this.componentId=i,this.baseHash=Ys(jw,i),this.baseStyle=a,NE.registerId(i)}return n.prototype.generateAndInjectStyles=function(t,i,a){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,i,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))o=Ba(o,this.staticRulesId);else{var u=Rm(Ha(this.rules,t,i,a)),f=wm(Ys(this.baseHash,u)>>>0);if(!i.hasNameForId(this.componentId,f)){var m=a(u,".".concat(f),void 0,this.componentId);i.insertRules(this.componentId,f,m)}o=Ba(o,f),this.staticRulesId=f}else{for(var g=Ys(this.baseHash,a.hash),y="",E=0;E<this.rules.length;E++){var S=this.rules[E];if(typeof S=="string")y+=S;else if(S){var A=Rm(Ha(S,t,i,a));g=Ys(g,A+E),y+=A}}if(y){var x=wm(g>>>0);i.hasNameForId(this.componentId,x)||i.insertRules(this.componentId,x,a(y,".".concat(x),void 0,this.componentId)),o=Ba(o,x)}}return o},n}(),eh=_n.createContext(void 0);eh.Consumer;function $w(n){var t=_n.useContext(eh),i=L.useMemo(function(){return function(a,o){if(!a)throw Ga(14);if(Fa(a)){var u=a(o);return u}if(Array.isArray(a)||typeof a!="object")throw Ga(8);return o?on(on({},o),a):a}(n.theme,t)},[n.theme,t]);return n.children?_n.createElement(eh.Provider,{value:i},n.children):null}var tm={};function qw(n,t,i){var a=up(n),o=n,u=!Wd(n),f=t.attrs,m=f===void 0?Rh:f,g=t.componentId,y=g===void 0?function(rt,st){var ut=typeof rt!="string"?"sc":d0(rt);tm[ut]=(tm[ut]||0)+1;var I="".concat(ut,"-").concat(CE(wh+ut+tm[ut]));return st?"".concat(st,"-").concat(I):I}(t.displayName,t.parentComponentId):g,E=t.displayName,S=E===void 0?function(rt){return Wd(rt)?"styled.".concat(rt):"Styled(".concat(mw(rt),")")}(n):E,A=t.displayName&&t.componentId?"".concat(d0(t.displayName),"-").concat(t.componentId):t.componentId||y,x=a&&o.attrs?o.attrs.concat(m).filter(Boolean):m,D=t.shouldForwardProp;if(a&&o.shouldForwardProp){var H=o.shouldForwardProp;if(t.shouldForwardProp){var M=t.shouldForwardProp;D=function(rt,st){return H(rt,st)&&M(rt,st)}}else D=H}var j=new Bw(i,A,a?o.componentStyle:void 0);function F(rt,st){return function(ut,I,R){var w=ut.attrs,V=ut.componentStyle,P=ut.defaultProps,B=ut.foldedComponentIds,O=ut.styledComponentId,le=ut.target,re=_n.useContext(eh),ot=E0(),yt=ut.shouldForwardProp||ot.shouldForwardProp,mt=cw(I,re,P)||to,wt=function(At,bt,ee){for(var It,Ht=on(on({},bt),{className:void 0,theme:ee}),kt=0;kt<At.length;kt+=1){var gt=Fa(It=At[kt])?It(Ht):It;for(var Yt in gt)Ht[Yt]=Yt==="className"?Ba(Ht[Yt],gt[Yt]):Yt==="style"?on(on({},Ht[Yt]),gt[Yt]):gt[Yt]}return bt.className&&(Ht.className=Ba(Ht.className,bt.className)),Ht}(w,I,mt),z=wt.as||le,et={};for(var ct in wt)wt[ct]===void 0||ct[0]==="$"||ct==="as"||ct==="theme"&&wt.theme===mt||(ct==="forwardedAs"?et.as=wt.forwardedAs:yt&&!yt(ct,z)||(et[ct]=wt[ct]));var at=function(At,bt){var ee=E0(),It=At.generateAndInjectStyles(bt,ee.styleSheet,ee.stylis);return It}(V,wt),ht=Ba(B,O);return at&&(ht+=" "+at),wt.className&&(ht+=" "+wt.className),et[Wd(z)&&!AE.has(z)?"class":"className"]=ht,R&&(et.ref=R),L.createElement(z,et)}(G,rt,st)}F.displayName=S;var G=_n.forwardRef(F);return G.attrs=x,G.componentStyle=j,G.displayName=S,G.shouldForwardProp=D,G.foldedComponentIds=a?Ba(o.foldedComponentIds,o.styledComponentId):"",G.styledComponentId=A,G.target=a?o.target:n,Object.defineProperty(G,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(rt){this._foldedDefaultProps=a?function(st){for(var ut=[],I=1;I<arguments.length;I++)ut[I-1]=arguments[I];for(var R=0,w=ut;R<w.length;R++)Cm(st,w[R],!0);return st}({},o.defaultProps,rt):rt}}),cp(G,function(){return".".concat(G.styledComponentId)}),u&&OE(G,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),G}function b0(n,t){for(var i=[n[0]],a=0,o=t.length;a<o;a+=1)i.push(t[a],n[a+1]);return i}var S0=function(n){return Object.assign(n,{isCss:!0})};function LE(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Fa(n)||Ul(n))return S0(Ha(b0(Rh,kl([n],t,!0))));var a=n;return t.length===0&&a.length===1&&typeof a[0]=="string"?Ha(a):S0(Ha(b0(a,t)))}function Dm(n,t,i){if(i===void 0&&(i=to),!t)throw Ga(1,t);var a=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return n(t,i,LE.apply(void 0,kl([o],u,!1)))};return a.attrs=function(o){return Dm(n,t,on(on({},i),{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},a.withConfig=function(o){return Dm(n,t,on(on({},i),o))},a}var jE=function(n){return Dm(qw,n)},tt=jE;AE.forEach(function(n){tt[n]=jE(n)});function Hw(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var a=Rm(LE.apply(void 0,kl([n],t,!1))),o=CE(a);return new PE(o,a)}const Fw={colors:{magnolia:"#EEE8F0",night:"#141516",gray:"#59595D",amethyst:"#A56DC6",pinkLavender:"#D5B8E6",correctGreen:"#28a745",incorrectRed:"#dc3545",white:"#FFFFFF",black:"#000000",darkpurple:"#73168C",purple:"#9F2CBF",brightpurple:"#C04BF2",deepblue:"#281259",nightblue:"#070926",accentmint:"#7AF5BF",accentgreen:"#007542",accentorange:"#FF9F1D"},fonts:{body:"'Open Sans', sans-serif",heading:"'Montserrat', sans-serif"}},Gw=()=>(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&!0,Qw=()=>"/escparty/",BE=n=>{const t=n.startsWith("/")?n.substring(1):n,i=Qw();return`${i.endsWith("/")?i:`${i}/`}${t}`},Yw=()=>{const n=ir(),[t,i]=L.useState("");return L.useEffect(()=>{i(BE("concert-bg.jpg"))},[]),N.jsxs(Kw,{children:[N.jsx(Xw,{$backgroundPath:t}),N.jsxs(Zw,{children:[N.jsx(Jw,{children:"ESC Party 🎤"}),N.jsxs(Ww,{children:[N.jsx(em,{onClick:()=>n("/multiplayer"),children:"Multiplayer quiz"}),N.jsx(em,{onClick:()=>n("/select-difficulty"),children:"Single-player quiz"}),N.jsx(em,{onClick:()=>n("/quiz"),children:"Create quiz"})]})]})]})},Kw=tt.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
`,Xw=tt.div`
  position: absolute;
  width: 100%;
  height: 100%;
  background: ${n=>n.$backgroundPath?`url('${n.$backgroundPath}') center/cover no-repeat`:"black"};
  filter: brightness(50%);
`,Zw=tt.div`
  position: relative;
  z-index: 2;
  text-align: center;
  width: 100%;
  max-width: 31.25rem; /* 500px - standardizing container width */
  padding: 1.25rem; /* 20px */
`,Jw=tt.h1`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.white};
  font-size: 2rem;
  margin-bottom: 1.25rem; /* 20px */
`,Ww=tt.div`
  display: flex;
  flex-direction: column;
  gap: 0.9375rem; /* 15px */
  padding: 0 0.75rem; /* 0 12px */
`,em=tt.button`
  background: ${({theme:n})=>n.colors.purple};
  color: white;
  font-family: ${({theme:n})=>n.fonts.body};
  font-size: 1rem;
  font-weight: bold;
  padding: 1rem; /* Standardized to 1rem */
  border: none;
  cursor: pointer;
  transition: 0.3s;
  
  &:hover {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
`,tR=()=>{const n=ir(),t=i=>{n(`/quiz/${i}`)};return N.jsxs(eR,{children:[N.jsx(nR,{children:"Choose Difficulty"}),N.jsxs(rR,{children:[N.jsxs(nm,{onClick:()=>t("easy"),children:[N.jsx(rm,{children:"Easy"}),N.jsx(im,{children:"You know who Loreen is"})]}),N.jsxs(nm,{onClick:()=>t("medium"),children:[N.jsx(rm,{children:"Medium "}),N.jsx(im,{children:"You know the year Alexander Rybak won ESC"})]}),N.jsxs(nm,{onClick:()=>t("hard"),children:[N.jsx(rm,{children:"Hard"}),N.jsx(im,{children:"You know where ESC was held when Dana International won"})]})]})]})},eR=tt.div`
  width: 100%;
  max-width: 31.25rem; /* 500px - standardized container width */
  text-align: center;
  padding: 1.25rem; /* 20px */
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: auto;
`,nR=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.white};
  font-size: 2rem;
  margin-bottom: 1.25rem; /* 20px */
`,rR=tt.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 31.25rem; /* 500px */
`,nm=tt.button`
  background: ${({theme:n})=>n.colors.purple};
  color: white;
  font-size: 1rem;
  padding: 1rem;
  border: none;
  cursor: pointer;
  margin: 0.625rem 0; /* 10px */
  transition: 0.3s;
  width: 100%;
  word-wrap: break-word;
  white-space: normal;

  &:hover {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
`,rm=tt.span`
  font-size: 1.5rem;
  font-weight: bold;
`,im=tt.span`
  font-size: 1rem;
  display: block;
  margin-top: 0.3125rem; /* 5px */
`;var $E={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A0=_n.createContext&&_n.createContext($E),iR=["attr","size","title"];function aR(n,t){if(n==null)return{};var i=sR(n,t),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)a=u[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(i[a]=n[a])}return i}function sR(n,t){if(n==null)return{};var i={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;i[a]=n[a]}return i}function nh(){return nh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},nh.apply(this,arguments)}function w0(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),i.push.apply(i,a)}return i}function rh(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?w0(Object(i),!0).forEach(function(a){oR(n,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):w0(Object(i)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(i,a))})}return n}function oR(n,t,i){return t=lR(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function lR(n){var t=uR(n,"string");return typeof t=="symbol"?t:t+""}function uR(n,t){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function qE(n){return n&&n.map((t,i)=>_n.createElement(t.tag,rh({key:i},t.attr),qE(t.child)))}function cR(n){return t=>_n.createElement(hR,nh({attr:rh({},n.attr)},t),qE(n.child))}function hR(n){var t=i=>{var{attr:a,size:o,title:u}=n,f=aR(n,iR),m=o||i.size||"1em",g;return i.className&&(g=i.className),n.className&&(g=(g?g+" ":"")+n.className),_n.createElement("svg",nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,f,{className:g,style:rh(rh({color:n.color||i.color},i.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&_n.createElement("title",null,u),n.children)};return A0!==void 0?_n.createElement(A0.Consumer,null,i=>t(i)):t($E)}function HE(n){return cR({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}const fR=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(n){const t=[];let i=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},dR=function(n){const t=[];let i=0,a=0;for(;i<n.length;){const o=n[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],f=n[i++],m=n[i++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],f=n[i++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,m=f?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,x=y&63;g||(x=64,f||(A=64)),a.push(i[E],i[S],i[A],i[x])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(FE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):dR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const y=o<n.length?i[n.charAt(o)]:64;++o;const S=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new mR;const A=u<<2|m>>4;if(a.push(A),y!==64){const x=m<<4&240|y>>2;if(a.push(x),S!==64){const D=y<<6&192|S;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pR=function(n){const t=FE(n);return GE.encodeByteArray(t,!0)},ih=function(n){return pR(n).replace(/\./g,"")},gR=function(n){try{return GE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=()=>yR().__FIREBASE_DEFAULTS__,_R=()=>{if(typeof process>"u"||typeof R0>"u")return;const n=R0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ER=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&gR(n[1]);return t&&JSON.parse(t)},hp=()=>{try{return fR()||vR()||_R()||ER()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TR=n=>{var t,i;return(i=(t=hp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},bR=n=>{const t=TR(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},QE=()=>{var n;return(n=hp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ih(JSON.stringify(i)),ih(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){var n;const t=(n=hp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return!RR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xR(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((n,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="FirebaseError";class fo extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=IR,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,YE.prototype.create)}}class YE{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?OR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fo(o,m,a)}}function OR(n,t){return n.replace(VR,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const VR=/\{\$([^}]+)}/g;function Ll(n,t){if(n===t)return!0;const i=Object.keys(n),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const u=n[o],f=t[o];if(C0(u)&&C0(f)){if(!Ll(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function C0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){return n.endsWith(".cloudworkstations.dev")}async function NR(n){return(await fetch(n,{credentials:"include"})).ok}class jl{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new SR;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PR(t))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ja){return this.instances.has(t)}getOptions(t=ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zR(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ja){return this.component?this.component.multipleInstances?t:ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(n){return n===ja?void 0:n}function PR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new MR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const UR={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},LR=qt.INFO,jR={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},BR=(n,t,...i)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),o=jR[t];if(o)console[o](`[${a}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class XE{constructor(t){this.name=t,this._logLevel=LR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const $R=(n,t)=>t.some(i=>n instanceof i);let x0,D0;function qR(){return x0||(x0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HR(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,Im=new WeakMap,JE=new WeakMap,am=new WeakMap,fp=new WeakMap;function FR(n){const t=new Promise((i,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(Yi(n.result)),o()},f=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&ZE.set(i,n)}).catch(()=>{}),fp.set(t,n),t}function GR(n){if(Im.has(n))return;const t=new Promise((i,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Im.set(n,t)}let Om={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Im.get(n);if(t==="objectStoreNames")return n.objectStoreNames||JE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yi(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function QR(n){Om=n(Om)}function YR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=n.call(sm(this),t,...i);return JE.set(a,t.sort?t.sort():[t]),Yi(a)}:HR().includes(n)?function(...t){return n.apply(sm(this),t),Yi(ZE.get(this))}:function(...t){return Yi(n.apply(sm(this),t))}}function KR(n){return typeof n=="function"?YR(n):(n instanceof IDBTransaction&&GR(n),$R(n,qR())?new Proxy(n,Om):n)}function Yi(n){if(n instanceof IDBRequest)return FR(n);if(am.has(n))return am.get(n);const t=KR(n);return t!==n&&(am.set(n,t),fp.set(t,n)),t}const sm=n=>fp.get(n);function XR(n,t,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),m=Yi(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Yi(f.result),g.oldVersion,g.newVersion,Yi(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ZR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],om=new Map;function I0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(om.get(t))return om.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=JR.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ZR.includes(i)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return om.set(t,u),u}QR(n=>({...n,get:(t,i,a)=>I0(t,i)||n.get(t,i,a),has:(t,i)=>!!I0(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function tC(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vm="@firebase/app",O0="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new XE("@firebase/app"),eC="@firebase/app-compat",nC="@firebase/analytics-compat",rC="@firebase/analytics",iC="@firebase/app-check-compat",aC="@firebase/app-check",sC="@firebase/auth",oC="@firebase/auth-compat",lC="@firebase/database",uC="@firebase/data-connect",cC="@firebase/database-compat",hC="@firebase/functions",fC="@firebase/functions-compat",dC="@firebase/installations",mC="@firebase/installations-compat",pC="@firebase/messaging",gC="@firebase/messaging-compat",yC="@firebase/performance",vC="@firebase/performance-compat",_C="@firebase/remote-config",EC="@firebase/remote-config-compat",TC="@firebase/storage",bC="@firebase/storage-compat",SC="@firebase/firestore",AC="@firebase/vertexai",wC="@firebase/firestore-compat",RC="firebase",CC="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",xC={[Vm]:"fire-core",[eC]:"fire-core-compat",[rC]:"fire-analytics",[nC]:"fire-analytics-compat",[aC]:"fire-app-check",[iC]:"fire-app-check-compat",[sC]:"fire-auth",[oC]:"fire-auth-compat",[lC]:"fire-rtdb",[uC]:"fire-data-connect",[cC]:"fire-rtdb-compat",[hC]:"fire-fn",[fC]:"fire-fn-compat",[dC]:"fire-iid",[mC]:"fire-iid-compat",[pC]:"fire-fcm",[gC]:"fire-fcm-compat",[yC]:"fire-perf",[vC]:"fire-perf-compat",[_C]:"fire-rc",[EC]:"fire-rc-compat",[TC]:"fire-gcs",[bC]:"fire-gcs-compat",[SC]:"fire-fst",[wC]:"fire-fst-compat",[AC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,DC=new Map,Mm=new Map;function V0(n,t){try{n.container.addComponent(t)}catch(i){oi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function sh(n){const t=n.name;if(Mm.has(t))return oi.debug(`There were multiple attempts to register component ${t}.`),!1;Mm.set(t,n);for(const i of ah.values())V0(i,n);for(const i of DC.values())V0(i,n);return!0}function IC(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function OC(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new YE("app","Firebase",VC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=CC;function WE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(i||(i=QE()),!i)throw Ki.create("no-options");const u=ah.get(o);if(u){if(Ll(i,u.options)&&Ll(a,u.config))return u;throw Ki.create("duplicate-app",{appName:o})}const f=new kR(o);for(const g of Mm.values())f.addComponent(g);const m=new NC(i,a,f);return ah.set(o,m),m}function zC(n=Nm){const t=ah.get(n);if(!t&&n===Nm&&QE())return WE();if(!t)throw Ki.create("no-app",{appName:n});return t}function Ks(n,t,i){var a;let o=(a=xC[n])!==null&&a!==void 0?a:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oi.warn(m.join(" "));return}sh(new jl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebase-heartbeat-database",kC=1,Bl="firebase-heartbeat-store";let lm=null;function t1(){return lm||(lm=XR(PC,kC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Ki.create("idb-open",{originalErrorMessage:n.message})})),lm}async function UC(n){try{const i=(await t1()).transaction(Bl),a=await i.objectStore(Bl).get(e1(n));return await i.done,a}catch(t){if(t instanceof fo)oi.warn(t.message);else{const i=Ki.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oi.warn(i.message)}}}async function N0(n,t){try{const a=(await t1()).transaction(Bl,"readwrite");await a.objectStore(Bl).put(t,e1(n)),await a.done}catch(i){if(i instanceof fo)oi.warn(i.message);else{const a=Ki.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});oi.warn(a.message)}}}function e1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,jC=30;class BC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qC(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=M0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jC){const f=HC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=M0(),{heartbeatsToSend:a,unsentEntries:o}=$C(this._heartbeatsCache.heartbeats),u=ih(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return oi.warn(i),""}}}function M0(){return new Date().toISOString().substring(0,10)}function $C(n,t=LC){const i=[];let a=n.slice();for(const o of n){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),z0(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),z0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xR()?DR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return N0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return N0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function z0(n){return ih(JSON.stringify({version:2,heartbeats:n})).length}function HC(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let a=1;a<n.length;a++)n[a].date<i&&(i=n[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){sh(new jl("platform-logger",t=>new WR(t),"PRIVATE")),sh(new jl("heartbeat",t=>new BC(t),"PRIVATE")),Ks(Vm,O0,n),Ks(Vm,O0,"esm2017"),Ks("fire-js","")}FC("");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,n1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,R){function w(){}w.prototype=R.prototype,I.D=R.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(V,P,B){for(var O=Array(arguments.length-2),le=2;le<arguments.length;le++)O[le-2]=arguments[le];return R.prototype[P].apply(V,O)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,w){w||(w=0);var V=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)V[P]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(P=0;16>P;++P)V[P]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=I.g[0],w=I.g[1],P=I.g[2];var B=I.g[3],O=R+(B^w&(P^B))+V[0]+3614090360&4294967295;R=w+(O<<7&4294967295|O>>>25),O=B+(P^R&(w^P))+V[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=P+(w^B&(R^w))+V[2]+606105819&4294967295,P=B+(O<<17&4294967295|O>>>15),O=w+(R^P&(B^R))+V[3]+3250441966&4294967295,w=P+(O<<22&4294967295|O>>>10),O=R+(B^w&(P^B))+V[4]+4118548399&4294967295,R=w+(O<<7&4294967295|O>>>25),O=B+(P^R&(w^P))+V[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=P+(w^B&(R^w))+V[6]+2821735955&4294967295,P=B+(O<<17&4294967295|O>>>15),O=w+(R^P&(B^R))+V[7]+4249261313&4294967295,w=P+(O<<22&4294967295|O>>>10),O=R+(B^w&(P^B))+V[8]+1770035416&4294967295,R=w+(O<<7&4294967295|O>>>25),O=B+(P^R&(w^P))+V[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=P+(w^B&(R^w))+V[10]+4294925233&4294967295,P=B+(O<<17&4294967295|O>>>15),O=w+(R^P&(B^R))+V[11]+2304563134&4294967295,w=P+(O<<22&4294967295|O>>>10),O=R+(B^w&(P^B))+V[12]+1804603682&4294967295,R=w+(O<<7&4294967295|O>>>25),O=B+(P^R&(w^P))+V[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=P+(w^B&(R^w))+V[14]+2792965006&4294967295,P=B+(O<<17&4294967295|O>>>15),O=w+(R^P&(B^R))+V[15]+1236535329&4294967295,w=P+(O<<22&4294967295|O>>>10),O=R+(P^B&(w^P))+V[1]+4129170786&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^P&(R^w))+V[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=P+(R^w&(B^R))+V[11]+643717713&4294967295,P=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(P^B))+V[0]+3921069994&4294967295,w=P+(O<<20&4294967295|O>>>12),O=R+(P^B&(w^P))+V[5]+3593408605&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^P&(R^w))+V[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=P+(R^w&(B^R))+V[15]+3634488961&4294967295,P=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(P^B))+V[4]+3889429448&4294967295,w=P+(O<<20&4294967295|O>>>12),O=R+(P^B&(w^P))+V[9]+568446438&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^P&(R^w))+V[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=P+(R^w&(B^R))+V[3]+4107603335&4294967295,P=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(P^B))+V[8]+1163531501&4294967295,w=P+(O<<20&4294967295|O>>>12),O=R+(P^B&(w^P))+V[13]+2850285829&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^P&(R^w))+V[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=P+(R^w&(B^R))+V[7]+1735328473&4294967295,P=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(P^B))+V[12]+2368359562&4294967295,w=P+(O<<20&4294967295|O>>>12),O=R+(w^P^B)+V[5]+4294588738&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^P)+V[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=P+(B^R^w)+V[11]+1839030562&4294967295,P=B+(O<<16&4294967295|O>>>16),O=w+(P^B^R)+V[14]+4259657740&4294967295,w=P+(O<<23&4294967295|O>>>9),O=R+(w^P^B)+V[1]+2763975236&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^P)+V[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=P+(B^R^w)+V[7]+4139469664&4294967295,P=B+(O<<16&4294967295|O>>>16),O=w+(P^B^R)+V[10]+3200236656&4294967295,w=P+(O<<23&4294967295|O>>>9),O=R+(w^P^B)+V[13]+681279174&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^P)+V[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=P+(B^R^w)+V[3]+3572445317&4294967295,P=B+(O<<16&4294967295|O>>>16),O=w+(P^B^R)+V[6]+76029189&4294967295,w=P+(O<<23&4294967295|O>>>9),O=R+(w^P^B)+V[9]+3654602809&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^P)+V[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=P+(B^R^w)+V[15]+530742520&4294967295,P=B+(O<<16&4294967295|O>>>16),O=w+(P^B^R)+V[2]+3299628645&4294967295,w=P+(O<<23&4294967295|O>>>9),O=R+(P^(w|~B))+V[0]+4096336452&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~P))+V[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=P+(R^(B|~w))+V[14]+2878612391&4294967295,P=B+(O<<15&4294967295|O>>>17),O=w+(B^(P|~R))+V[5]+4237533241&4294967295,w=P+(O<<21&4294967295|O>>>11),O=R+(P^(w|~B))+V[12]+1700485571&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~P))+V[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=P+(R^(B|~w))+V[10]+4293915773&4294967295,P=B+(O<<15&4294967295|O>>>17),O=w+(B^(P|~R))+V[1]+2240044497&4294967295,w=P+(O<<21&4294967295|O>>>11),O=R+(P^(w|~B))+V[8]+1873313359&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~P))+V[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=P+(R^(B|~w))+V[6]+2734768916&4294967295,P=B+(O<<15&4294967295|O>>>17),O=w+(B^(P|~R))+V[13]+1309151649&4294967295,w=P+(O<<21&4294967295|O>>>11),O=R+(P^(w|~B))+V[4]+4149444226&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~P))+V[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=P+(R^(B|~w))+V[2]+718787259&4294967295,P=B+(O<<15&4294967295|O>>>17),O=w+(B^(P|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+B&4294967295}a.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var w=R-this.blockSize,V=this.B,P=this.h,B=0;B<R;){if(P==0)for(;B<=w;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(V[P++]=I.charCodeAt(B++),P==this.blockSize){o(this,V),P=0;break}}else for(;B<R;)if(V[P++]=I[B++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=R},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var w=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.u(I),I=Array(16),R=w=0;4>R;++R)for(var V=0;32>V;V+=8)I[w++]=this.g[R]>>>V&255;return I};function u(I,R){var w=m;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=R(I)}function f(I,R){this.h=R;for(var w=[],V=!0,P=I.length-1;0<=P;P--){var B=I[P]|0;V&&B==R||(w[P]=B,V=!1)}this.g=w}var m={};function g(I){return-128<=I&&128>I?u(I,function(R){return new f([R|0],0>R?-1:0)}):new f([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(0>I)return M(y(-I));for(var R=[],w=1,V=0;I>=w;V++)R[V]=I/w|0,w*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return M(E(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),V=S,P=0;P<I.length;P+=8){var B=Math.min(8,I.length-P),O=parseInt(I.substring(P,P+B),R);8>B?(B=y(Math.pow(R,B)),V=V.j(B).add(y(O))):(V=V.j(w),V=V.add(y(O)))}return V}var S=g(0),A=g(1),x=g(16777216);n=f.prototype,n.m=function(){if(H(this))return-M(this).m();for(var I=0,R=1,w=0;w<this.g.length;w++){var V=this.i(w);I+=(0<=V?V:4294967296+V)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(H(this))return"-"+M(this).toString(I);for(var R=y(Math.pow(I,6)),w=this,V="";;){var P=rt(w,R).g;w=j(w,P.j(R));var B=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=P,D(w))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function H(I){return I.h==-1}n.l=function(I){return I=j(this,I),H(I)?-1:D(I)?0:1};function M(I){for(var R=I.g.length,w=[],V=0;V<R;V++)w[V]=~I.g[V];return new f(w,~I.h).add(A)}n.abs=function(){return H(this)?M(this):this},n.add=function(I){for(var R=Math.max(this.g.length,I.g.length),w=[],V=0,P=0;P<=R;P++){var B=V+(this.i(P)&65535)+(I.i(P)&65535),O=(B>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);V=O>>>16,B&=65535,O&=65535,w[P]=O<<16|B}return new f(w,w[w.length-1]&-2147483648?-1:0)};function j(I,R){return I.add(M(R))}n.j=function(I){if(D(this)||D(I))return S;if(H(this))return H(I)?M(this).j(M(I)):M(M(this).j(I));if(H(I))return M(this.j(M(I)));if(0>this.l(x)&&0>I.l(x))return y(this.m()*I.m());for(var R=this.g.length+I.g.length,w=[],V=0;V<2*R;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<I.g.length;P++){var B=this.i(V)>>>16,O=this.i(V)&65535,le=I.i(P)>>>16,re=I.i(P)&65535;w[2*V+2*P]+=O*re,F(w,2*V+2*P),w[2*V+2*P+1]+=B*re,F(w,2*V+2*P+1),w[2*V+2*P+1]+=O*le,F(w,2*V+2*P+1),w[2*V+2*P+2]+=B*le,F(w,2*V+2*P+2)}for(V=0;V<R;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=R;V<2*R;V++)w[V]=0;return new f(w,0)};function F(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function G(I,R){this.g=I,this.h=R}function rt(I,R){if(D(R))throw Error("division by zero");if(D(I))return new G(S,S);if(H(I))return R=rt(M(I),R),new G(M(R.g),M(R.h));if(H(R))return R=rt(I,M(R)),new G(M(R.g),R.h);if(30<I.g.length){if(H(I)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,V=R;0>=V.l(I);)w=st(w),V=st(V);var P=ut(w,1),B=ut(V,1);for(V=ut(V,2),w=ut(w,2);!D(V);){var O=B.add(V);0>=O.l(I)&&(P=P.add(w),B=O),V=ut(V,1),w=ut(w,1)}return R=j(I,P.j(R)),new G(P,R)}for(P=S;0<=I.l(R);){for(w=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=y(w),O=B.j(R);H(O)||0<O.l(I);)w-=V,B=y(w),O=B.j(R);D(B)&&(B=A),P=P.add(B),I=j(I,O)}return new G(P,I)}n.A=function(I){return rt(this,I).h},n.and=function(I){for(var R=Math.max(this.g.length,I.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)&I.i(V);return new f(w,this.h&I.h)},n.or=function(I){for(var R=Math.max(this.g.length,I.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)|I.i(V);return new f(w,this.h|I.h)},n.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),w=[],V=0;V<R;V++)w[V]=this.i(V)^I.i(V);return new f(w,this.h^I.h)};function st(I){for(var R=I.g.length+1,w=[],V=0;V<R;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(w,I.h)}function ut(I,R){var w=R>>5;R%=32;for(var V=I.g.length-w,P=[],B=0;B<V;B++)P[B]=0<R?I.i(B+w)>>>R|I.i(B+w+1)<<32-R:I.i(B+w);return new f(P,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,n1=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xi=f}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r1,Cl,i1,Fc,zm,a1,s1,o1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(c,p){if(p)t:{var v=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var q=c[b];if(!(q in v))break t;v=v[q]}c=c[c.length-1],b=v[c],p=p(b),p!=b&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,b=!1,q={next:function(){if(!b&&v<c.length){var K=v++;return{value:p(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function S(c,p,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),c.apply(p,q)}}return function(){return c.apply(p,arguments)}}function A(c,p,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function x(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function D(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,q,K){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return p.prototype[q].apply(b,lt)}}function H(c){const p=c.length;if(0<p){const v=Array(p);for(let b=0;b<p;b++)v[b]=c[b];return v}return[]}function M(c,p){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(g(b)){const q=c.length||0,K=b.length||0;c.length=q+K;for(let lt=0;lt<K;lt++)c[q+lt]=b[lt]}else c.push(b)}}class j{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var st=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ut(c,p,v){for(const b in c)p.call(v,c[b],b,c)}function I(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function R(c){const p={};for(const v in c)p[v]=c[v];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,p){let v,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(v in b)c[v]=b[v];for(let K=0;K<w.length;K++)v=w[K],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function P(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function B(c){m.setTimeout(()=>{throw c},0)}function O(){var c=wt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class le{constructor(){this.h=this.g=null}add(p,v){const b=re.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var re=new j(()=>new ot,c=>c.reset());class ot{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,wt=new le,z=()=>{const c=m.Promise.resolve(void 0);yt=()=>{c.then(et)}};var et=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){B(v)}var p=re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}mt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function At(c,p){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(st){t:{try{rt(p.nodeName);var q=!0;break t}catch{}q=!1}q||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}D(At,at);var bt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),It=0;function Ht(c,p,v,b,q){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=q,this.key=++It,this.da=this.fa=!1}function kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gt(c){this.src=c,this.g={},this.h=0}gt.prototype.add=function(c,p,v,b,q){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var lt=se(c,p,b,q);return-1<lt?(p=c[lt],v||(p.fa=!1)):(p=new Ht(p,this.src,K,!!b,q),p.fa=v,c.push(p)),p};function Yt(c,p){var v=p.type;if(v in c.g){var b=c.g[v],q=Array.prototype.indexOf.call(b,p,void 0),K;(K=0<=q)&&Array.prototype.splice.call(b,q,1),K&&(kt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function se(c,p,v,b){for(var q=0;q<c.length;++q){var K=c[q];if(!K.da&&K.listener==p&&K.capture==!!v&&K.ha==b)return q}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),Kt={};function xe(c,p,v,b,q){if(Array.isArray(p)){for(var K=0;K<p.length;K++)xe(c,p[K],v,b,q);return null}return v=au(v),c&&c[ee]?c.K(p,v,y(b)?!!b.capture:!1,q):oa(c,p,v,!1,b,q)}function oa(c,p,v,b,q,K){if(!p)throw Error("Invalid event type");var lt=y(q)?!!q.capture:!!q,Lt=vo(c);if(Lt||(c[dn]=Lt=new gt(c)),v=Lt.add(p,v,b,lt,K),v.proxy)return v;if(b=Wa(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)ht||(q=lt),q===void 0&&(q=!1),c.addEventListener(p.toString(),b,q);else if(c.attachEvent)c.attachEvent(es(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wa(){function c(v){return p.call(c.src,c.listener,v)}const p=Hh;return c}function ts(c,p,v,b,q){if(Array.isArray(p))for(var K=0;K<p.length;K++)ts(c,p[K],v,b,q);else b=y(b)?!!b.capture:!!b,v=au(v),c&&c[ee]?(c=c.i,p=String(p).toString(),p in c.g&&(K=c.g[p],v=se(K,v,b,q),-1<v&&(kt(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[p],c.h--)))):c&&(c=vo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=se(p,v,b,q)),(v=-1<c?p[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ee])Yt(p.i,c);else{var v=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(v,b,c.capture):p.detachEvent?p.detachEvent(es(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=vo(p))?(Yt(v,c),v.h==0&&(v.src=null,p[dn]=null)):kt(c)}}}function es(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Hh(c,p){if(c.da)c=!0;else{p=new At(p,this);var v=c.listener,b=c.ha||c.src;c.fa&&la(c),c=v.call(b,p)}return c}function vo(c){return c=c[dn],c instanceof gt?c:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(c){return typeof c=="function"?c:(c[mn]||(c[mn]=function(p){return c.handleEvent(p)}),c[mn])}function De(){ct.call(this),this.i=new gt(this),this.M=this,this.F=null}D(De,ct),De.prototype[ee]=!0,De.prototype.removeEventListener=function(c,p,v,b){ts(this,c,p,v,b)};function ke(c,p){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new at(p,c);else if(p instanceof at)p.target=p.target||c;else{var q=p;p=new at(b,c),V(p,q)}if(q=!0,v)for(var K=v.length-1;0<=K;K--){var lt=p.g=v[K];q=Nr(lt,b,!0,p)&&q}if(lt=p.g=c,q=Nr(lt,b,!0,p)&&q,q=Nr(lt,b,!1,p)&&q,v)for(K=0;K<v.length;K++)lt=p.g=v[K],q=Nr(lt,b,!1,p)&&q}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],b=0;b<v.length;b++)kt(v[b]);delete c.g[p],c.h--}}this.F=null},De.prototype.K=function(c,p,v,b){return this.i.add(String(c),p,!1,v,b)},De.prototype.L=function(c,p,v,b){return this.i.add(String(c),p,!0,v,b)};function Nr(c,p,v,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,K=0;K<p.length;++K){var lt=p[K];if(lt&&!lt.da&&lt.capture==v){var Lt=lt.listener,Oe=lt.ha||lt.src;lt.fa&&Yt(c.i,lt),q=Lt.call(Oe,b)!==!1&&q}}return q&&!b.defaultPrevented}function su(c,p,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function _o(c){c.g=su(()=>{c.g=null,c.i&&(c.i=!1,_o(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Fh extends ct{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){ct.call(this),this.h=c,this.g={}}D(ua,ct);var ci=[];function tn(c){ut(c.g,function(p,v){this.g.hasOwnProperty(v)&&la(p)},c),c.g={}}ua.prototype.N=function(){ua.aa.N.call(this),tn(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eo=m.JSON.stringify,sr=m.JSON.parse,ln=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function ou(c){return c.h||(c.h=c.i())}function lu(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){at.call(this,"d")}D(hi,at);function Yn(){at.call(this,"c")}D(Yn,at);var In={},fi=null;function ns(){return fi=fi||new De}In.La="serverreachability";function bo(c){at.call(this,In.La,c)}D(bo,at);function di(c){const p=ns();ke(p,new bo(p))}In.STAT_EVENT="statevent";function rs(c,p){at.call(this,In.STAT_EVENT,c),this.stat=p}D(rs,at);function _e(c){const p=ns();ke(p,new rs(p,c))}In.Ma="timingevent";function uu(c,p){at.call(this,In.Ma,c),this.size=p}D(uu,at);function mi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function cu(c,p,v,b,q,K){c.info(function(){if(c.g)if(K)for(var lt="",Lt=K.split("&"),Oe=0;Oe<Lt.length;Oe++){var jt=Lt[Oe].split("=");if(1<jt.length){var je=jt[0];jt=jt[1];var Ve=je.split("_");lt=2<=Ve.length&&Ve[1]=="type"?lt+(je+"="+jt+"&"):lt+(je+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+p+`
`+v+`
`+lt})}function hu(c,p,v,b,q,K,lt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+p+`
`+v+`
`+K+" "+lt})}function gi(c,p,v,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ue(c,v)+(b?" "+b:"")})}function lr(c,p){c.info(function(){return"TIMEOUT: "+p})}pi.prototype.info=function(){};function Ue(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return Eo(v)}catch{return p}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ca;function is(){}D(is,To),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},ca=new is;function ur(c,p,v,b){this.j=c,this.i=p,this.l=v,this.R=b||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new So}function So(){this.i=null,this.g="",this.h=!1}var yi={},ha={};function Kn(c,p,v){c.L=1,c.v=ma(me(p)),c.m=v,c.P=!0,zr(c,null)}function zr(c,p){c.F=Date.now(),ue(c),c.A=me(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ur(v.i,"t",b),c.C=0,v=c.j.J,c.h=new So,c.g=wu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Fh(A(c.Y,c,c.g),c.O)),p=c.U,v=c.g,b=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ci[0]=q.toString()),q=ci);for(var K=0;K<q.length;K++){var lt=xe(v,q[K],b||p.handleEvent,!1,p.h||p);if(!lt)break;p.g[lt.key]=lt}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),di(),cu(c.i,c.u,c.A,c.l,c.R,c.m)}ur.prototype.ca=function(c){c=c.target;const p=this.M;p&&zn(c)==3?p.j():this.Y(c)},ur.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=zn(this.g);var p=this.g.Ba();const $r=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Ve!=4||p==7||(p==8||0>=$r?di(3):di(2)),as(this);var v=this.g.Z();this.X=v;e:if(vi(this)){var b=yu(this.g);c="";var q=b.length,K=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Tn(this);var lt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(K&&p==q-1)});b.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=v==200,hu(this.i,this.u,this.A,this.l,this.R,Ve,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Oe=this.g;if((Lt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Lt)){var jt=Lt;break e}}jt=null}if(v=jt)gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,v);else{this.o=!1,this.s=3,_e(12),pn(this),Tn(this);break t}}if(this.P){v=!0;let Ge;for(;!this.J&&this.C<lt.length;)if(Ge=_i(this,lt),Ge==ha){Ve==4&&(this.s=4,_e(14),v=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==yi){this.s=4,_e(15),gi(this.i,this.l,lt,"[Invalid Chunk]"),v=!1;break}else gi(this.i,this.l,Ge,null),bn(this,Ge);if(vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||lt.length!=0||this.h.h||(this.s=1,_e(16),v=!1),this.o=this.o&&v,!v)gi(this.i,this.l,lt,"[Invalid Chunked Response]"),pn(this),Tn(this);else if(0<lt.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Ta(je),je.M=!0,_e(11))}}else gi(this.i,this.l,lt,null),bn(this,lt);Ve==4&&pn(this),this.o&&!this.J&&(Ve==4?bu(this.j,this):(this.o=!1,ue(this)))}else Zh(this.g),v==400&&0<lt.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),pn(this),Tn(this)}}}catch{}finally{}};function vi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _i(c,p){var v=c.C,b=p.indexOf(`
`,v);return b==-1?ha:(v=Number(p.substring(v,b)),isNaN(v)?yi:(b+=1,b+v>p.length?ha:(p=p.slice(b,b+v),c.C=b+v,p)))}ur.prototype.cancel=function(){this.J=!0,pn(this)};function ue(c){c.S=Date.now()+c.I,Ao(c,c.I)}function Ao(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mi(A(c.ba,c),p)}function as(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ur.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lr(this.i,this.A),this.L!=2&&(di(),_e(17)),pn(this),this.s=2,Tn(this)):Ao(this,this.S-c)};function Tn(c){c.j.G==0||c.J||bu(c.j,c)}function pn(c){as(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,tn(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function bn(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Ei(v.h,c))){if(!c.K&&Ei(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ps(v),ds(v);else break t;zo(v),_e(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=mi(A(v.Za,v),6e3));if(1>=fu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Br(v,11)}else if((c.K||v.g==c)&&ps(v),!F(p))for(q=v.Da.g.parse(p),p=0;p<q.length;p++){let jt=q[p];if(v.T=jt[0],jt=jt[1],v.G==2)if(jt[0]=="c"){v.K=jt[1],v.ia=jt[2];const je=jt[3];je!=null&&(v.la=je,v.j.info("VER="+v.la));const Ve=jt[4];Ve!=null&&(v.Aa=Ve,v.j.info("SVER="+v.Aa));const $r=jt[5];$r!=null&&typeof $r=="number"&&0<$r&&(b=1.5*$r,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ge=c.g;if(Ge){const gr=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var K=b.h;K.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ti(K,K.h),K.h=null))}if(b.D){const ko=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(b.ya=ko,Ft(b.I,b.D,ko))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var lt=c;if(b.qa=Au(b,b.J?b.ia:null,b.W),lt.K){On(b.h,lt);var Lt=lt,Oe=b.L;Oe&&(Lt.I=Oe),Lt.B&&(as(Lt),ue(Lt)),b.g=lt}else Eu(b);0<v.i.length&&ms(v)}else jt[0]!="stop"&&jt[0]!="close"||Br(v,7);else v.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Br(v,7):No(v):jt[0]!="noop"&&v.l&&v.l.ta(jt),v.v=0)}}di(4)}catch{}}var Gh=class{constructor(c,p){this.g=c,this.map=p}};function wo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fu(c){return c.h?1:c.g?c.g.size:0}function Ei(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ti(c,p){c.g?c.g.add(p):c.h=p}function On(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wo.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return H(c.i)}function du(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,b=0;b<v;b++)p.push(c[b]);return p}p=[],v=0;for(b in c)p[v++]=c[b];return p}function Qh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const b in c)p[v++]=b;return p}}}function fa(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Qh(c),b=du(c),q=b.length,K=0;K<q;K++)p.call(void 0,b[K],v&&v[K],c)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ss(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),q=null;if(0<=b){var K=c[v].substring(0,b);q=c[v].substring(b+1)}else K=c[v];p(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Pr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pr){this.h=c.h,bi(this,c.j),this.o=c.o,this.g=c.g,da(this,c.s),this.l=c.l;var p=c.i,v=new cr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),os(this,v),this.m=c.m}else c&&(p=String(c).match(Co))?(this.h=!1,bi(this,p[1]||"",!0),this.o=Si(p[2]||""),this.g=Si(p[3]||"",!0),da(this,p[4]),this.l=Si(p[5]||"",!0),os(this,p[6]||"",!0),this.m=Si(p[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Pr.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Vn(p,xo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Vn(p,xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Vn(v,v.charAt(0)=="/"?Do:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Vn(v,Xh)),c.join("")};function me(c){return new Pr(c)}function bi(c,p,v){c.j=v?Si(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function da(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function os(c,p,v){p instanceof cr?(c.i=p,Io(c.i,c.h)):(v||(p=Vn(p,Kh)),c.i=new cr(p,c.h))}function Ft(c,p,v){c.i.set(p,v)}function ma(c){return Ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Si(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Yh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xo=/[#\/\?@]/g,mu=/[#\?:]/g,Do=/[#\?]/g,Kh=/[#\?@]/g,Xh=/#/g;function cr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&ss(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}n=cr.prototype,n.add=function(c,p){Nn(this),this.i=null,c=Lr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ls(c,p){Nn(c),p=Lr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function kr(c,p){return Nn(c),p=Lr(c,p),c.g.has(p)}n.forEach=function(c,p){Nn(this),this.g.forEach(function(v,b){v.forEach(function(q){c.call(p,q,b,this)},this)},this)},n.na=function(){Nn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let b=0;b<p.length;b++){const q=c[b];for(let K=0;K<q.length;K++)v.push(p[b])}return v},n.V=function(c){Nn(this);let p=[];if(typeof c=="string")kr(this,c)&&(p=p.concat(this.g.get(Lr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},n.set=function(c,p){return Nn(this),this.i=null,c=Lr(this,c),kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},n.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ur(c,p,v){ls(c,p),0<v.length&&(c.i=null,c.g.set(Lr(c,p),H(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var b=p[v];const K=encodeURIComponent(String(b)),lt=this.V(b);for(b=0;b<lt.length;b++){var q=K;lt[b]!==""&&(q+="="+encodeURIComponent(String(lt[b]))),c.push(q)}}return this.i=c.join("&")};function Lr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Io(c,p){p&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,b){var q=b.toLowerCase();b!=q&&(ls(this,b),Ur(this,q,v))},c)),c.j=p}function pu(c,p){const v=new pi;if(m.Image){const b=new Image;b.onload=x(Mn,v,"TestLoadImage: loaded",!0,p,b),b.onerror=x(Mn,v,"TestLoadImage: error",!1,p,b),b.onabort=x(Mn,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=x(Mn,v,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function pa(c,p){const v=new pi,b=new AbortController,q=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(q),K.ok?Mn(v,"TestPingServer: ok",!0,p):Mn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),Mn(v,"TestPingServer: error",!1,p)})}function Mn(c,p,v,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(v)}catch{}}function ga(){this.g=new ln}function hr(c,p,v){const b=v||"";try{fa(c,function(q,K){let lt=q;y(q)&&(lt=Eo(q)),p.push(b+K+"="+encodeURIComponent(lt))})}catch(q){throw p.push(b+"type="+encodeURIComponent("_badmap")),q}}function Ai(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ai,To),Ai.prototype.g=function(){return new jr(this.l,this.j)},Ai.prototype.i=function(c){return function(){return c}}({});function jr(c,p){De.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(jr,De),n=jr.prototype,n.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,dr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?fr(this):dr(this),this.readyState==3&&Oo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,fr(this))},n.Qa=function(c){this.g&&(this.response=c,fr(this))},n.ga=function(){this.g&&fr(this)};function fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dr(c)}n.setRequestHeader=function(c,p){this.u.append(c,p)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let p="";return ut(c,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function Le(c,p,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Vo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ft(c,p,v))}function Xt(c){De.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Xt,De);var us=/^https?$/i,ya=["POST","PUT"];n=Xt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ca.g(),this.v=this.o?ou(this.o):ou(ca),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(K){gu(this,K);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)v.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())v.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ya,p,void 0))||b||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of v)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){gu(this,K)}};function gu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,cs(c),mr(c)}function cs(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ke(this,"complete"),ke(this,"abort"),mr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hs(this):this.bb())},n.bb=function(){hs(this)};function hs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)su(c.Ea,0,c);else if(ke(c,"readystatechange"),zn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var b;if(b=lt===0){var q=String(c.D).match(Co)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),b=!us.test(q?q.toLowerCase():"")}v=b}if(v)ke(c,"complete"),ke(c,"success");else{c.m=6;try{var K=2<zn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",cs(c)}}finally{mr(c)}}}}function mr(c,p){if(c.g){va(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ke(c,"ready");try{v.onreadystatechange=b}catch{}}}function va(c){c.I&&(m.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),sr(p)}};function yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zh(c){const p={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(F(c[b]))continue;var v=P(c[b]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=p[q]||[];p[q]=K,K.push(v)}I(p,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function fs(c){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,c),this.cb=_a("retryDelaySeedMs",1e4,c),this.Wa=_a("forwardChannelMaxRetries",2,c),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(c&&c.concurrentRequestLimit),this.Da=new ga,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fs.prototype,n.la=8,n.G=1,n.connect=function(c,p,v,b){_e(0),this.W=c,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Au(this,null,this.W),ms(this)};function No(c){if(vu(c),c.G==3){var p=c.U++,v=me(c.I);if(Ft(v,"SID",c.K),Ft(v,"RID",p),Ft(v,"TYPE","terminate"),Ea(c,v),p=new ur(c,c.j,p),p.L=2,p.v=ma(me(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=wu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ue(p)}Su(c)}function ds(c){c.g&&(Ta(c),c.g.cancel(),c.g=null)}function vu(c){ds(c),c.u&&(m.clearTimeout(c.u),c.u=null),ps(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ms(c){if(!Ro(c.h)&&!c.s){c.s=!0;var p=c.Ga;yt||z(),mt||(yt(),mt=!0),wt.add(p,c),c.B=0}}function Jh(c,p){return fu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mi(A(c.Ga,c,p),Po(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new ur(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=_u(this,q,p),v=me(this.I),Ft(v,"RID",c),Ft(v,"CVER",22),this.D&&Ft(v,"X-HTTP-Session-Id",this.D),Ea(this,v),K&&(this.O?p="headers="+encodeURIComponent(String(Vo(K)))+"&"+p:this.m&&Le(v,this.m,K)),Ti(this.h,q),this.Ua&&Ft(v,"TYPE","init"),this.P?(Ft(v,"$req",p),Ft(v,"SID","null"),q.T=!0,Kn(q,v,null)):Kn(q,v,p),this.G=2}}else this.G==3&&(c?Mo(this,c):this.i.length==0||Ro(this.h)||Mo(this))};function Mo(c,p){var v;p?v=p.l:v=c.U++;const b=me(c.I);Ft(b,"SID",c.K),Ft(b,"RID",v),Ft(b,"AID",c.T),Ea(c,b),c.m&&c.o&&Le(b,c.m,c.o),v=new ur(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=_u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ti(c.h,v),Kn(v,b,p)}function Ea(c,p){c.H&&ut(c.H,function(v,b){Ft(p,b,v)}),c.l&&fa({},function(v,b){Ft(p,b,v)})}function _u(c,p,v){v=Math.min(c.i.length,v);var b=c.l?A(c.l.Na,c.l,c):null;t:{var q=c.i;let K=-1;for(;;){const lt=["count="+v];K==-1?0<v?(K=q[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let Lt=!0;for(let Oe=0;Oe<v;Oe++){let jt=q[Oe].g;const je=q[Oe].map;if(jt-=K,0>jt)K=Math.max(0,q[Oe].g-100),Lt=!1;else try{hr(je,lt,"req"+jt+"_")}catch{b&&b(je)}}if(Lt){b=lt.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,b}function Eu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;yt||z(),mt||(yt(),mt=!0),wt.add(p,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mi(A(c.Fa,c),Po(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mi(A(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),ds(this),Tu(this))};function Ta(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new ur(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=me(c.qa);Ft(p,"RID","rpc"),Ft(p,"SID",c.K),Ft(p,"AID",c.T),Ft(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ft(p,"TO",c.ja),Ft(p,"TYPE","xmlhttp"),Ea(c,p),c.m&&c.o&&Le(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ma(me(p)),v.m=null,v.P=!0,zr(v,c)}n.Za=function(){this.C!=null&&(this.C=null,ds(this),zo(this),_e(19))};function ps(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function bu(c,p){var v=null;if(c.g==p){ps(c),Ta(c),c.g=null;var b=2}else if(Ei(c.h,p))v=p.D,On(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var q=c.B;b=ns(),ke(b,new uu(b,v)),ms(c)}else Eu(c);else if(q=p.s,q==3||q==0&&0<p.X||!(b==1&&Jh(c,p)||b==2&&zo(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),q){case 1:Br(c,5);break;case 4:Br(c,10);break;case 3:Br(c,6);break;default:Br(c,2)}}}function Po(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Br(c,p){if(c.j.info("Error code "+p),p==2){var v=A(c.fb,c),b=c.Xa;const q=!b;b=new Pr(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bi(b,"https"),ma(b),q?pu(b.toString(),v):pa(b.toString(),v)}else _e(2);c.G=0,c.l&&c.l.sa(p),Su(c),vu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const p=un(c.h);(p.length!=0||c.i.length!=0)&&(M(c.ka,p),M(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Au(c,p,v){var b=v instanceof Pr?me(v):new Pr(v);if(b.g!="")p&&(b.g=p+"."+b.g),da(b,b.s);else{var q=m.location;b=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var K=new Pr(null);b&&bi(K,b),p&&(K.g=p),q&&da(K,q),v&&(K.l=v),b=K}return v=c.D,p=c.ya,v&&p&&Ft(b,v,p),Ft(b,"VER",c.la),Ea(c,b),b}function wu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Xt(new Ai({eb:v})):new Xt(c.pa),p.Ha(c.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}n=Ru.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gs(){}gs.prototype.g=function(c,p){return new cn(c,p)};function cn(c,p){De.call(this),this.g=new fs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!F(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!F(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new pr(this)}D(cn,De),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){No(this.g)},cn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Eo(c),c=v);p.i.push(new Gh(p.Ya++,c)),p.G==3&&ms(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,cn.aa.N.call(this)};function Cu(c){hi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}D(Cu,hi);function xu(){Yn.call(this),this.status=1}D(xu,Yn);function pr(c){this.g=c}D(pr,Ru),pr.prototype.ua=function(){ke(this.g,"a")},pr.prototype.ta=function(c){ke(this.g,new Cu(c))},pr.prototype.sa=function(c){ke(this.g,new xu)},pr.prototype.ra=function(){ke(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,o1=function(){return new gs},s1=function(){return ns()},a1=In,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Fc=Ie,Mr.COMPLETE="complete",i1=Mr,lu.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",De.prototype.listen=De.prototype.K,Cl=lu,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,r1=Xt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",U0="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new XE("@firebase/firestore");function Hs(){return Qa.logLevel}function ft(n,...t){if(Qa.logLevel<=qt.DEBUG){const i=t.map(dp);Qa.debug(`Firestore (${mo}): ${n}`,...i)}}function li(n,...t){if(Qa.logLevel<=qt.ERROR){const i=t.map(dp);Qa.error(`Firestore (${mo}): ${n}`,...i)}}function eo(n,...t){if(Qa.logLevel<=qt.WARN){const i=t.map(dp);Qa.warn(`Firestore (${mo}): ${n}`,...i)}}function dp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,l1(n,a,i)}function l1(n,t,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw li(a),new Error(a)}function Jt(n,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,n||l1(t,o,a)}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends fo{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(an.UNAUTHENTICATED))}shutdown(){}}class QC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class YC{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Jt(typeof a.accessToken=="string",31837,{l:a}),new u1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class KC{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XC{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OC(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const a=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<n;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=JC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<i&&(a+=t.charAt(o[u]%62))}return a}}function Nt(n,t){return n<t?-1:n>t?1:0}function Pm(n,t){let i=0;for(;i<n.length&&i<t.length;){const a=n.codePointAt(i),o=t.codePointAt(i);if(a!==o){if(a<128&&o<128)return Nt(a,o);{const u=c1(),f=WC(u.encode(j0(n,i)),u.encode(j0(t,i)));return f!==0?f:Nt(a,o)}}i+=a>65535?2:1}return Nt(n.length,t.length)}function j0(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function WC(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return Nt(n[i],t[i]);return Nt(n.length,t.length)}function no(n,t,i){return n.length===t.length&&n.every((a,o)=>i(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-62135596800,$0=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*$0);return new be(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new _t(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<B0)throw new _t(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-B0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new be(0,0))}static max(){return new Rt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="__name__";class br{constructor(t,i,a){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&St(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return br.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof br?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const u=br.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Nt(t.length,i.length)}static compareSegments(t,i){const a=br.isNumericId(t),o=br.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?br.extractNumericId(t).compare(br.extractNumericId(i)):Pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xi.fromString(t.substring(4,t.length-2))}}class ve extends br{construct(t,i,a){return new ve(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new _t(it.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ve(i)}static emptyPath(){return new ve([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends br{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return t2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new Je([q0])}static fromServerFormat(t){const i=[];let a="",o=0;const u=()=>{if(a.length===0)throw new _t(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new _t(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _t(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new _t(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ve.fromString(t))}static fromName(t){return new Et(ve.fromString(t).popFirst(5))}static empty(){return new Et(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ve.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ve(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function e2(n,t){const i=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(a===1e9?new be(i+1,0):new be(i,a));return new Wi(o,Et.empty(),t)}function n2(n){return new Wi(n.readTime,n.key,$l)}class Wi{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Wi(Rt.min(),Et.empty(),$l)}static max(){return new Wi(Rt.max(),Et.empty(),$l)}}function r2(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(n.documentKey,t.documentKey),i!==0?i:Nt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==i2)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,a)=>{i(t)})}static reject(t){return new W((i,a)=>{a(t)})}static waitFor(t){return new W((i,a)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&i()},g=>a(g))}),f=!0,u===o&&i()})}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next(o=>o?W.resolve(o):a());return i}static forEach(t,i){const a=[];return t.forEach((o,u)=>{a.push(i.call(this,o,u))}),this.waitFor(a)}static mapArray(t,i){return new W((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;i(t[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(t,i){return new W((a,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):a()};u()})}}function s2(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Ch.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function xh(n){return n==null}function oh(n){return n===0&&1/n==-1/0}function o2(n){return typeof n=="number"&&Number.isInteger(n)&&!oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="";function l2(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=H0(t)),t=u2(n.get(i),t);return H0(t)}function u2(n,t){let i=t;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case f1:i+="";break;default:i+=u}}return i}function H0(n){return n+f1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function aa(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function d1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,o,u){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,u){return new Ze(t??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,a),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,a,o,u){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Pe(this.comparator);return i.data=t,i}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new Pe(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m1("Invalid base64 string: "+u):u}}(t);return new We(i)}static fromUint8Array(t){const i=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const c2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(n){if(Jt(!!n,39018),typeof n=="string"){let t=0;const i=c2.exec(n);if(Jt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ea(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="server_timestamp",g1="__type__",y1="__previous_value__",v1="__local_write_time__";function pp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[g1])===null||i===void 0?void 0:i.stringValue)===p1}function Dh(n){const t=n.mapValue.fields[y1];return pp(t)?Dh(t):t}function ql(n){const t=ta(n.mapValue.fields[v1].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,i,a,o,u,f,m,g,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const lh="(default)";class Hl{constructor(t,i){this.projectId=t,this.database=i||lh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="__type__",f2="__max__",Oc={mapValue:{}},E1="__vector__",uh="value";function na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pp(n)?4:m2(n)?9007199254740991:d2(n)?10:11:St(28295,{value:n})}function xr(n,t){if(n===t)return!0;const i=na(n);if(i!==na(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ql(n).isEqual(ql(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ta(o.timestampValue),m=ta(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return ea(o.bytesValue).isEqual(ea(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Te(o.doubleValue),m=Te(u.doubleValue);return f===m?oh(f)===oh(m):isNaN(f)&&isNaN(m)}return!1}(n,t);case 9:return no(n.arrayValue.values||[],t.arrayValue.values||[],xr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(F0(f)!==F0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!xr(f[g],m[g])))return!1;return!0}(n,t);default:return St(52216,{left:n})}}function Fl(n,t){return(n.values||[]).find(i=>xr(i,t))!==void 0}function ro(n,t){if(n===t)return 0;const i=na(n),a=na(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Te(u.integerValue||u.doubleValue),g=Te(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,t);case 3:return Q0(n.timestampValue,t.timestampValue);case 4:return Q0(ql(n),ql(t));case 5:return Pm(n.stringValue,t.stringValue);case 6:return function(u,f){const m=ea(u),g=ea(f);return m.compareTo(g)}(n.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Nt(m[y],g[y]);if(E!==0)return E}return Nt(m.length,g.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Nt(Te(u.latitude),Te(f.latitude));return m!==0?m:Nt(Te(u.longitude),Te(f.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Y0(n.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,E;const S=u.fields||{},A=f.fields||{},x=(m=S[uh])===null||m===void 0?void 0:m.arrayValue,D=(g=A[uh])===null||g===void 0?void 0:g.arrayValue,H=Nt(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:Y0(x,D)}(n.mapValue,t.mapValue);case 11:return function(u,f){if(u===Oc.mapValue&&f===Oc.mapValue)return 0;if(u===Oc.mapValue)return 1;if(f===Oc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=Pm(g[S],E[S]);if(A!==0)return A;const x=ro(m[g[S]],y[E[S]]);if(x!==0)return x}return Nt(g.length,E.length)}(n.mapValue,t.mapValue);default:throw St(23264,{Pe:i})}}function Q0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Nt(n,t);const i=ta(n),a=ta(t),o=Nt(i.seconds,a.seconds);return o!==0?o:Nt(i.nanos,a.nanos)}function Y0(n,t){const i=n.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const u=ro(i[o],a[o]);if(u)return u}return Nt(i.length,a.length)}function io(n){return km(n)}function km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=ta(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return ea(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return Et.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let a="[",o=!0;for(const u of i.values||[])o?o=!1:a+=",",a+=km(u);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${km(i.fields[f])}`;return o+"}"}(n.mapValue):St(61005,{value:n})}function Gc(n){switch(na(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(n);return t?16+Gc(t):16;case 5:return 2*n.stringValue.length;case 6:return ea(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Gc(u),0)}(n.arrayValue);case 10:case 11:return function(a){let o=0;return aa(a.fields,(u,f)=>{o+=u.length+Gc(f)}),o}(n.mapValue);default:throw St(13486,{value:n})}}function Um(n){return!!n&&"integerValue"in n}function gp(n){return!!n&&"arrayValue"in n}function K0(n){return!!n&&"nullValue"in n}function X0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qc(n){return!!n&&"mapValue"in n}function d2(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[_1])===null||i===void 0?void 0:i.stringValue)===E1}function Vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return aa(n.mapValue.fields,(i,a)=>t.mapValue.fields[i]=Vl(a)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(n.arrayValue.values[i]);return t}return Object.assign({},n)}function m2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===f2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=Je.emptyPath(),a={},o=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=m.popLast()}f?a[m.lastSegment()]=Vl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,a,o)}delete(t){const i=this.field(t.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xr(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){aa(i,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new vn(Vl(this.value))}}function T1(n){const t=[];return aa(n.fields,(i,a)=>{const o=new Je([i]);if(Qc(a)){const u=T1(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,i,a,o,u,f,m){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,Rt.min(),Rt.min(),Rt.min(),vn.empty(),0)}static newFoundDocument(t,i,a,o){return new sn(t,1,i,Rt.min(),a,o,0)}static newNoDocument(t,i){return new sn(t,2,i,Rt.min(),Rt.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,Rt.min(),Rt.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,i){this.position=t,this.inclusive=i}}function Z0(n,t,i){let a=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?a=Et.comparator(Et.fromName(f.referenceValue),i.key):a=ro(f,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function J0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!xr(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,i="asc"){this.field=t,this.dir=i}}function p2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{}class ze extends b1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new y2(t,i,a):i==="array-contains"?new E2(t,a):i==="in"?new T2(t,a):i==="not-in"?new b2(t,a):i==="array-contains-any"?new S2(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new v2(t,a):new _2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&na(this.value)===na(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends b1{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new Dr(t,i)}matches(t){return S1(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function S1(n){return n.op==="and"}function A1(n){return g2(n)&&S1(n)}function g2(n){for(const t of n.filters)if(t instanceof Dr)return!1;return!0}function Lm(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+io(n.value);if(A1(n))return n.filters.map(t=>Lm(t)).join(",");{const t=n.filters.map(i=>Lm(i)).join(",");return`${n.op}(${t})`}}function w1(n,t){return n instanceof ze?function(a,o){return o instanceof ze&&a.op===o.op&&a.field.isEqual(o.field)&&xr(a.value,o.value)}(n,t):n instanceof Dr?function(a,o){return o instanceof Dr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&w1(f,o.filters[m]),!0):!1}(n,t):void St(19439)}function R1(n){return n instanceof ze?function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`}(n):n instanceof Dr?function(i){return i.op.toString()+" {"+i.getFilters().map(R1).join(" ,")+"}"}(n):"Filter"}class y2 extends ze{constructor(t,i,a){super(t,i,a),this.key=Et.fromName(a.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class v2 extends ze{constructor(t,i){super(t,"in",i),this.keys=C1("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class _2 extends ze{constructor(t,i){super(t,"not-in",i),this.keys=C1("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function C1(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>Et.fromName(a.referenceValue))}class E2 extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return gp(i)&&Fl(i.arrayValue,this.value)}}class T2 extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class b2 extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class S2 extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!gp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Fl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,i=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function W0(n,t=null,i=[],a=[],o=null,u=null,f=null){return new A2(n,t,i,a,o,u,f)}function yp(n){const t=xt(n);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Lm(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),xh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>io(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>io(a)).join(",")),t.Ie=i}return t.Ie}function vp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!p2(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!w1(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!J0(n.startAt,t.startAt)&&J0(n.endAt,t.endAt)}function jm(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,i=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function w2(n,t,i,a,o,u,f,m){return new Ih(n,t,i,a,o,u,f,m)}function Oh(n){return new Ih(n)}function t_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function R2(n){return n.collectionGroup!==null}function Nl(n){const t=xt(n);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe(Je.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new hh(u,a))}),i.has(Je.keyField().canonicalString())||t.Ee.push(new hh(Je.keyField(),a))}return t.Ee}function Ar(n){const t=xt(n);return t.de||(t.de=C2(t,Nl(n))),t.de}function C2(n,t){if(n.limitType==="F")return W0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hh(o.field,u)});const i=n.endAt?new ch(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new ch(n.startAt.position,n.startAt.inclusive):null;return W0(n.path,n.collectionGroup,t,n.filters,n.limit,i,a)}}function Bm(n,t,i){return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Vh(n,t){return vp(Ar(n),Ar(t))&&n.limitType===t.limitType}function x1(n){return`${yp(Ar(n))}|lt:${n.limitType}`}function Fs(n){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>R1(o)).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>io(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>io(o)).join(",")),`Target(${a})`}(Ar(n))}; limitType=${n.limitType})`}function Nh(n,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Et.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(n,t)&&function(a,o){for(const u of Nl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(a,o){return!(a.startAt&&!function(f,m,g){const y=Z0(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,Nl(a),o)||a.endAt&&!function(f,m,g){const y=Z0(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,Nl(a),o))}(n,t)}function x2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function D1(n){return(t,i)=>{let a=!1;for(const o of Nl(n)){const u=D2(o,t,i);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function D2(n,t,i){const a=n.field.isKeyField()?Et.comparator(t.key,i.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ro(g,y):St(42886)}(n.field,t,i);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){aa(this.inner,(i,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new de(Et.comparator);function ui(){return I2}const I1=new de(Et.comparator);function xl(...n){let t=I1;for(const i of n)t=t.insert(i.key,i);return t}function O1(n){let t=I1;return n.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function $a(){return Ml()}function V1(){return Ml()}function Ml(){return new Xa(n=>n.toString(),(n,t)=>n.isEqual(t))}const O2=new de(Et.comparator),V2=new Pe(Et.comparator);function Pt(...n){let t=V2;for(const i of n)t=t.add(i);return t}const N2=new Pe(Nt);function M2(){return N2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function N1(n){return{integerValue:""+n}}function z2(n,t){return o2(t)?N1(t):_p(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function P2(n,t,i){return n instanceof Gl?function(o,u){const f={fields:{[g1]:{stringValue:p1},[v1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=Dh(u)),u&&(f.fields[y1]=u),{mapValue:f}}(i,t):n instanceof ao?z1(n,t):n instanceof Ql?P1(n,t):function(o,u){const f=M1(o,u),m=e_(f)+e_(o.Re);return Um(f)&&Um(o.Re)?N1(m):_p(o.serializer,m)}(n,t)}function k2(n,t,i){return n instanceof ao?z1(n,t):n instanceof Ql?P1(n,t):i}function M1(n,t){return n instanceof fh?function(a){return Um(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Gl extends Mh{}class ao extends Mh{constructor(t){super(),this.elements=t}}function z1(n,t){const i=k1(t);for(const a of n.elements)i.some(o=>xr(o,a))||i.push(a);return{arrayValue:{values:i}}}class Ql extends Mh{constructor(t){super(),this.elements=t}}function P1(n,t){let i=k1(t);for(const a of n.elements)i=i.filter(o=>!xr(o,a));return{arrayValue:{values:i}}}class fh extends Mh{constructor(t,i){super(),this.serializer=t,this.Re=i}}function e_(n){return Te(n.integerValue||n.doubleValue)}function k1(n){return gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,i){this.field=t,this.transform=i}}function U2(n,t){return n.field.isEqual(t.field)&&function(a,o){return a instanceof ao&&o instanceof ao||a instanceof Ql&&o instanceof Ql?no(a.elements,o.elements,xr):a instanceof fh&&o instanceof fh?xr(a.Re,o.Re):a instanceof Gl&&o instanceof Gl}(n.transform,t.transform)}class L2{constructor(t,i){this.version=t,this.transformResults=i}}class wr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zh{}function L1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new B1(n.key,wr.none()):new Jl(n.key,n.data,wr.none());{const i=n.data,a=vn.empty();let o=new Pe(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new sa(n.key,a,new Dn(o.toArray()),wr.none())}}function j2(n,t,i){n instanceof Jl?function(o,u,f){const m=o.value.clone(),g=r_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(n,t,i):n instanceof sa?function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=r_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(j1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(n,t,i):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function zl(n,t,i,a){return n instanceof Jl?function(u,f,m,g){if(!Yc(u.precondition,f))return m;const y=u.value.clone(),E=i_(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(n,t,i,a):n instanceof sa?function(u,f,m,g){if(!Yc(u.precondition,f))return m;const y=i_(u.fieldTransforms,g,f),E=f.data;return E.setAll(j1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(n,t,i,a):function(u,f,m){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(n,t,i)}function B2(n,t){let i=null;for(const a of n.fieldTransforms){const o=t.data.field(a.field),u=M1(a.transform,o||null);u!=null&&(i===null&&(i=vn.empty()),i.set(a.field,u))}return i||null}function n_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&no(a,o,(u,f)=>U2(u,f))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Jl extends zh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends zh{constructor(t,i,a,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j1(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=n.data.field(i);t.set(i,a)}}),t}function r_(n,t,i){const a=new Map;Jt(n.length===i.length,32656,{Ve:i.length,me:n.length});for(let o=0;o<i.length;o++){const u=n[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,k2(f,m,i[o]))}return a}function i_(n,t,i){const a=new Map;for(const o of n){const u=o.transform,f=i.data.field(o.field);a.set(o.field,P2(u,f,t))}return a}class B1 extends zh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $2 extends zh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&j2(u,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=zl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=zl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=V1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const g=L1(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Rt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Pt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,(i,a)=>n_(i,a))&&no(this.baseMutations,t.baseMutations,(i,a)=>n_(i,a))}}class Ep{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Jt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let o=function(){return O2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Ep(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,$t;function G2(n){switch(n){case it.OK:return St(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function $1(n){if(n===void 0)return li("GRPC error has no .code"),it.UNKNOWN;switch(n){case Re.OK:return it.OK;case Re.CANCELLED:return it.CANCELLED;case Re.UNKNOWN:return it.UNKNOWN;case Re.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Re.INTERNAL:return it.INTERNAL;case Re.UNAVAILABLE:return it.UNAVAILABLE;case Re.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Re.NOT_FOUND:return it.NOT_FOUND;case Re.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Re.ABORTED:return it.ABORTED;case Re.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Re.DATA_LOSS:return it.DATA_LOSS;default:return St(39323,{code:n})}}($t=Re||(Re={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Xi([4294967295,4294967295],0);function a_(n){const t=c1().encode(n),i=new n1;return i.update(t),new Uint8Array(i.digest())}function s_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xi([i,a],0),new Xi([o,u],0)]}class Tp{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Xi.fromNumber(this.pe)}we(t,i,a){let o=t.add(i.multiply(Xi.fromNumber(a)));return o.compare(Q2)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=a_(t),[a,o]=s_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Tp(u,o,i);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const i=a_(t),[a,o]=s_(i);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,i,a,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ph(Rt.min(),o,new de(Nt),ui(),Pt())}}class Wl{constructor(t,i,a,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i,a,o){this.De=t,this.removedTargetIds=i,this.key=a,this.ve=o}}class q1{constructor(t,i){this.targetId=t,this.Ce=i}}class H1{constructor(t,i,a=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class o_{constructor(){this.Fe=0,this.Me=l_(),this.xe=We.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),i=Pt(),a=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:St(38017,{changeType:u})}}),new Wl(this.xe,this.Oe,t,i,a)}Qe(){this.Ne=!1,this.Me=l_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Y2{constructor(t){this.ze=t,this.je=new Map,this.He=ui(),this.Je=Vc(),this.Ye=Vc(),this.Ze=new de(Nt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const a=this.rt(i);switch(t.state){case 0:this.it(i)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((a,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,a=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(jm(u))if(a===0){const f=new Et(u.path);this.tt(i,f,sn.newNoDocument(f,Rt.min()))}else Jt(a===1,20013,{expectedCount:a});else{const f=this.ut(i);if(f!==a){const m=this.ct(t),g=m?this.lt(m,t,f):1;if(g!==0){this.st(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=ea(a).toUint8Array()}catch(g){if(g instanceof m1)return eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tp(f,o,u)}catch(g){return eo(g instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(t,i,a){return i.Ce.count===a-this.Tt(t,i.targetId)?0:2}Tt(t,i){const a=this.ze.getRemoteKeysForTarget(i);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&jm(m.target)){const g=new Et(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,sn.newNoDocument(g,t))}u.Le&&(i.set(f,u.qe()),u.Qe())}});let a=Pt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Ph(t,i,this.Ze,this.He,a);return this.He=ui(),this.Je=Vc(),this.Ye=Vc(),this.Ze=new de(Nt),o}et(t,i){if(!this.it(t))return;const a=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,a){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),a&&(this.He=this.He.insert(i,a))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new o_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Pe(Nt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Pe(Nt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new o_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new de(Et.comparator)}function l_(){return new de(Et.comparator)}const K2={asc:"ASCENDING",desc:"DESCENDING"},X2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z2={and:"AND",or:"OR"};class J2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function $m(n,t){return n.useProto3Json||xh(t)?t:{value:t}}function dh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function F1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function W2(n,t){return dh(n,t.toTimestamp())}function Rr(n){return Jt(!!n,49232),Rt.fromTimestamp(function(i){const a=ta(i);return new be(a.seconds,a.nanos)}(n))}function bp(n,t){return qm(n,t).canonicalString()}function qm(n,t){const i=function(o){return new ve(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function G1(n){const t=ve.fromString(n);return Jt(Z1(t),10190,{key:t.toString()}),t}function Hm(n,t){return bp(n.databaseId,t.path)}function um(n,t){const i=G1(t);if(i.get(1)!==n.databaseId.projectId)throw new _t(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new _t(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Et(Y1(i))}function Q1(n,t){return bp(n.databaseId,t)}function tx(n){const t=G1(n);return t.length===4?ve.emptyPath():Y1(t)}function Fm(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Y1(n){return Jt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u_(n,t,i){return{name:Hm(n,t),fields:i.value.mapValue.fields}}function ex(n,t){let i;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),We.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),We.fromUint8Array(E||new Uint8Array))}(n,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?it.UNKNOWN:$1(y.code);return new _t(E,y.message||"")}(f);i=new H1(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=um(n,a.document.name),u=Rr(a.document.updateTime),f=a.document.createTime?Rr(a.document.createTime):Rt.min(),m=new vn({mapValue:{fields:a.document.fields}}),g=sn.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=um(n,a.document),u=a.readTime?Rr(a.readTime):Rt.min(),f=sn.newNoDocument(o,u),m=a.removedTargetIds||[];i=new Kc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=um(n,a.document),u=a.removedTargetIds||[];i=new Kc([],u,o,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new F2(o,u),m=a.targetId;i=new q1(m,f)}}return i}function nx(n,t){let i;if(t instanceof Jl)i={update:u_(n,t.key,t.value)};else if(t instanceof B1)i={delete:Hm(n,t.key)};else if(t instanceof sa)i={update:u_(n,t.key,t.data),updateMask:hx(t.fieldMask)};else{if(!(t instanceof $2))return St(16599,{ft:t.type});i={verify:Hm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ao)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw St(20930,{transform:f.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:W2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)}(n,t.precondition)),i}function rx(n,t){return n&&n.length>0?(Jt(t!==void 0,14353),n.map(i=>function(o,u){let f=o.updateTime?Rr(o.updateTime):Rr(u);return f.isEqual(Rt.min())&&(f=Rr(u)),new L2(f,o.transformResults||[])}(i,t))):[]}function ix(n,t){return{documents:[Q1(n,t.path)]}}function ax(n,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Q1(n,o);const u=function(y){if(y.length!==0)return X1(Dr.create(y,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Gs(A.field),direction:lx(A.dir)}}(E))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=$m(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:i,parent:o}}function sx(n){let t=tx(n.parent);const i=n.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Jt(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=function(S){const A=K1(S);return A instanceof Dr&&A1(A)?A.getFilters():[A]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(A=>function(D){return new hh(Qs(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(A))}(i.orderBy));let m=null;i.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,xh(A)?null:A}(i.limit));let g=null;i.startAt&&(g=function(S){const A=!!S.before,x=S.values||[];return new ch(x,A)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const A=!S.before,x=S.values||[];return new ch(x,A)}(i.endAt)),w2(t,o,f,u,m,"F",g,y)}function ox(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function K1(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qs(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(i.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(i.unaryFilter.field);return ze.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qs(i.unaryFilter.field);return ze.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(n):n.fieldFilter!==void 0?function(i){return ze.create(Qs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Dr.create(i.compositeFilter.filters.map(a=>K1(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(i.compositeFilter.op))}(n):St(30097,{filter:n})}function lx(n){return K2[n]}function ux(n){return X2[n]}function cx(n){return Z2[n]}function Gs(n){return{fieldPath:n.canonicalString()}}function Qs(n){return Je.fromServerFormat(n.fieldPath)}function X1(n){return n instanceof ze?function(i){if(i.op==="=="){if(X0(i.value))return{unaryFilter:{field:Gs(i.field),op:"IS_NAN"}};if(K0(i.value))return{unaryFilter:{field:Gs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(X0(i.value))return{unaryFilter:{field:Gs(i.field),op:"IS_NOT_NAN"}};if(K0(i.value))return{unaryFilter:{field:Gs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(i.field),op:ux(i.op),value:i.value}}}(n):n instanceof Dr?function(i){const a=i.getFilters().map(o=>X1(o));return a.length===1?a[0]:{compositeFilter:{op:cx(i.op),filters:a}}}(n):St(54877,{filter:n})}function hx(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Z1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,i,a,o,u=Rt.min(),f=Rt.min(),m=We.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Gi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t){this.wt=t}}function dx(n){const t=sx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.yn=new px}addToCollectionParentIndex(t,i){return this.yn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Wi.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Wi.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class px{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Pe(ve.comparator),u=!o.has(a);return this.index[i]=o.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Pe(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(J1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new so(0)}static ir(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",gx=1048576;function f_([n,t],[i,a]){const o=Nt(n,i);return o===0?Nt(t,a):o}class yx{constructor(t){this.cr=t,this.buffer=new Pe(f_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();f_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class vx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ft(h_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?ft(h_,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Ir(3e5)})}}class _x{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Ch.le);const a=new yx(i);return this.Er.forEachTarget(t,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.Er.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(c_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let a,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(t,a,i))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,a))).next(S=>(y=Date.now(),Hs()<=qt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function Ex(n,t){return new _x(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.changes=new Xa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(a!==null&&zl(a.mutation,o,Dn.empty(),be.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Pt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Pt()){const o=$a();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,a).next(u=>{let f=xl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const a=$a();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Pt()))}populateOverlays(t,i,a){const o=[];return a.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,a,o){let u=ui();const f=Ml(),m=function(){return Ml()}();return i.forEach((g,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof sa)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),zl(E.mutation,y,E.mutation.getFieldMask(),be.now())):f.set(y.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new bx(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const a=Ml();let o=new de((f,m)=>f-m),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=a.get(g)||Dn.empty();E=m.applyToLocalView(y,E),a.set(g,E);const S=(o.get(m.batchId)||Pt()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=V1();E.forEach(A=>{if(!u.has(A)){const x=L1(i.get(A),a.get(A));x!==null&&S.set(A,x),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,o){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):R2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-u.size):W.resolve($a());let m=$l,g=u;return f.next(y=>W.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Pt())).next(E=>({batchId:m,changes:O1(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next(a=>{let o=xl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const u=i.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(t,u).next(m=>W.forEach(m,g=>{const y=function(S,A){return new Ih(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(E=>{E.forEach((S,A)=>{f=f.insert(S,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let m=xl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&zl(E.mutation,y,Dn.empty(),be.now()),Nh(i,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return W.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:dx(o.bundledQuery),readTime:Rr(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.overlays=new de(Et.comparator),this.Or=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=$a();return W.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((o,u)=>{this.St(t,i,u)}),W.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const o=$a(),u=i.length+1,f=new Et(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let u=new de((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=$a(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=$a(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new H2(i,a));let u=this.Or.get(i);u===void 0&&(u=Pt(),this.Or.set(i,u)),this.Or.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Nr=new Pe(He.Br),this.Lr=new Pe(He.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Qr(new He(t,i))}$r(t,i){t.forEach(a=>this.removeReference(a,i))}Ur(t){const i=new Et(new ve([])),a=new He(i,t),o=new He(i,t+1),u=[];return this.Lr.forEachInRange([a,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new Et(new ve([])),a=new He(i,t),o=new He(i,t+1);let u=Pt();return this.Lr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(t){const i=new He(t,0),a=this.Nr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return Et.comparator(t.key,i.key)||Nt(t.Gr,i.Gr)}static kr(t,i){return Nt(t.Gr,i.Gr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Pe(He.Br)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new q2(u,i,a,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new He(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,i){return W.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Hr(a),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?mp:this.Jn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],f=>{const m=this.jr(f.Gr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Pe(Nt);return i.forEach(o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{a=a.add(m.Gr)})}),W.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let u=a;Et.isDocumentKey(u)||(u=u.child(""));const f=new He(new Et(u),0);let m=new Pe(Nt);return this.zr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Gr)),!0)},f),W.resolve(this.Jr(m))}Jr(t){const i=[];return t.forEach(a=>{const o=this.jr(a);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Jt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return W.forEach(i.mutations,o=>{const u=new He(o.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,i){const a=new He(i,0),o=this.zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.Zr=t,this.docs=function(){return new de(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),u=o?o.size:0,f=this.Zr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=ui();return i.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let u=ui();const f=i.path,m=new Et(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||r2(n2(E),a)<=0||(o.has(E.key)||Nh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,a,o){St(9500)}Xr(t,i){return W.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new Dx(this)}getSize(t){return W.resolve(this.size)}}class Dx extends Tx{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(t,o)):this.vr.removeEntry(a)}),W.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.persistence=t,this.ei=new Xa(i=>yp(i),vp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sp,this.targetCount=0,this.ri=so.rr()}forEachTarget(t,i){return this.ei.forEach((a,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ti&&(this.ti=i),W.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new so(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.ar(i),W.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.ei.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this.ni.qr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this.ni.$r(i,a);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this.ni.Wr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,i){this.ii={},this.overlays={},this.si=new Ch(0),this.oi=!1,this.oi=!0,this._i=new Rx,this.referenceDelegate=t(this),this.ai=new Ix(this),this.indexManager=new mx,this.remoteDocumentCache=function(o){return new xx(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new fx(i),this.ci=new Ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new wx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ii[t.toKey()];return a||(a=new Cx(i,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,a){ft("MemoryPersistence","Starting transaction:",t);const o=new Ox(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,i){return W.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,i)))}}class Ox extends a2{constructor(t){super(),this.currentSequenceNumber=t}}class Ap{constructor(t){this.persistence=t,this.Ti=new Sp,this.Ii=null}static Ei(t){return new Ap(t)}get di(){if(this.Ii)return this.Ii;throw St(60996)}addReference(t,i,a){return this.Ti.addReference(a,i),this.di.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ti.removeReference(a,i),this.di.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,a=>{const o=Et.fromPath(a);return this.Ai(t,o).next(u=>{u||i.removeEntry(o,Rt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return W.or([()=>W.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class mh{constructor(t,i){this.persistence=t,this.Ri=new Xa(a=>l2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Ex(this,i)}static Ei(t,i){return new mh(t,i)}li(){}hi(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(o=>a+o))}Vr(t){let i=0;return this.Ar(t,a=>{i++}).next(()=>i)}Ar(t,i){return W.forEach(this.Ri,(a,o)=>this.gr(t,a,o).next(u=>u?W.resolve():i(o)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,i).next(m=>{m||(a++,u.removeEntry(f,Rt.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),W.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}gr(t,i,a){return W.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.Ri.get(i);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.ls=a,this.hs=o}static Ps(t,i){let a=Pt(),o=Pt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return CR()?8:s2(wR())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,a,o){const u={result:null};return this.Rs(t,i).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,i,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Vx;return this.fs(t,i,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,i,f,m.size)})}).next(()=>u.result)}gs(t,i,a,o){return a.documentReadCount<this.Es?(Hs()<=qt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),W.resolve()):(Hs()<=qt.DEBUG&&ft("QueryEngine","Query:",Fs(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Hs()<=qt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ar(i))):W.resolve())}Rs(t,i){if(t_(i))return W.resolve(null);let a=Ar(i);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Bm(i,null,"F"),a=Ar(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Pt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(g=>{const y=this.ps(i,m);return this.ys(i,y,f,g.readTime)?this.Rs(t,Bm(i,null,"F")):this.ws(t,y,i,g)}))})))}Vs(t,i,a,o){return t_(i)||o.isEqual(Rt.min())?W.resolve(null):this.As.getDocuments(t,a).next(u=>{const f=this.ps(i,u);return this.ys(i,f,a,o)?W.resolve(null):(Hs()<=qt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fs(i)),this.ws(t,f,i,e2(o,$l)).next(m=>m))})}ps(t,i){let a=new Pe(D1(t));return i.forEach((o,u)=>{Nh(t,u)&&(a=a.add(u))}),a}ys(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,i,a){return Hs()<=qt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Fs(i)),this.As.getDocumentsMatchingQuery(t,i,Wi.min(),a)}ws(t,i,a,o){return this.As.getDocumentsMatchingQuery(t,a,o).next(u=>(i.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="LocalStore",Mx=3e8;class zx{constructor(t,i,a,o){this.persistence=t,this.bs=i,this.serializer=o,this.Ss=new de(Nt),this.Ds=new Xa(u=>yp(u),vp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function Px(n,t,i,a){return new zx(n,t,i,a)}async function tT(n,t){const i=xt(n);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,i.Fs(t),i.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=Pt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(a,g).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function kx(n,t){const i=xt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=i.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,A=S.keys();let x=W.resolve();return A.forEach(D=>{x=x.next(()=>E.getEntry(g,D)).next(H=>{const M=y.docVersions.get(D);Jt(M!==null,48541),H.version.compareTo(M)<0&&(S.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),E.addEntry(H)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(i,a,t,u).next(()=>u.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>i.localDocuments.getDocuments(a,o))})}function eT(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function Ux(n,t){const i=xt(n),a=t.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const m=[];t.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;m.push(i.ai.removeMatchingKeys(u,E.removedDocuments,S).next(()=>i.ai.addMatchingKeys(u,E.addedDocuments,S)));let x=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?x=x.withResumeToken(We.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,a)),o=o.insert(S,x),function(H,M,j){return H.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=Mx?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(A,x,E)&&m.push(i.ai.updateTargetData(u,x))});let g=ui(),y=Pt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Lx(u,f,t.documentUpdates).next(E=>{g=E.xs,y=E.Os})),!a.isEqual(Rt.min())){const E=i.ai.getLastRemoteSnapshotVersion(u).next(S=>i.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(i.Ss=o,u))}function Lx(n,t,i){let a=Pt(),o=Pt();return i.forEach(u=>a=a.add(u)),t.getEntries(n,a).next(u=>{let f=ui();return i.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ft(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{xs:f,Os:o}})}function jx(n,t){const i=xt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=mp),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Bx(n,t){const i=xt(n);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.ai.getTargetData(a,t).next(u=>u?(o=u,W.resolve(o)):i.ai.allocateTargetId(a).next(f=>(o=new Gi(t,f,"TargetPurposeListen",a.currentSequenceNumber),i.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(a.targetId,a),i.Ds.set(t,a.targetId)),a})}async function Gm(n,t,i){const a=xt(n),o=a.Ss.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!go(f))throw f;ft(Rp,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(o.target)}function d_(n,t,i){const a=xt(n);let o=Rt.min(),u=Pt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=xt(g),A=S.Ds.get(E);return A!==void 0?W.resolve(S.Ss.get(A)):S.ai.getTargetData(y,E)}(a,f,Ar(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.bs.getDocumentsMatchingQuery(f,t,i?o:Rt.min(),i?u:Pt())).next(m=>($x(a,x2(t),m),{documents:m,Ns:u})))}function $x(n,t,i){let a=n.vs.get(t)||Rt.min();i.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),n.vs.set(t,a)}class m_{constructor(){this.activeTargetIds=M2()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qx{constructor(){this.So=new m_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,a){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new m_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class g_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ft(p_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ft(p_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function Qm(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",Fx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gx{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(t,i,a,o,u){const f=Qm(),m=this.$o(t,i.toUriEncodedString());ft(cm,`Sending RPC '${t}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(g,o,u);const{host:y}=new URL(m),E=KE(y);return this.Ko(t,m,g,a,E).then(S=>(ft(cm,`Received RPC '${t}' ${f}: `,S),S),S=>{throw eo(cm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Wo(t,i,a,o,u,f){return this.Qo(t,i,a,o,u)}Uo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}$o(t,i){const a=Fx[t];return`${this.Lo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class Yx extends Gx{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,a,o,u){const f=Qm();return new Promise((m,g)=>{const y=new r1;y.setWithCredentials(!0),y.listenOnce(i1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const S=y.getResponseJson();ft(rn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Fc.TIMEOUT:ft(rn,`RPC '${t}' ${f} timed out`),g(new _t(it.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const A=y.getStatus();if(ft(rn,`RPC '${t}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const H=function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(F)>=0?F:it.UNKNOWN}(D.status);g(new _t(H,D.message))}else g(new _t(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new _t(it.UNAVAILABLE,"Connection failed."));break;default:St(9055,{s_:t,streamId:f,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{ft(rn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ft(rn,`RPC '${t}' ${f} sending request:`,o),y.send(i,"POST",E,a,15)})}a_(t,i,a){const o=Qm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=o1(),m=s1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const E=u.join("");ft(rn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);let A=!1,x=!1;const D=new Qx({Go:M=>{x?ft(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(A||(ft(rn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),A=!0),ft(rn,`RPC '${t}' stream ${o} sending:`,M),S.send(M))},zo:()=>S.close()}),H=(M,j,F)=>{M.listen(j,G=>{try{F(G)}catch(rt){setTimeout(()=>{throw rt},0)}})};return H(S,Cl.EventType.OPEN,()=>{x||(ft(rn,`RPC '${t}' stream ${o} transport opened.`),D.t_())}),H(S,Cl.EventType.CLOSE,()=>{x||(x=!0,ft(rn,`RPC '${t}' stream ${o} transport closed`),D.r_())}),H(S,Cl.EventType.ERROR,M=>{x||(x=!0,eo(rn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),D.r_(new _t(it.UNAVAILABLE,"The operation could not be completed")))}),H(S,Cl.EventType.MESSAGE,M=>{var j;if(!x){const F=M.data[0];Jt(!!F,16349);const G=F,rt=(G==null?void 0:G.error)||((j=G[0])===null||j===void 0?void 0:j.error);if(rt){ft(rn,`RPC '${t}' stream ${o} received error:`,rt);const st=rt.status;let ut=function(w){const V=Re[w];if(V!==void 0)return $1(V)}(st),I=rt.message;ut===void 0&&(ut=it.INTERNAL,I="Unknown error status: "+st+" with message "+rt.message),x=!0,D.r_(new _t(ut,I)),S.close()}else ft(rn,`RPC '${t}' stream ${o} received:`,F),D.i_(F)}}),H(m,a1.STAT_EVENT,M=>{M.stat===zm.PROXY?ft(rn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===zm.NOPROXY&&ft(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n){return new J2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,i,a=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=i,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-a);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class rT{constructor(t,i,a,o,u,f,m,g){this.bi=t,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new nT(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(li(i.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===i&&this.B_(a,o)},a=>{t(()=>{const o=new _t(it.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(t,i){const a=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ft(y_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(ft(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kx extends rT{constructor(t,i,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=ex(this.serializer,t),a=function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?Rr(f.readTime):Rt.min()}(t);return this.listener.Q_(i,a)}U_(t){const i={};i.database=Fm(this.serializer),i.addTarget=function(u,f){let m;const g=f.target;if(m=jm(g)?{documents:ix(u,g)}:{query:ax(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=F1(u,f.resumeToken);const y=$m(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=dh(u,f.snapshotVersion.toTimestamp());const y=$m(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=ox(this.serializer,t);a&&(i.labels=a),this.F_(i)}K_(t){const i={};i.database=Fm(this.serializer),i.removeTarget=t,this.F_(i)}}class Xx extends rT{constructor(t,i,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=rx(t.writeResults,t.commitTime),a=Rr(t.commitTime);return this.listener.j_(a,i)}H_(){const t={};t.database=Fm(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>nx(this.serializer,a))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{}class Jx extends Zx{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new _t(it.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,qm(i,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(it.UNKNOWN,u.toString())})}Wo(t,i,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,qm(i,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _t(it.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Wx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(li(i),this.ea=!1):ft("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class tD{constructor(t,i,a,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{a.enqueueAndForget(async()=>{Za(this)&&(ft(Ya,"Restarting streams for network reachability change."),await async function(g){const y=xt(g);y.aa.add(4),await tu(y),y.la.set("Unknown"),y.aa.delete(4),await Uh(y)}(this))})}),this.la=new Wx(a,o)}}async function Uh(n){if(Za(n))for(const t of n.ua)await t(!0)}async function tu(n){for(const t of n.ua)await t(!1)}function iT(n,t){const i=xt(n);i._a.has(t.targetId)||(i._a.set(t.targetId,t),Ip(i)?Dp(i):yo(i).b_()&&xp(i,t))}function Cp(n,t){const i=xt(n),a=yo(i);i._a.delete(t),a.b_()&&aT(i,t),i._a.size===0&&(a.b_()?a.v_():Za(i)&&i.la.set("Unknown"))}function xp(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yo(n).U_(t)}function aT(n,t){n.ha.Ke(t),yo(n).K_(t)}function Dp(n){n.ha=new Y2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),yo(n).start(),n.la.ta()}function Ip(n){return Za(n)&&!yo(n).w_()&&n._a.size>0}function Za(n){return xt(n).aa.size===0}function sT(n){n.ha=void 0}async function eD(n){n.la.set("Online")}async function nD(n){n._a.forEach((t,i)=>{xp(n,t)})}async function rD(n,t){sT(n),Ip(n)?(n.la.ia(t),Dp(n)):n.la.set("Unknown")}async function iD(n,t,i){if(n.la.set("Online"),t instanceof H1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(n,t)}catch(a){ft(Ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ph(n,a)}else if(t instanceof Kc?n.ha.Xe(t):t instanceof q1?n.ha.ot(t):n.ha.nt(t),!i.isEqual(Rt.min()))try{const a=await eT(n.localStore);i.compareTo(a)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(We.EMPTY_BYTE_STRING,E.snapshotVersion)),aT(u,g);const S=new Gi(E.target,g,y,E.sequenceNumber);xp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(n,i)}catch(a){ft(Ya,"Failed to raise snapshot:",a),await ph(n,a)}}async function ph(n,t,i){if(!go(t))throw t;n.aa.add(1),await tu(n),n.la.set("Offline"),i||(i=()=>eT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(Ya,"Retrying IndexedDB access"),await i(),n.aa.delete(1),await Uh(n)})}function oT(n,t){return t().catch(i=>ph(n,i,t))}async function Lh(n){const t=xt(n),i=ra(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:mp;for(;aD(t);)try{const o=await jx(t.localStore,a);if(o===null){t.oa.length===0&&i.v_();break}a=o.batchId,sD(t,o)}catch(o){await ph(t,o)}lT(t)&&uT(t)}function aD(n){return Za(n)&&n.oa.length<10}function sD(n,t){n.oa.push(t);const i=ra(n);i.b_()&&i.W_&&i.G_(t.mutations)}function lT(n){return Za(n)&&!ra(n).w_()&&n.oa.length>0}function uT(n){ra(n).start()}async function oD(n){ra(n).H_()}async function lD(n){const t=ra(n);for(const i of n.oa)t.G_(i.mutations)}async function uD(n,t,i){const a=n.oa.shift(),o=Ep.from(a,t,i);await oT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Lh(n)}async function cD(n,t){t&&ra(n).W_&&await async function(a,o){if(function(f){return G2(f)&&f!==it.ABORTED}(o.code)){const u=a.oa.shift();ra(a).D_(),await oT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Lh(a)}}(n,t),lT(n)&&uT(n)}async function v_(n,t){const i=xt(n);i.asyncQueue.verifyOperationInProgress(),ft(Ya,"RemoteStore received new credentials");const a=Za(i);i.aa.add(3),await tu(i),a&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Uh(i)}async function hD(n,t){const i=xt(n);t?(i.aa.delete(2),await Uh(i)):t||(i.aa.add(2),await tu(i),i.la.set("Unknown"))}function yo(n){return n.Pa||(n.Pa=function(i,a,o){const u=xt(i);return u.Y_(),new Kx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:eD.bind(null,n),Jo:nD.bind(null,n),Zo:rD.bind(null,n),Q_:iD.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),Ip(n)?Dp(n):n.la.set("Unknown")):(await n.Pa.stop(),sT(n))})),n.Pa}function ra(n){return n.Ta||(n.Ta=function(i,a,o){const u=xt(i);return u.Y_(),new Xx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:oD.bind(null,n),Zo:cD.bind(null,n),z_:lD.bind(null,n),j_:uD.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await Lh(n)):(await n.Ta.stop(),n.oa.length>0&&(ft(Ya,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,i,a,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,u){const f=Date.now()+a,m=new Op(t,i,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(n,t){if(li("AsyncQueue",`${t}: ${n}`),go(n))return new _t(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(t){return new Xs(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||Et.comparator(i.key,a.key):(i,a)=>Et.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.Ia=new de(Et.comparator)}track(t){const i=t.doc.key,a=this.Ia.get(i);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(i):t.type===1&&a.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):St(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,a)=>{t.push(a)}),t}}class oo{constructor(t,i,a,o,u,f,m,g,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,u){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new oo(t,i,Xs.emptySet(i),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class dD{constructor(){this.queries=E_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,a){const o=xt(i),u=o.queries;o.queries=E_(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(a)})})(this,new _t(it.ABORTED,"Firestore shutting down"))}}function E_(){return new Xa(n=>x1(n),Vh)}async function cT(n,t){const i=xt(n);let a=3;const o=t.query;let u=i.queries.get(o);u?!u.Va()&&t.ma()&&(a=2):(u=new fD,a=t.ma()?0:1);try{switch(a){case 0:u.Aa=await i.onListen(o,!0);break;case 1:u.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${Fs(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Ra.push(t),t.ga(i.onlineState),u.Aa&&t.pa(u.Aa)&&Np(i)}async function hT(n,t){const i=xt(n),a=t.query;let o=3;const u=i.queries.get(a);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mD(n,t){const i=xt(n);let a=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(a=!0);f.Aa=o}}a&&Np(i)}function pD(n,t,i){const a=xt(n),o=a.queries.get(t);if(o)for(const u of o.Ra)u.onError(i);a.queries.delete(t)}function Np(n){n.fa.forEach(t=>{t.next()})}var Ym,T_;(T_=Ym||(Ym={})).ya="default",T_.Cache="cache";class fT{constructor(t,i,a){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new oo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const a=i!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t){this.key=t}}class mT{constructor(t){this.key=t}}class gD{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Pt(),this.mutatedKeys=Pt(),this.Ua=D1(t),this.Ka=new Xs(this.Ua)}get Wa(){return this.qa}Ga(t,i){const a=i?i.za:new __,o=i?i.Ka:this.Ka;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const A=o.get(E),x=Nh(this.query,S)?S:null,D=!!A&&this.mutatedKeys.has(A.key),H=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;A&&x?A.data.isEqual(x.data)?D!==H&&(a.track({type:3,doc:x}),M=!0):this.ja(A,x)||(a.track({type:2,doc:x}),M=!0,(g&&this.Ua(x,g)>0||y&&this.Ua(x,y)<0)&&(m=!0)):!A&&x?(a.track({type:0,doc:x}),M=!0):A&&!x&&(a.track({type:1,doc:A}),M=!0,(g||y)&&(m=!0)),M&&(x?(f=f.add(x),u=H?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Ka:f,za:a,ys:m,mutatedKeys:u}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,S)=>function(x,D){const H=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:M})}};return H(x)-H(D)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(a),o=o!=null&&o;const m=i&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,y=g!==this.Qa;return this.Qa=g,f.length!==0||y?{snapshot:new oo(this.query,t.Ka,u,f,t.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new __,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Pt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const i=[];return t.forEach(a=>{this.$a.has(a)||i.push(new mT(a))}),this.$a.forEach(a=>{t.has(a)||i.push(new dT(a))}),i}Xa(t){this.qa=t.Ns,this.$a=Pt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return oo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Mp="SyncEngine";class yD{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class vD{constructor(t){this.key=t,this.tu=!1}}class _D{constructor(t,i,a,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Xa(m=>x1(m),Vh),this.iu=new Map,this.su=new Set,this.ou=new de(Et.comparator),this._u=new Map,this.au=new Sp,this.uu={},this.cu=new Map,this.lu=so.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function ED(n,t,i=!0){const a=ET(n);let o;const u=a.ru.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await pT(a,t,i,!0),o}async function TD(n,t){const i=ET(n);await pT(i,t,!0,!1)}async function pT(n,t,i,a){const o=await Bx(n.localStore,Ar(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,i);let m;return a&&(m=await bD(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&i&&iT(n.remoteStore,o),m}async function bD(n,t,i,a,o){n.Pu=(S,A,x)=>async function(H,M,j,F){let G=M.view.Ga(j);G.ys&&(G=await d_(H.localStore,M.query,!1).then(({documents:I})=>M.view.Ga(I,G)));const rt=F&&F.targetChanges.get(M.targetId),st=F&&F.targetMismatches.get(M.targetId)!=null,ut=M.view.applyChanges(G,H.isPrimaryClient,rt,st);return S_(H,M.targetId,ut.Ya),ut.snapshot}(n,S,A,x);const u=await d_(n.localStore,t,!0),f=new gD(t,u.Ns),m=f.Ga(u.documents),g=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&n.onlineState!=="Offline",o),y=f.applyChanges(m,n.isPrimaryClient,g);S_(n,i,y.Ya);const E=new yD(t,i,f);return n.ru.set(t,E),n.iu.has(i)?n.iu.get(i).push(t):n.iu.set(i,[t]),y.snapshot}async function SD(n,t,i){const a=xt(n),o=a.ru.get(t),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(f=>!Vh(f,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Cp(a.remoteStore,o.targetId),Km(a,o.targetId)}).catch(po)):(Km(a,o.targetId),await Gm(a.localStore,o.targetId,!0))}async function AD(n,t){const i=xt(n),a=i.ru.get(t),o=i.iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Cp(i.remoteStore,a.targetId))}async function wD(n,t,i){const a=VD(n);try{const o=await function(f,m){const g=xt(f),y=be.now(),E=m.reduce((x,D)=>x.add(D.key),Pt());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=ui(),H=Pt();return g.Cs.getEntries(x,E).next(M=>{D=M,D.forEach((j,F)=>{F.isValidDocument()||(H=H.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(x,D)).next(M=>{S=M;const j=[];for(const F of m){const G=B2(F,S.get(F.key).overlayedDocument);G!=null&&j.push(new sa(F.key,G,T1(G.value.mapValue),wr.exists(!0)))}return g.mutationQueue.addMutationBatch(x,y,j,m)}).next(M=>{A=M;const j=M.applyToLocalDocumentSet(S,H);return g.documentOverlayCache.saveOverlays(x,M.batchId,j)})}).then(()=>({batchId:A.batchId,changes:O1(S)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.uu[f.currentUser.toKey()];y||(y=new de(Nt)),y=y.insert(m,g),f.uu[f.currentUser.toKey()]=y}(a,o.batchId,i),await eu(a,o.changes),await Lh(a.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");i.reject(u)}}async function gT(n,t){const i=xt(n);try{const a=await Ux(i.localStore,t);t.targetChanges.forEach((o,u)=>{const f=i._u.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Jt(f.tu,14607):o.removedDocuments.size>0&&(Jt(f.tu,42227),f.tu=!1))}),await eu(i,a,t)}catch(a){await po(a)}}function b_(n,t,i){const a=xt(n);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=xt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const A of S.Ra)A.ga(m)&&(y=!0)}),y&&Np(g)}(a.eventManager,t),o.length&&a.nu.Q_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function RD(n,t,i){const a=xt(n);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a._u.get(t),u=o&&o.key;if(u){let f=new de(Et.comparator);f=f.insert(u,sn.newNoDocument(u,Rt.min()));const m=Pt().add(u),g=new Ph(Rt.min(),new Map,new de(Nt),f,m);await gT(a,g),a.ou=a.ou.remove(u),a._u.delete(t),zp(a)}else await Gm(a.localStore,t,!1).then(()=>Km(a,t,i)).catch(po)}async function CD(n,t){const i=xt(n),a=t.batch.batchId;try{const o=await kx(i.localStore,t);vT(i,a,null),yT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,o)}catch(o){await po(o)}}async function xD(n,t,i){const a=xt(n);try{const o=await function(f,m){const g=xt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(Jt(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(a.localStore,t);vT(a,t,i),yT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eu(a,o)}catch(o){await po(o)}}function yT(n,t){(n.cu.get(t)||[]).forEach(i=>{i.resolve()}),n.cu.delete(t)}function vT(n,t,i){const a=xt(n);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),a.uu[a.currentUser.toKey()]=o}}function Km(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.iu.get(t))n.ru.delete(a),i&&n.nu.Tu(a,i);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(a=>{n.au.containsKey(a)||_T(n,a)})}function _T(n,t){n.su.delete(t.path.canonicalString());const i=n.ou.get(t);i!==null&&(Cp(n.remoteStore,i),n.ou=n.ou.remove(t),n._u.delete(i),zp(n))}function S_(n,t,i){for(const a of i)a instanceof dT?(n.au.addReference(a.key,t),DD(n,a)):a instanceof mT?(ft(Mp,"Document no longer in limbo: "+a.key),n.au.removeReference(a.key,t),n.au.containsKey(a.key)||_T(n,a.key)):St(19791,{Iu:a})}function DD(n,t){const i=t.key,a=i.path.canonicalString();n.ou.get(i)||n.su.has(a)||(ft(Mp,"New document in limbo: "+i),n.su.add(a),zp(n))}function zp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const i=new Et(ve.fromString(t)),a=n.lu.next();n._u.set(a,new vD(i)),n.ou=n.ou.insert(i,a),iT(n.remoteStore,new Gi(Ar(Oh(i.path)),a,"TargetPurposeLimboResolution",Ch.le))}}async function eu(n,t,i){const a=xt(n),o=[],u=[],f=[];a.ru.isEmpty()||(a.ru.forEach((m,g)=>{f.push(a.Pu(g,t,i).then(y=>{var E;if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=wp.Ps(g.targetId,y);u.push(S)}}))}),await Promise.all(f),a.nu.Q_(o),await async function(g,y){const E=xt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,A=>W.forEach(A.ls,x=>E.persistence.referenceDelegate.addReference(S,A.targetId,x)).next(()=>W.forEach(A.hs,x=>E.persistence.referenceDelegate.removeReference(S,A.targetId,x)))))}catch(S){if(!go(S))throw S;ft(Rp,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const x=E.Ss.get(A),D=x.snapshotVersion,H=x.withLastLimboFreeSnapshotVersion(D);E.Ss=E.Ss.insert(A,H)}}}(a.localStore,u))}async function ID(n,t){const i=xt(n);if(!i.currentUser.isEqual(t)){ft(Mp,"User change. New user:",t.toKey());const a=await tT(i.localStore,t);i.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new _t(it.CANCELLED,f))})}),u.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ms)}}function OD(n,t){const i=xt(n),a=i._u.get(t);if(a&&a.tu)return Pt().add(a.key);{let o=Pt();const u=i.iu.get(t);if(!u)return o;for(const f of u){const m=i.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function ET(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RD.bind(null,t),t.nu.Q_=mD.bind(null,t.eventManager),t.nu.Tu=pD.bind(null,t.eventManager),t}function VD(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return Px(this.persistence,new Nx,t.initialUser,this.serializer)}Ru(t){return new W1(Ap.Ei,this.serializer)}Au(t){return new qx}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class ND extends gh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){Jt(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new vx(a,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new W1(a=>mh.Ei(a,i),this.serializer)}}class Xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>b_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dD}()}createDatastore(t){const i=kh(t.databaseInfo.databaseId),a=function(u){return new Yx(u)}(t.databaseInfo);return function(u,f,m,g){return new Jx(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,o,u,f,m){return new tD(a,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>b_(this.syncEngine,i,0),function(){return g_.C()?new g_:new Hx}())}createSyncEngine(t,i){return function(o,u,f,m,g,y,E){const S=new _D(o,u,f,m,g,y);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=xt(o);ft(Ya,"RemoteStore shutting down."),u.aa.add(5),await tu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):li("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="FirestoreClient";class MD{constructor(t,i,a,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ft(ia,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ft(ia,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Vp(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function fm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(ia,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let a=i.initialUser;n.setCredentialChangeListener(async o=>{a.isEqual(o)||(await tT(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function A_(n,t){n.asyncQueue.verifyOperationInProgress();const i=await zD(n);ft(ia,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(a=>v_(t.remoteStore,a)),n.setAppCheckTokenChangeListener((a,o)=>v_(t.remoteStore,o)),n._onlineComponents=t}async function zD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(ia,"Using user provided OfflineComponentProvider");try{await fm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await fm(n,new gh)}}else ft(ia,"Using default OfflineComponentProvider"),await fm(n,new ND(void 0));return n._offlineComponents}async function bT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(ia,"Using user provided OnlineComponentProvider"),await A_(n,n._uninitializedComponentsProvider._online)):(ft(ia,"Using default OnlineComponentProvider"),await A_(n,new Xm))),n._onlineComponents}function PD(n){return bT(n).then(t=>t.syncEngine)}async function Zm(n){const t=await bT(n),i=t.eventManager;return i.onListen=ED.bind(null,t.syncEngine),i.onUnlisten=SD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=TD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AD.bind(null,t.syncEngine),i}function kD(n,t,i={}){const a=new Zi;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new TT({next:A=>{E.yu(),f.enqueueAndForget(()=>hT(u,S));const x=A.docs.has(m);!x&&A.fromCache?y.reject(new _t(it.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&g&&g.source==="server"?y.reject(new _t(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new fT(Oh(m.path),E,{includeMetadataChanges:!0,Fa:!0});return cT(u,S)}(await Zm(n),n.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n,t,i){if(!i)throw new _t(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function LD(n,t,i,a){if(t===!0&&a===!0)throw new _t(it.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function R_(n){if(!Et.isDocumentKey(n))throw new _t(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function Cr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pp(n);throw new _t(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firestore.googleapis.com",C_=!0;class x_{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=C_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:C_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gx)throw new _t(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _t(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _t(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _t(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kp{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new GC;switch(a.type){case"firstParty":return new XC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _t(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=w_.get(i);a&&(ft("ComponentProvider","Removing Datastore"),w_.delete(i),a.terminate())}(this),Promise.resolve()}}function jD(n,t,i,a={}){var o;n=Cr(n,kp);const u=KE(t),f=n._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:n._getEmulatorOptions()}),g=`${t}:${i}`;u&&NR(`https://${g}`),f.host!==AT&&f.host!==g&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:a});if(!Ll(y,m)&&(n._setSettings(y),a.mockUserToken)){let E,S;if(typeof a.mockUserToken=="string")E=a.mockUserToken,S=an.MOCK_USER;else{E=AR(a.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new _t(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(A)}n._authCredentials=new QC(new u1(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new jh(this.firestore,t,this._query)}}class En{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new En(this.firestore,t,this._key)}}class Yl extends jh{constructor(t,i,a){super(t,i,Oh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new En(this.firestore,null,new Et(t))}withConverter(t){return new Yl(this.firestore,t,this._path)}}function Vr(n,t,...i){if(n=Ji(n),arguments.length===1&&(t=h1.newId()),UD("doc","path",t),n instanceof kp){const a=ve.fromString(t,...i);return R_(a),new En(n,null,new Et(a))}{if(!(n instanceof En||n instanceof Yl))throw new _t(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ve.fromString(t,...i));return R_(a),new En(n.firestore,n instanceof Yl?n.converter:null,new Et(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class I_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new nT(this,"async_queue_retry"),this.ju=()=>{const a=hm();a&&ft(D_,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const i=hm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=hm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Zi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!go(t))throw t;ft(D_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,li("INTERNAL UNHANDLED ERROR: ",O_(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=i,i}enqueueAfterDelay(t,i,a){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const o=Op.createAndSchedule(this,t,i,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&St(47125,{ec:O_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function O_(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class lo extends kp{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new I_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new I_(t),this._firestoreClient=void 0,await t}}}function BD(n,t){const i=typeof n=="object"?n:zC(),a=typeof n=="string"?n:lh,o=IC(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=bR("firestore");u&&jD(o,...u)}return o}function Up(n){if(n._terminated)throw new _t(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$D(n),n._firestoreClient}function $D(n){var t,i,a;const o=n._freezeSettings(),u=function(m,g,y,E){return new h2(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ST(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new MD(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uo(We.fromBase64String(t))}catch(i){throw new _t(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new uo(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new _t(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new _t(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new _t(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class HD{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new sa(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class wT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new sa(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function RT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{oc:n})}}class $h{constructor(t,i,a,o,u,f){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new $h(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:a,cc:!1});return o.lc(t),o}hc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return yh(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(RT(this.oc)&&qD.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class FD{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||kh(t)}dc(t,i,a,o=!1){return new $h({oc:t,methodName:i,Ec:a,path:Je.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(n){const t=n._freezeSettings(),i=kh(n._databaseId);return new FD(n._databaseId,!!t.ignoreUndefinedProperties,i)}function GD(n,t,i,a,o,u={}){const f=n.dc(u.merge||u.mergeFields?2:0,t,i,o);qp("Data must be an object, but it was:",f,a);const m=xT(a,f);let g,y;if(u.merge)g=new Dn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=Jm(t,S,i);if(!f.contains(A))throw new _t(it.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);IT(E,A)||E.push(A)}g=new Dn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new HD(new vn(m),g,y)}class qh extends nu{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qh}}function QD(n,t,i){return new $h({oc:3,Ec:t.settings.Ec,methodName:n._methodName,cc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Bp extends nu{_toFieldTransform(t){return new U1(t.path,new Gl)}isEqual(t){return t instanceof Bp}}class $p extends nu{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=QD(this,t,!0),a=this.Ac.map(u=>ru(u,i)),o=new ao(a);return new U1(t.path,o)}isEqual(t){return t instanceof $p&&Ll(this.Ac,t.Ac)}}function YD(n,t,i,a){const o=n.dc(1,t,i);qp("Data must be an object, but it was:",o,a);const u=[],f=vn.empty();aa(a,(g,y)=>{const E=Hp(t,g,i);y=Ji(y);const S=o.hc(E);if(y instanceof qh)u.push(E);else{const A=ru(y,S);A!=null&&(u.push(E),f.set(E,A))}});const m=new Dn(u);return new wT(f,m,o.fieldTransforms)}function KD(n,t,i,a,o,u){const f=n.dc(1,t,i),m=[Jm(t,a,i)],g=[o];if(u.length%2!=0)throw new _t(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Jm(t,u[A])),g.push(u[A+1]);const y=[],E=vn.empty();for(let A=m.length-1;A>=0;--A)if(!IT(y,m[A])){const x=m[A];let D=g[A];D=Ji(D);const H=f.hc(x);if(D instanceof qh)y.push(x);else{const M=ru(D,H);M!=null&&(y.push(x),E.set(x,M))}}const S=new Dn(y);return new wT(E,S,f.fieldTransforms)}function ru(n,t){if(DT(n=Ji(n)))return qp("Unsupported field value:",t,n),xT(n,t);if(n instanceof nu)return function(a,o){if(!RT(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let g=ru(m,o.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(n,t)}return function(a,o){if((a=Ji(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return z2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=be.fromDate(a);return{timestampValue:dh(o.serializer,u)}}if(a instanceof be){const u=new be(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(o.serializer,u)}}if(a instanceof Lp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof uo)return{bytesValue:F1(o.serializer,a._byteString)};if(a instanceof En){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof jp)return function(f,m){return{mapValue:{fields:{[_1]:{stringValue:E1},[uh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return _p(m.serializer,y)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${Pp(a)}`)}(n,t)}function xT(n,t){const i={};return d1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aa(n,(a,o)=>{const u=ru(o,t.uc(a));u!=null&&(i[a]=u)}),{mapValue:{fields:i}}}function DT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof be||n instanceof Lp||n instanceof uo||n instanceof En||n instanceof nu||n instanceof jp)}function qp(n,t,i){if(!DT(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Pp(i);throw a==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+a)}}function Jm(n,t,i){if((t=Ji(t))instanceof Bh)return t._internalPath;if(typeof t=="string")return Hp(n,t);throw yh("Field path arguments must be of type string or ",n,!1,void 0,i)}const XD=new RegExp("[~\\*/\\[\\]]");function Hp(n,t,i){if(t.search(XD)>=0)throw yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Bh(...t.split("."))._internalPath}catch{throw yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function yh(n,t,i,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new _t(it.INVALID_ARGUMENT,m+n+g)}function IT(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,i,a,o,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(VT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZD extends OT{data(){return super.data()}}function VT(n,t){return typeof t=="string"?Hp(n,t):t instanceof Bh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _t(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WD{convertValue(t,i="none"){switch(na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return aa(t,(o,u)=>{a[o]=this.convertValue(u,i)}),a}convertVectorValue(t){var i,a,o;const u=(o=(a=(i=t.fields)===null||i===void 0?void 0:i[uh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Te(f.doubleValue));return new jp(u)}convertGeoPoint(t){return new Lp(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=ta(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ve.fromString(t);Jt(Z1(a),9688,{name:t});const o=new Hl(a.get(1),a.get(3)),u=new Et(a.popFirst(5));return o.isEqual(i)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n,t,i){let a;return a=n?n.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class NT extends OT{constructor(t,i,a,o,u,f){super(t,i,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(VT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Xc extends NT{data(t={}){return super.data(t)}}class eI{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Il(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _t(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:nI(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function nI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n){n=Cr(n,En);const t=Cr(n.firestore,lo);return kD(Up(t),n._key).then(i=>PT(t,n,i))}class MT extends WD{constructor(t){super(),this.firestore=t}convertBytes(t){return new uo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new En(this.firestore,null,i)}}function rI(n,t,i){n=Cr(n,En);const a=Cr(n.firestore,lo),o=tI(n.converter,t);return zT(a,[GD(CT(a),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,wr.none())])}function Ja(n,t,i,...a){n=Cr(n,En);const o=Cr(n.firestore,lo),u=CT(o);let f;return f=typeof(t=Ji(t))=="string"||t instanceof Bh?KD(u,"updateDoc",n._key,t,i,a):YD(u,"updateDoc",n._key,t),zT(o,[f.toMutation(n._key,wr.exists(!0))])}function iI(n,...t){var i,a,o;n=Ji(n);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||V_(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(V_(t[f])){const S=t[f];t[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[f+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,y,E;if(n instanceof En)y=Cr(n.firestore,lo),E=Oh(n._key.path),g={next:S=>{t[f]&&t[f](PT(y,n,S))},error:t[f+1],complete:t[f+2]};else{const S=Cr(n,jh);y=Cr(S.firestore,lo),E=S._query;const A=new MT(y);g={next:x=>{t[f]&&t[f](new eI(y,A,S,x))},error:t[f+1],complete:t[f+2]},JD(n._query)}return function(A,x,D,H){const M=new TT(H),j=new fT(x,M,D);return A.asyncQueue.enqueueAndForget(async()=>cT(await Zm(A),j)),()=>{M.yu(),A.asyncQueue.enqueueAndForget(async()=>hT(await Zm(A),j))}}(Up(y),E,m,g)}function zT(n,t){return function(a,o){const u=new Zi;return a.asyncQueue.enqueueAndForget(async()=>wD(await PD(a),o,u)),u.promise}(Up(n),t)}function PT(n,t,i){const a=i.docs.get(t._key),o=new MT(n);return new NT(n,o,t._key,a,new Il(i.hasPendingWrites,i.fromCache),t.converter)}function aI(){return new Bp("serverTimestamp")}function sI(...n){return new $p("arrayUnion",n)}(function(t,i=!0){(function(o){mo=o})(MC),sh(new jl("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new lo(new YC(a.getProvider("auth-internal")),new ZC(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _t(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ks(k0,U0,t),Ks(k0,U0,"esm2017")})();var oI="firebase",lI="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(oI,lI,"app");const Qi={apiKey:"AIzaSyCgtK-0nzqWNWotAe7hxwr2Fe1I_exrx1c",authDomain:"esc-party-e4edc.firebaseapp.com",projectId:"esc-party-e4edc",storageBucket:"esc-party-e4edc.firebasestorage.app",messagingSenderId:"970408332899",appId:"1:970408332899:web:b6b6465a090fbc9ee37256",measurementId:"G-D7GEE0Z4TV"};console.log(`App environment: production (${window.location.hostname})`);console.log("Firebase initialization with config:",{...Qi,apiKey:Qi.apiKey?"[REDACTED]":"MISSING",appId:Qi.appId?"[REDACTED]":"MISSING",projectId:Qi.projectId||"MISSING"});const uI=!Qi.apiKey||!Qi.projectId||!Qi.appId;uI&&console.error("⚠️ Firebase config appears to be missing critical values. Check .env file.");const cI=WE(Qi),Qn=BD(cI);Gw()&&console.log("Running in production preview mode - using production Firebase configuration");const ar=()=>Qn?(console.log("Firebase DB object exists:",!!Qn),console.log("Firebase app mode:","production"),!0):(console.error("Firebase Firestore instance not initialized!"),!1),hI=async(n,t,i,a=!1)=>{if(console.log(`Creating room ${n} with host ${i} (${t}), hostIsObserver: ${a}`),console.log("Environment:","production","BASE_URL:","/escparty/"),!ar()){const o=new Error("Firebase not initialized");throw console.error(o),o}try{const o=be.now();console.log("Current timestamp created:",o);const u=Vr(Qn,"rooms",n);console.log("Room reference created:",u);const f={id:n,hostId:t,started:!1,hostIsObserver:a,createdAt:aI(),players:[{id:t,name:i,score:0,joinedAt:o}]};console.log("About to create room with data:",JSON.stringify({...f,createdAt:"SERVER_TIMESTAMP",players:[{...f.players[0],joinedAt:o.toDate().toISOString()}]})),await rI(u,f),console.log(`Room ${n} created successfully`)}catch(o){throw console.error("Error creating room:",o),console.error("Error details:",o==null?void 0:o.code,o==null?void 0:o.message),console.error("Stack:",o.stack),new Error(`Failed to create room: ${o.message}`)}},kT=async n=>{if(console.log(`Getting room ${n}`),!ar())throw new Error("Firebase not initialized");try{const t=Vr(Qn,"rooms",n),i=await Fp(t);return i.exists()?i.data():(console.log(`Room ${n} does not exist`),null)}catch(t){throw console.error("Error getting room:",t),new Error(`Failed to get room: ${t.message}`)}},fI=async(n,t,i)=>{if(console.log(`Adding player ${i} (${t}) to room ${n}`),!ar())throw new Error("Firebase not initialized");try{const a=be.now(),o=Vr(Qn,"rooms",n);await Ja(o,{players:sI({id:t,name:i,score:0,joinedAt:a})}),console.log(`Player ${i} added to room ${n}`)}catch(a){throw console.error("Error adding player to room:",a),new Error(`Failed to add player: ${a.message}`)}},dI=async(n,t)=>{if(console.log(`Setting difficulty for room ${n} to ${t}`),!ar())throw new Error("Firebase not initialized");try{const i=Vr(Qn,"rooms",n);await Ja(i,{difficulty:t}),console.log(`Difficulty set to ${t} for room ${n}`)}catch(i){throw console.error("Error setting room difficulty:",i),new Error(`Failed to set difficulty: ${i.message}`)}},mI=async n=>{if(console.log(`Starting game in room ${n}`),!ar())throw new Error("Firebase not initialized");try{const t=Vr(Qn,"rooms",n);await Ja(t,{started:!0}),console.log(`Game started in room ${n}`)}catch(t){throw console.error("Error starting game:",t),new Error(`Failed to start game: ${t.message}`)}},N_=async(n,t,i)=>{if(console.log(`Updating score for player ${t} in room ${n} to ${i}`),!ar())throw new Error("Firebase not initialized");try{const a=Vr(Qn,"rooms",n),o=await Fp(a);if(!o.exists())throw new Error(`Room ${n} does not exist`);const f=o.data().players.map(m=>m.id===t?{...m,score:i}:m);await Ja(a,{players:f}),console.log(`Score updated for player ${t} in room ${n}`)}catch(a){throw console.error("Error updating player score:",a),new Error(`Failed to update score: ${a.message}`)}},iu=(n,t)=>{if(console.log(`Setting up listener for room ${n}`),!ar())return console.error("Firebase not initialized - cannot set up listener"),t(null),()=>{};try{const i=Vr(Qn,"rooms",n);return iI(i,o=>{if(o.exists()){const u=o.data();console.log(`Room ${n} data updated:`,u),t(u)}else console.log(`Room ${n} does not exist or was deleted`),t(null)},o=>{console.error(`Error listening to room ${n}:`,o),t(null)})}catch(i){return console.error("Error setting up room listener:",i),t(null),()=>{}}},pI=()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let t="";for(let i=0;i<4;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return console.log(`Generated room code: ${t}`),t},vh=async(n,t)=>{if(console.log(`Setting continue ready state for room ${n} to ${t}`),!ar())throw new Error("Firebase not initialized");try{const i=Vr(Qn,"rooms",n);await Ja(i,{continueReady:t}),console.log(`Continue ready state set to ${t} for room ${n}`)}catch(i){throw console.error("Error setting continue ready state:",i),new Error(`Failed to set continue ready state: ${i.message}`)}},gI=async(n,t)=>{if(console.log(`Marking player ${t} as ready at mid-quiz in room ${n}`),!ar())throw new Error("Firebase not initialized");try{const i=Vr(Qn,"rooms",n),a=await Fp(i);if(!a.exists())throw new Error(`Room ${n} does not exist`);const u=a.data().playersAtMidQuiz||[];u.includes(t)?console.log(`Player ${t} was already marked as ready at mid-quiz`):(await Ja(i,{playersAtMidQuiz:[...u,t]}),console.log(`Player ${t} marked as ready at mid-quiz in room ${n}`))}catch(i){throw console.error("Error marking player as ready at mid-quiz:",i),new Error(`Failed to mark player as ready: ${i.message}`)}},yI=async n=>{if(console.log(`Resetting players at mid-quiz for room ${n}`),!ar())throw new Error("Firebase not initialized");try{const t=Vr(Qn,"rooms",n);await Ja(t,{playersAtMidQuiz:[]}),console.log(`Players at mid-quiz reset for room ${n}`)}catch(t){throw console.error("Error resetting players at mid-quiz:",t),new Error(`Failed to reset players at mid-quiz: ${t.message}`)}},vI=async(n,t,i)=>{if(console.log(`Attempting to join room ${n} as ${i} (${t})`),!ar())throw new Error("Firebase not initialized");try{const a=await kT(n);return a?a.started?(console.log(`Cannot join room ${n} - game already started`),!1):(await fI(n,t,i),console.log(`Successfully joined room ${n}`),!0):(console.log(`Cannot join room ${n} - room does not exist`),!1)}catch(a){throw console.error("Error joining room:",a),new Error(`Failed to join room: ${a.message}`)}},_I="modulepreload",EI=function(n){return"/escparty/"+n},M_={},Mc=function(t,i,a){let o=Promise.resolve();if(i&&i.length>0){let f=function(y){return Promise.all(y.map(E=>Promise.resolve(E).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(i.map(y=>{if(y=EI(y),y in M_)return;M_[y]=!0;const E=y.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${S}`))return;const A=document.createElement("link");if(A.rel=E?"stylesheet":_I,E||(A.as="script"),A.crossOrigin="",A.href=y,g&&A.setAttribute("nonce",g),document.head.appendChild(A),E)return new Promise((x,D)=>{A.addEventListener("load",x),A.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},z_={easy:[{id:1,question:"Which two countries are tied for the most Eurovision wins?",options:["Sweden and Ireland","United Kingdom and France","Sweden and Norway","Ireland and Netherlands"],correctAnswer:"Sweden and Ireland"},{id:2,question:"What year did ABBA win Eurovision with 'Waterloo'?",options:["1969","1974","1982","1990"],correctAnswer:"1974"}],medium:[{id:11,question:"In which year did Alexander Rybak win Eurovision with 'Fairytale'?",options:["2007","2009","2011","2013"],correctAnswer:"2009"},{id:12,question:"Which country won Eurovision in 2010 with Lena's 'Satellite'?",options:["Germany","Denmark","Norway","Sweden"],correctAnswer:"Germany"}],hard:[{id:21,question:"In which city did Dana International win Eurovision with 'Diva' in 1998?",options:["Birmingham","Jerusalem","Dublin","Oslo"],correctAnswer:"Birmingham"},{id:22,question:"Which countries were declared joint winners of the Eurovision Song Contest in 1969 due to a four-way tie?",options:["Spain, United Kingdom, Netherlands, and France","Spain, United Kingdom, Netherlands, and Germany","Spain, United Kingdom, France, and Italy","Spain, Netherlands, France, and Germany"],correctAnswer:"Spain, United Kingdom, Netherlands, and France"}]},TI={easy:"escBeginnerQuiz.json",medium:"escIntermediateQuiz.json",hard:"escAdvancedQuiz.json"},bI=async n=>{console.log(`🔍 Attempting direct import for ${n} quiz`);try{let t,i;switch(n){case"easy":i=Mc(()=>import("./escBeginnerQuiz-D23Ra0IH.js"),[]);break;case"medium":i=Mc(()=>import("./escIntermediateQuiz-HcvOT-ta.js"),[]);break;case"hard":i=Mc(()=>import("./escAdvancedQuiz-Zx4CZll_.js"),[]);break;default:i=Mc(()=>import("./escBeginnerQuiz-D23Ra0IH.js"),[]);break}const a=new Promise((o,u)=>{setTimeout(()=>u(new Error("Import timeout after 5 seconds")),5e3)});if(t=await Promise.race([i,a]),t!=null&&t.default&&Array.isArray(t.default))return console.log("✅ Successfully loaded quiz data via direct import:",t.default.length,"questions"),t.default;throw console.error("⚠️ Invalid data format from direct import:",t),new Error("Invalid data format from direct import")}catch(t){throw console.error("❌ Error during direct import:",t),t}},SI=async n=>{const t=TI[n],i=BE(`quizdata/${t}`);console.log(`🔍 Fetching quiz from public path: ${i}`);try{const a=new AbortController,o=setTimeout(()=>a.abort(),5e3),u=await fetch(i,{signal:a.signal,headers:{"Cache-Control":"no-cache"}});if(clearTimeout(o),console.log(`📋 Fetch response status: ${u.status} ${u.statusText}`),!u.ok)throw new Error(`HTTP error! Status: ${u.status}`);const f=await u.json();if(!Array.isArray(f))throw console.error("⚠️ Fetched data is not an array:",f),new Error("Fetched data is not in the expected array format");return console.log("✅ Successfully loaded quiz data from public directory:",f.length,"questions"),f}catch(a){throw console.error("❌ Error fetching from public directory:",a),a}},AI=async(n="easy")=>{console.log(`📚 Loading quiz data for difficulty: ${n}`),console.log("🌐 Current environment: Production");const t=typeof n=="string"&&!["easy","medium","hard"].includes(n)?"easy":n;try{return console.log("🔄 Production environment: Trying public fetch first..."),await SI(t)}catch{console.warn("⚠️ Public fetch failed in production, trying direct import...");try{return await bI(t)}catch{return console.warn("⚠️ Direct import also failed, using fallback data..."),console.log("✅ Using fallback quiz data:",z_[t].length,"questions"),z_[t]}}},wI=()=>{const[n,t]=L.useState([]),i=rr(),a=i.state,[o,u]=L.useState((a==null?void 0:a.currentQuestionIndex)||0),[f,m]=L.useState(null),[g,y]=L.useState(!1),[E,S]=L.useState((a==null?void 0:a.score)||0),[A,x]=L.useState(!1),[D,H]=L.useState((a==null?void 0:a.multiplayer)||!1),[M,j]=L.useState((a==null?void 0:a.roomCode)||null),[F,G]=L.useState((a==null?void 0:a.playerId)||null),[rt,st]=L.useState(null),[ut,I]=L.useState(!0),[R,w]=L.useState(null),[V,P]=L.useState("Initializing..."),[B,O]=L.useState(10),[le,re]=L.useState(1e4),[ot,yt]=L.useState(!1),[mt,wt]=L.useState(!0),[z,et]=L.useState(0),ct=ir(),{difficulty:at}=KS(),ht=!ut&&n.length>0&&o<n.length?n[o]:{question:"",options:[],correctAnswer:""},At=a==null?void 0:a.hostIsObserver;L.useEffect(()=>{At&&localStorage.getItem("isHost")==="true"&&D&&!ut&&M&&F&&at&&rt&&rt.players&&n&&n.length>0&&ct("/mid-quiz-scoreboard",{state:{score:E,totalQuestions:n.length,currentQuestionIndex:o,difficulty:at,players:rt.players,multiplayer:!0,roomCode:M,playerId:F,hostIsObserver:!0},replace:!0})},[At,D,ut,M,F,at,rt,n,E,o,ct]),L.useEffect(()=>{a!=null&&a.hostIsObserver&&localStorage.getItem("isHost")==="true"&&M&&F&&at&&ct("/mid-quiz-scoreboard",{state:{multiplayer:!0,roomCode:M,playerId:F,difficulty:at,hostIsObserver:!0},replace:!0})},[a,M,F,at,ct]),L.useEffect(()=>{if(w(null),I(!0),P("Initializing quiz..."),console.log("🚀 Quiz component mounted",{mode:"production",baseUrl:"/escparty/",currentUrl:window.location.href,difficulty:at,isLocationStatePresent:!!i.state,currentQuestionIndex:o}),!at||!["easy","medium","hard"].includes(at)){console.error(`❌ Invalid difficulty parameter: ${at}`),w(`Invalid difficulty level: ${at}`),I(!1);return}let gt=null;if(a!=null&&a.multiplayer)console.log("📱 Multiplayer data found in location state:",a),gt={multiplayer:!0,roomCode:a.roomCode||"",playerId:a.playerId||""};else{const Kt=sessionStorage.getItem("multiplayerGame");if(Kt)try{gt=JSON.parse(Kt),console.log("📱 Multiplayer data found in sessionStorage:",gt)}catch(xe){console.error("❌ Error parsing multiplayer data from sessionStorage:",xe)}}let Yt=()=>{};gt!=null&&gt.multiplayer&&gt.roomCode&&gt.playerId&&(console.log("🔄 Setting up multiplayer mode..."),H(!0),j(gt.roomCode),G(gt.playerId),P("Connecting to game room..."),sessionStorage.setItem("multiplayerGame",JSON.stringify(gt)),Yt=iu(gt.roomCode,Kt=>{Kt?(console.log("🎮 Room data updated:",Kt),st(Kt),!at&&Kt.difficulty&&console.log(`Using room difficulty: ${Kt.difficulty}`)):(console.error("❌ Game room not found"),w("Game room no longer exists"),setTimeout(()=>ct("/multiplayer"),2e3))})),console.log("🌐 Environment: Production"),console.log("📂 Base URL: /escparty/"),console.log(`🎮 Difficulty parameter: ${at}`),P("Loading quiz data...");const se=AI(at),dn=new Promise((Kt,xe)=>{setTimeout(()=>xe(new Error("Quiz loading timed out after 10 seconds")),1e4)});return Promise.race([se,dn]).then(Kt=>{if(console.log("✅ Fetched Quiz Data:",Kt),!Kt||!Array.isArray(Kt)){console.error("❌ Quiz data is not in expected format:",Kt),w("Quiz data format is invalid"),I(!1);return}const xe=Kt.filter(oa=>!oa.disabled);if(console.log(`📋 Loaded ${xe.length} questions for ${at} difficulty`),xe.length===0){w("No questions available for this difficulty level"),I(!1);return}t(xe),I(!1),console.log(`Using question index: ${o}, score: ${E}`)}).catch(Kt=>{console.error("❌ Error loading quiz data:",Kt),w(`Failed to load quiz: ${Kt.message}`),I(!1)}),()=>{Yt(),console.log("🧹 Quiz component unmounting, cleaned up listeners")}},[at,ct,i,o,E]),L.useEffect(()=>{if(!(A||ut)&&!ot){console.log("Setting up new question timer"),O(10),re(1e4);const gt=setInterval(()=>{re(se=>se<=100?(clearInterval(gt),bt(),0):se-100)},100),Yt=setInterval(()=>{O(se=>se<=1?(clearInterval(Yt),0):se-1)},1e3);return()=>{clearInterval(gt),clearInterval(Yt)}}},[o,A,ut,ot]),L.useEffect(()=>{if(ot){const gt=setInterval(()=>{O(Yt=>Yt<=1?(clearInterval(gt),ee(),0):Yt-1)},1e3);return()=>{clearInterval(gt)}}},[ot]);const bt=()=>{if(g||y(!0),wt(!1),et(0),yt(!0),O(5),D&&M&&F)try{N_(M,F,E).catch(gt=>{console.error("Failed to update score:",gt)})}catch(gt){console.error("Failed to update score:",gt)}},ee=()=>{if(o<n.length-1)(o+1)%5===0?ct("/mid-quiz-scoreboard",{state:{score:E,totalQuestions:n.length,currentQuestionIndex:o+1,difficulty:at,players:D&&rt?rt.players:[{name:"Player 1",score:E}],multiplayer:D,roomCode:M,playerId:F}}):(yt(!1),u(o+1),m(null),y(!1),O(10),re(1e4),wt(!0),et(0));else{const gt=at??"easy";if(!D){const Yt=JSON.parse(localStorage.getItem("quizScores")||"[]"),se={score:E,total:n.length,difficulty:gt,date:new Date().toISOString()};localStorage.setItem("quizScores",JSON.stringify([...Yt,se]))}ct("/results",{state:{score:E,totalQuestions:n.length,difficulty:at,multiplayer:D,roomCode:M,playerId:F,players:D&&rt?rt.players:null}})}},It=gt=>{g||m(gt)},Ht=async gt=>{if(!gt)return;if(y(!0),wt(!1),gt===ht.correctAnswer){const se=Math.floor(le/1e4*500),dn=500+se;console.log(`Correct answer! Time left: ${le/1e3}s, Time bonus: ${se}, Total points: ${dn}`),et(dn);const Kt=E+dn;if(S(Kt),D&&M&&F)try{await N_(M,F,Kt)}catch(xe){console.error("Failed to update score:",xe)}}else et(0);const Yt=Math.min(B,10)+5;yt(!0),O(Yt)},kt=()=>{u(0),S(0),x(!1),m(null),y(!1),wt(!0)};return ut?N.jsxs(VI,{children:[N.jsx(MI,{}),N.jsx(NI,{children:V})]}):R?N.jsxs(kI,{children:[N.jsx(UI,{children:R}),N.jsx(LI,{onClick:()=>ct("/"),children:"Back to Home"})]}):A?N.jsxs(P_,{children:[N.jsx(k_,{children:"🎉 Quiz Completed! 🎤"}),N.jsxs(zI,{children:["You scored ",E,"!"]}),N.jsx(Wm,{onClick:kt,children:"Restart Quiz"})]}):N.jsxs(P_,{children:[mt?N.jsx(RI,{children:N.jsx(xI,{$timeRunningOut:B<=3&&!ot,$isFeedback:ot,$isVisible:!0,children:N.jsxs(DI,{children:[B,"s"]})})}):N.jsxs(CI,{children:[N.jsx("span",{className:"points-value",children:z}),"points!"]}),N.jsx(k_,{children:ht.question}),N.jsx(II,{children:ht.options.map(gt=>N.jsx(OI,{onClick:()=>It(gt),disabled:g,$isSelected:f===gt,$isCorrect:g&&gt===ht.correctAnswer,$isWrong:g&&gt!==ht.correctAnswer&&gt===f,children:gt},gt))}),N.jsx(Wm,{onClick:()=>ot?void 0:Ht(f||""),disabled:!ot&&!f||g&&!ot||ot,children:ot?`Next Question in ${B}s...`:"Submit Answer"}),N.jsx(PI,{onClick:()=>ct("/"),children:N.jsx(HE,{size:20})})]})},P_=tt.div`
  position: relative;
  width: 100%;
  max-width: 31.25rem; /* 500px */
  margin: auto;
  text-align: center;
  padding: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.magnolia};
  overflow-x: hidden;
`,RI=tt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  width: 100%;
`,CI=tt.div`
  width: 100%;
  text-align: center;
  padding: 0.5rem 0;
  font-weight: bold;
  font-size: 1.5rem;
  color: ${({theme:n})=>n.colors.purple};
  margin-bottom: 1rem;
  
  .points-value {
    font-size: 1.8rem;
    margin-right: 0.5rem;
  }
`,xI=tt.div`
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
  display: flex; /* Always display the container to maintain layout */
  align-items: center;
  justify-content: center;
  background-color: ${({$timeRunningOut:n,$isFeedback:t,theme:i})=>t?i.colors.amethyst:n?i.colors.incorrectRed:i.colors.purple};
  transition: background-color 0.3s ease;
  animation: ${({$timeRunningOut:n})=>n?"pulse 1s infinite":"none"};
  
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
`,DI=tt.span`
  color: white;
  font-weight: bold;
  font-size: 1.2rem;
`,k_=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  font-size: 1.5rem;
  margin-bottom: 1.25rem; /* 20px */
`,II=tt.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,OI=tt.button`
  background: ${({$isSelected:n,$isCorrect:t,$isWrong:i,theme:a})=>t?a.colors.accentgreen:i?a.colors.incorrectRed:n?a.colors.pinkLavender:a.colors.gray};
  color: white;
  font-size: 1rem;
  font-weight: bold;
  padding: 1rem;
  border: none;
  cursor: pointer;
  transition: 0.3s;

  &:disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  &:hover:not(:disabled) {
    background: ${({$isSelected:n,theme:t})=>n?t.colors.night:t.colors.amethyst};
  }
`,Wm=tt.button`
  margin-top: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.purple};
  color: white;
  font-size: 1rem;
  font-weight: bold;
  padding: 1rem;
  border: none;
  cursor: pointer;
  transition: 0.3s;
  width: 100%;

  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:hover:not(:disabled) {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
`,VI=tt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2.5rem 1.25rem; /* 40px 20px */
  background: ${({theme:n})=>n.colors.magnolia};
  border-radius: 0;
  margin: auto;
  max-width: 31.25rem; /* 500px */
`,NI=tt.p`
  text-align: center;
  font-size: 1.2rem;
  color: ${({theme:n})=>n.colors.night};
  margin-top: 1.25rem; /* 20px */
`,MI=tt.div`
  border: 0.25rem solid rgba(0, 0, 0, 0.1); /* 4px */
  border-radius: 50%;
  border-top: 0.25rem solid ${({theme:n})=>n.colors.amethyst}; /* 4px */
  width: 2.5rem; /* 40px */
  height: 2.5rem; /* 40px */
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,zI=tt.p`
  font-size: 1.5rem;
  font-weight: bold;
  color: ${({theme:n})=>n.colors.amethyst};
  margin-bottom: 1.25rem; /* 20px */
`,PI=tt.button`
  position: relative;
  margin-top: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.darkpurple};
  color: white;
  border: none;
  border-radius: 50%;
  width: 2.5rem; /* 40px */
  height: 2.5rem; /* 40px */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s;

  &:hover {
    background: ${({theme:n})=>n.colors.purple};
  }
`,kI=tt.div`
  width: 100%;
  max-width: 31.25rem; /* 500px */
  margin: auto;
  text-align: center;
  padding: 2.5rem 1.25rem; /* 40px 20px */
  background: ${({theme:n})=>n.colors.magnolia};
  border-radius: 0; /* Changed from 10px to match square design */
`,UI=tt.p`
  color: ${({theme:n})=>n.colors.incorrectRed};
  font-size: 1.2rem;
  margin-bottom: 1.25rem; /* 20px */
`,LI=tt(Wm)`
  max-width: 12.5rem; /* 200px */
  margin: 0.625rem auto; /* 10px auto */
  display: block;
`,jI=()=>{const n=rr(),t=ir(),i=n.state||{score:0,totalQuestions:0,multiplayer:!1,players:[],roomCode:null,playerId:null},[a,o]=L.useState({score:i.score||0,totalQuestions:i.totalQuestions||0,multiplayer:i.multiplayer||!1,roomCode:i.roomCode||null,playerId:i.playerId||null,players:i.players||[]}),[u,f]=L.useState([]),[m,g]=L.useState(null),[y,E]=L.useState(null),[S,A]=L.useState(a.players||[]);return L.useEffect(()=>{if(!n.state&&!a.multiplayer){const x=sessionStorage.getItem("multiplayerGame");if(x)try{const D=JSON.parse(x);o(H=>({...H,multiplayer:!0,roomCode:D.roomCode,playerId:D.playerId}))}catch(D){console.error("Error parsing multiplayer data from sessionStorage:",D)}}if(sessionStorage.removeItem("multiplayerGame"),a.multiplayer){if(a.roomCode){const x=iu(a.roomCode,D=>{if(D){const H=D.hostIsObserver?D.players.filter(M=>M.id!==D.hostId):D.players;if(A(H),H.length>0){const M=[...H].sort((G,rt)=>rt.score-G.score),j=M[0].score,F=M.filter(G=>G.score===j);if(F.length===1)g(`Winner: ${F[0].name} with ${j} points!`);else if(F.length>1){const G=F.map(rt=>rt.name).join(", ");g(`Tie between ${G} with ${j} points!`)}}}else E("Game room no longer exists")});setTimeout(()=>x(),2e3)}}else{const x=JSON.parse(localStorage.getItem("quizScores")||"[]");if(f(x),x.length>0){const D=Math.max(...x.map(M=>M.score)),H=x.find(M=>M.score===D);H&&g(`Best Score: ${H.score}`)}}},[a.multiplayer,a.roomCode,a.playerId,n.state]),N.jsxs(BI,{children:[N.jsx($I,{children:"🎉 Quiz Completed! 🎤"}),N.jsxs(qI,{children:["You scored ",a.score,"!"]}),m&&N.jsx(HI,{children:m}),y&&N.jsx(FI,{children:y}),N.jsxs(GI,{children:[N.jsx(Gp,{onClick:()=>t("/quiz"),children:"Restart Quiz"}),!a.multiplayer&&N.jsx(QI,{onClick:()=>t("/scoreboard"),children:"📊 View Scoreboard"}),N.jsx(YI,{onClick:()=>t("/"),children:"Return to Home"})]}),a.multiplayer&&S&&S.length>0&&N.jsxs(N.Fragment,{children:[N.jsx(U_,{children:"📊 Final Scores"}),N.jsxs(L_,{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Player"}),N.jsx("th",{children:"Score"})]})}),N.jsx("tbody",{children:S.sort((x,D)=>D.score-x.score).map(x=>N.jsxs("tr",{children:[N.jsxs("td",{children:[x.name,x.id===a.playerId?" (You)":""]}),N.jsx("td",{children:x.score})]},x.id))})]})]}),!a.multiplayer&&u.length>0&&N.jsxs(N.Fragment,{children:[N.jsx(U_,{children:"📊 Past Scores"}),N.jsxs(L_,{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Date"}),N.jsx("th",{children:"Score"})]})}),N.jsx("tbody",{children:u.map((x,D)=>N.jsxs("tr",{children:[N.jsx("td",{children:new Date(x.date).toLocaleDateString()}),N.jsxs("td",{children:[x.score," / ",x.total]})]},D))})]})]})]})},BI=tt.div`
  width: 100%;
  max-width: 31.25rem; /* 500px */
  margin: auto;
  text-align: center;
  padding: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.white};
`,$I=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  font-size: 1.5rem;
  margin-bottom: 1.25rem; /* 20px */
`,qI=tt.p`
  font-size: 1.5rem;
  font-weight: bold;
  color: ${({theme:n})=>n.colors.purple};
  margin-bottom: 1.25rem; /* 20px */
`,HI=tt.p`
  font-size: 1.5rem;
  font-weight: bold;
  color: ${({theme:n})=>n.colors.correctGreen};
  margin-bottom: 1.25rem; /* 20px */
`,FI=tt.p`
  font-size: 1rem;
  color: ${({theme:n})=>n.colors.incorrectRed};
  margin-bottom: 1.25rem; /* 20px */
`,GI=tt.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Gp=tt.button`
  background: ${({theme:n})=>n.colors.purple};
  color: white;
  font-size: 1rem;
  font-weight: bold;
  padding: 1rem;
  border: none;
  cursor: pointer;
  transition: 0.3s;
  width: 100%;

  &:hover {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
`,QI=tt(Gp)`
  background: ${({theme:n})=>n.colors.darkpurple};

  &:hover {
    background: ${({theme:n})=>n.colors.purple};
  }`,YI=tt(Gp)`
  background: ${({theme:n})=>n.colors.gray};

  &:hover {
    background: ${({theme:n})=>n.colors.night};
  }
`,U_=tt.h3`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  margin-top: 1.25rem; /* 20px */
`,L_=tt.table`
  width: 100%;
  margin-top: 0.625rem; /* 10px */
  border-collapse: collapse;
  font-size: 1rem;
  
  th, td {
    border: 0.0625rem solid ${({theme:n})=>n.colors.gray}; /* 1px */
    padding: 0.5rem; /* 8px */
    text-align: center;
  }

  th {
    background: ${({theme:n})=>n.colors.nightblue};
    color: white;
  }

  td {
    color: ${({theme:n})=>n.colors.black};
  }
`,KI=()=>{const n=ir(),[t,i]=L.useState([]),[a,o]=L.useState("date");L.useEffect(()=>{const f=JSON.parse(localStorage.getItem("quizScores")||"[]");i(f)},[]);const u=[...t].sort((f,m)=>a==="date"?new Date(m.date).getTime()-new Date(f.date).getTime():a==="difficulty"?f.difficulty.localeCompare(m.difficulty):a==="score"?m.score-f.score:0);return N.jsxs(XI,{children:[N.jsx(ZI,{children:"📊 Quiz Scoreboard"}),N.jsxs(JI,{children:[N.jsx(WI,{children:"Sort by:"}),N.jsx(dm,{onClick:()=>o("date"),children:"📅 Date"}),N.jsx(dm,{onClick:()=>o("difficulty"),children:"🎯 Difficulty"}),N.jsx(dm,{onClick:()=>o("score"),children:"🏆 Score"})]}),N.jsxs(tO,{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Date"}),N.jsx("th",{children:"Difficulty"}),N.jsx("th",{children:"Score"})]})}),N.jsx("tbody",{children:u.map((f,m)=>N.jsxs("tr",{children:[N.jsx("td",{children:new Date(f.date).toLocaleDateString()}),N.jsx("td",{children:f.difficulty}),N.jsxs("td",{children:[f.score," / ",f.total]})]},m))})]}),N.jsx(eO,{onClick:()=>n("/"),children:"🏠 Back to Home"})]})},XI=tt.div`
    width: 100%;
    max-width: 31.25rem; /* 500px - standardizing width */
    margin: auto;
    text-align: center;
    padding: 1.25rem; /* 20px */
    background: ${({theme:n})=>n.colors.white};
`,ZI=tt.h2`
    font-family: ${({theme:n})=>n.fonts.heading};
    color: ${({theme:n})=>n.colors.night};
    font-size: 1.5rem;
    margin-bottom: 1.25rem; /* 20px */
`,JI=tt.div`
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.625rem; /* 10px */
    margin-bottom: 0.9375rem; /* 15px */
`,WI=tt.p`
    font-size: 1rem;
    color: ${({theme:n})=>n.colors.black};
    font-weight: bold;
`,dm=tt.button`
    background: ${({theme:n})=>n.colors.purple};
    color: white;
    font-size: 0.9rem;
    padding: 0.5rem;
    border: none;
    cursor: pointer;
    transition: 0.3s;

    &:hover {
        background: ${({theme:n})=>n.colors.darkpurple};
    }
`,tO=tt.table`
    width: 100%;
    margin-top: 0.625rem; /* 10px */
    border-collapse: collapse;
    font-size: 1rem;

    th, td {
        border: 0.0625rem solid ${({theme:n})=>n.colors.gray}; /* 1px */
        padding: 0.5rem; /* 8px */
        text-align: center;
    }

    th {
        background: ${({theme:n})=>n.colors.nightblue};
        color: white;
    }
    
    td {
        color: ${({theme:n})=>n.colors.black};
    }
`,eO=tt.button`
    background: ${({theme:n})=>n.colors.gray};
    color: white;
    font-size: 1rem;
    font-weight: bold;
    padding: 1rem;
    border: none;
    cursor: pointer;
    margin-top: 1.25rem; /* 20px */
    width: 100%;

    &:hover {
        background: ${({theme:n})=>n.colors.night};
    }
`,Xe=[];for(let n=0;n<256;++n)Xe.push((n+256).toString(16).slice(1));function nO(n,t=0){return(Xe[n[t+0]]+Xe[n[t+1]]+Xe[n[t+2]]+Xe[n[t+3]]+"-"+Xe[n[t+4]]+Xe[n[t+5]]+"-"+Xe[n[t+6]]+Xe[n[t+7]]+"-"+Xe[n[t+8]]+Xe[n[t+9]]+"-"+Xe[n[t+10]]+Xe[n[t+11]]+Xe[n[t+12]]+Xe[n[t+13]]+Xe[n[t+14]]+Xe[n[t+15]]).toLowerCase()}let mm;const rO=new Uint8Array(16);function iO(){if(!mm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mm=crypto.getRandomValues.bind(crypto)}return mm(rO)}const aO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j_={randomUUID:aO};function B_(n,t,i){var o;if(j_.randomUUID&&!n)return j_.randomUUID();n=n||{};const a=n.random??((o=n.rng)==null?void 0:o.call(n))??iO();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,nO(a)}const sO=["Loreen 🇸🇪","Måneskin 🇮🇹","Conchita Wurst 🕊️","Alexander Rybak 🎻","ABBA 🇸🇪","Duncan Laurence 🎹","Netta 🐔","Dana International 🏳️‍🌈","Céline Dion 🇨🇭","Johnny Logan 🇮🇪","Ruslana 🔥","Lena 🇩🇪","Lordi 👹","Eleni Foureira 🔥","Helena Paparizou 🇬🇷","Marija Šerifović 🌈","Emmelie de Forest 🎤","Verka Serduchka 🌟","Mahmood 🇮🇹","Käärijä 💚","Chanel 💃","Barbara Pravi 🇫🇷","Cornelia Jakobs 🌌","Salvador Sobral 🕊️","Noa Kirel 🦄","Teya & Salena 🧪","KEiiNO 🐺","Benjamin Ingrosso 💫","Subwoolfer 🚀","Daði Freyr 🧔","Rosa Linn 🧵","Marco Mengoni 🎙️","Gjon's Tears 😢","Alessandra 👑","Sam Ryder 🚀","Go_A 🌿","S10 🌧️","Sergey Lazarev 💎","Stefania 🐎","Il Volo 🎶"],oO=async(n,t)=>{const i=await kT(n);if(!i)return t[Math.floor(Math.random()*t.length)];const a=i.players.map(u=>u.name),o=t.filter(u=>!a.includes(u));return o.length===0?`${t[Math.floor(Math.random()*t.length)]} #${Math.floor(Math.random()*1e3)}`:o[Math.floor(Math.random()*o.length)]},lO=()=>{const[n,t]=L.useState(null),[i,a]=L.useState(""),[o,u]=L.useState(!1),[f,m]=L.useState(!1),[g,y]=L.useState(!1),[E,S]=L.useState(!1),A=ir(),x=async F=>{u(!0);try{const G=B_(),rt="👑 HOST 👑",st=pI();await hI(st,G,rt,F),localStorage.setItem("playerId",G),localStorage.setItem("playerName",rt),localStorage.setItem("gameCode",st),localStorage.setItem("isHost","true"),localStorage.setItem("hostIsObserver",String(F)),t(st),A("/lobby")}catch(G){console.error("Error creating game:",G),alert("Failed to create game. Please try again.")}finally{u(!1)}},D=()=>{y(!0)},H=async()=>{if(S(!0),!!i&&!(i.length!==4||!/^[A-Z]{4}$/.test(i))){u(!0);try{const F=B_();let G=await oO(i.toUpperCase(),sO);await vI(i.toUpperCase(),F,G)?(localStorage.setItem("playerId",F),localStorage.setItem("playerName",G),localStorage.setItem("gameCode",i.toUpperCase()),localStorage.setItem("isHost","false"),A("/lobby")):alert("Game not found!")}catch(F){console.error("Error joining game:",F),alert("Failed to join game. Please try again.")}finally{u(!1)}}},M=()=>{m(!0)},j=()=>{m(!1),a("")};return N.jsxs(uO,{children:[N.jsx(cO,{children:"Multiplayer Quiz"}),!f&&!g?N.jsxs($_,{children:[N.jsxs(zc,{onClick:o?void 0:D,disabled:o,children:[N.jsx(Pc,{children:"Create game"}),N.jsx(kc,{children:"Host your own game and invite friends!"}),o&&N.jsx(pm,{children:"Creating..."})]}),N.jsx(q_,{children:"OR"}),N.jsxs(zc,{onClick:o?void 0:M,disabled:o,children:[N.jsx(Pc,{children:"Join game"}),N.jsx(kc,{children:"Enter a game code to join an existing game."})]})]}):g?N.jsxs($_,{children:[N.jsxs(zc,{onClick:o?void 0:()=>x(!1),disabled:o,children:[N.jsx(Pc,{children:"Host & Play"}),N.jsx(kc,{children:"Host the game and participate in the quiz"}),o&&N.jsx(pm,{children:"Creating..."})]}),N.jsx(q_,{children:"OR"}),N.jsxs(zc,{onClick:o?void 0:()=>x(!0),disabled:o,children:[N.jsx(Pc,{children:"Host Only"}),N.jsx(kc,{children:"Host the game and observe the players' progress"}),o&&N.jsx(pm,{children:"Creating..."})]}),N.jsx(gm,{onClick:()=>y(!1),disabled:o,secondary:!0,style:{marginTop:"1rem"},children:"Back"})]}):N.jsxs(hO,{children:[N.jsx(fO,{children:"Enter Game Code"}),N.jsx(dO,{type:"text",value:i,onChange:F=>a(F.target.value.toUpperCase()),placeholder:"code",disabled:o,isInvalid:E&&(!i||i.length<4||!/^[A-Z]{4}$/.test(i)),autoFocus:!0,autoCapitalize:"characters",maxLength:4}),E&&(!i||i.length<4||!/^[A-Z]{4}$/.test(i))&&N.jsx(mO,{children:"Please enter 4 letters."}),N.jsxs(pO,{children:[N.jsx(gm,{onClick:j,disabled:o,secondary:!0,children:"Back"}),N.jsx(gm,{onClick:H,disabled:o,children:o?"Joining...":"Join Game"})]})]})]})},uO=tt.div`
  text-align: center;
  max-width: 31.25rem; /* 500px - standardized width */
  margin: auto;
  padding: 1.25rem; /* 20px */
`,cO=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.white};
  font-size: 2rem;
  margin-bottom: 1.25rem; /* 20px */
`,$_=tt.div`
  display: flex;
  flex-direction: column;
  gap: 0.9375rem; /* 15px */
`,zc=tt.div`
  padding: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.purple};
  border: 0.125rem solid ${({theme:n})=>n.colors.purple}; /* 2px */
  cursor: ${n=>n.disabled?"not-allowed":"pointer"};
  opacity: ${n=>n.disabled?.7:1};
  transition: all 0.2s ease;
  position: relative;
  
  &:hover {
    background: ${({theme:n})=>n.colors.darkpurple};
    border-color: ${({theme:n})=>n.colors.darkpurple};
  }
`,Pc=tt.h3`
  color: ${({theme:n})=>n.colors.white};
  font-size: 1.5rem;
  margin-bottom: 0.5rem; /* 8px */
`,kc=tt.p`
  color: ${({theme:n})=>n.colors.white};
  font-size: 1rem;
`,pm=tt.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  font-weight: bold;
`,q_=tt.div`
  display: flex;
  align-items: center;
  margin: 0.3125rem 0; /* 5px */
  color: ${({theme:n})=>n.colors.white};
  font-size: 0.9rem;
  
  &::before, &::after {
    content: '';
    flex: 1;
    height: 0.0625rem; /* 1px */
    background: ${({theme:n})=>n.colors.deepblue};
    margin: 0 0.625rem; /* 10px */
  }
`,hO=tt.div`
  margin-top: 1.25rem; /* 20px */
  display: flex;
  flex-direction: column;
  align-items: center;
`,fO=tt.h3`
  color: ${({theme:n})=>n.colors.white};
  font-size: 1.4rem;
  margin-bottom: 0.9375rem; /* 15px */
`,dO=tt.input`
  padding: 0.75rem; /* 12px */
  margin: 0.625rem 0; /* 10px */
  width: 90%;
  border: 0.1875rem solid ${({isInvalid:n,theme:t})=>n?t.colors.accentorange:t.colors.purple}; /* 3px */
  background: ${({theme:n})=>n.colors.white};
  color: ${({theme:n})=>n.colors.black};
  font-size: 1rem;
  border-radius: 0; 
  -webkit-appearance: none; 
  -moz-appearance: none; 
  appearance: none; 
  text-transform: uppercase;
  
  &:focus {
    outline: none;
    border-width: 0.125rem; /* 2px */
  }
`,mO=tt.div`
  color: ${({theme:n})=>n.colors.accentorange};
  font-size: 0.9rem;
  align-self: flex-start;
  margin-left: 5%;
  margin-top: 0.3125rem; /* 5px */
`,pO=tt.div`
  display: flex;
  gap: 0.625rem; /* 10px */
  margin-top: 0.625rem; /* 10px */
  width: 90%;
  justify-content: space-between;
`,gm=tt.button`
    padding: 0.75rem 1.25rem; /* 12px 20px */
    background: ${({secondary:n,theme:t})=>n?t.colors.darkpurple:t.colors.purple};
    color: ${({theme:n})=>n.colors.white};
    font-size: 1rem;
    font-weight: bold;
    border: none;
    cursor: pointer;
    flex: ${n=>n.secondary?"0.4":"0.6"};
    transition: all 0.2s ease;

    &:hover {
      background: ${({secondary:n,theme:t})=>n?t.colors.purple:t.colors.darkpurple};
    }
    
    &:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }
  `,gO=()=>{const[n,t]=L.useState(null),[i,a]=L.useState(!1),[o,u]=L.useState(null),[f,m]=L.useState(null),[g,y]=L.useState(null),[E,S]=L.useState(null),[A,x]=L.useState(!0),D=ir();L.useEffect(()=>{const j=localStorage.getItem("gameCode"),F=localStorage.getItem("playerId"),G=localStorage.getItem("playerName"),rt=localStorage.getItem("isHost")==="true";if(!j||!F||!G){S("Missing game data. Returning to multiplayer lobby."),setTimeout(()=>D("/multiplayer"),2e3);return}u(j),y(F),m(G),a(rt);const st=iu(j,ut=>{if(ut){if(t(ut),x(!1),ut.started){const I=rt&&ut.hostIsObserver||!1;sessionStorage.setItem("multiplayerGame",JSON.stringify({multiplayer:!0,roomCode:j,playerId:F,difficulty:ut.difficulty,hostIsObserver:I})),D(`/quiz/${ut.difficulty}`,{state:{multiplayer:!0,roomCode:j,playerId:F,hostIsObserver:I}})}}else S("Game not found"),x(!1)});return()=>st()},[D]);const H=async j=>{if(i&&o){const F=j.toLowerCase();try{await dI(o,F)}catch(G){console.error("Error setting difficulty:",G),S("Failed to set difficulty")}}},M=async()=>{if(i&&o)try{if(!(n!=null&&n.difficulty)){alert("Please select a difficulty first!");return}await mI(o)}catch(j){console.error("Error starting game:",j),S("Failed to start game")}};return A?N.jsx(ym,{children:N.jsx(vm,{children:"Loading Lobby..."})}):E?N.jsxs(ym,{children:[N.jsx(vm,{children:"Error"}),N.jsx(xO,{children:E})]}):N.jsxs(ym,{children:[N.jsx(vm,{children:"Quiz Lobby"}),f&&N.jsxs(wO,{children:["You are: ",N.jsx(TO,{children:f})]}),N.jsxs(yO,{children:[N.jsxs(H_,{children:["Game Code: ",N.jsx(vO,{children:o})]}),N.jsxs(H_,{children:["Difficulty: ",N.jsx(_O,{children:n!=null&&n.difficulty?n.difficulty.charAt(0).toUpperCase()+n.difficulty.slice(1):"Not selected"})]})]}),N.jsx(CO,{children:"Waiting for players..."}),i&&!(n!=null&&n.difficulty)&&N.jsxs(DO,{children:[N.jsx(IO,{children:"Select Difficulty:"}),N.jsxs(OO,{children:[N.jsx(_m,{onClick:()=>H("Easy"),children:"Easy"}),N.jsx(_m,{onClick:()=>H("Medium"),children:"Medium"}),N.jsx(_m,{onClick:()=>H("Hard"),children:"Hard"})]})]}),N.jsx(EO,{children:"Current players:"}),N.jsx(bO,{children:n==null?void 0:n.players.filter(j=>!(n.hostIsObserver&&j.id===n.hostId)).map((j,F)=>N.jsx(SO,{children:j.name},j.id))}),i&&(n==null?void 0:n.difficulty)&&N.jsx(AO,{onClick:M,children:"Start Game"})]})},ym=tt.div`
    text-align: center;
    padding: 1.25rem; /* 20px */
    width: 100%;
    max-width: 31.25rem; /* 500px */
    margin: auto;
    background: ${({theme:n})=>n.colors.nightblue};
    color: ${({theme:n})=>n.colors.magnolia};
    border-radius: 0; /* Making consistent with square design */
`,vm=tt.h2`
    font-size: 2rem;
    margin-bottom: 1.25rem; /* 20px */
    font-family: ${({theme:n})=>n.fonts.heading};
    color: ${({theme:n})=>n.colors.white}; /* Changed to white */
`,yO=tt.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.625rem; /* 10px */
    margin: 0.9375rem 0; /* 15px 0 */
    width: 100%;
`,H_=tt.p`
    font-size: 1.2rem;
    margin: 0.3125rem 0; /* 5px 0 */
    color: ${({theme:n})=>n.colors.white}; /* Explicitly set to white */
`,vO=tt.span`
    font-weight: bold;
    color: ${({theme:n})=>n.colors.brightpurple}; /* Changed to purple */
    font-size: 1.4rem;
`,_O=tt.span`
    font-weight: bold;
    color: ${({theme:n})=>n.colors.brightpurple}; /* Changed to purple */
    font-size: 1.2rem;
`,EO=tt.h3`
    font-size: 1.2rem;
    margin-top: 1em;
    text-align: left;
    text-decoration: underline;
    color: ${({theme:n})=>n.colors.white}; /* Changed to white */
`,TO=tt.span`
    font-weight: bold;
    color: ${({theme:n})=>n.colors.brightpurple}; /* Changed to purple */
`,bO=tt.ul`
    list-style: none;
    padding: 0;
    text-align: left;
    margin: 1.25rem 0; /* 20px 0 */
    width: 100%;
`,SO=tt.li`
    font-size: 1.2rem;
    margin: 0.3125rem 0; /* 5px 0 */
    color: ${({theme:n})=>n.colors.white}; /* Explicitly set to white */
`,AO=tt.button`
    margin-top: 1.25rem; /* 20px */
    padding: 1rem 1.25rem; /* 16px 20px */
    font-size: 1.2rem;
    background-color: ${({theme:n})=>n.colors.purple}; /* Changed to purple */
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 0;
    transition: 0.3s;
    font-weight: bold; /* Added bold text */
    width: 100%;
    &:hover {
        background: ${({theme:n})=>n.colors.darkpurple};
    }
`,wO=tt.p`
    margin-top: 1.25rem; /* 20px */
    font-size: 1.2rem;
    font-weight: bold;
    color: ${({theme:n})=>n.colors.white}; /* Changed to white */
`,RO=Hw`
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
`,CO=tt.p`
    font-size: 1.2rem;
    color: ${({theme:n})=>n.colors.gray};
    animation: ${RO} 1.5s infinite;
`,xO=tt.p`
    color: ${({theme:n})=>n.colors.incorrectRed};
    font-size: 1.2rem;
    margin: 1.25rem 0; /* 20px 0 */
`,DO=tt.div`
    margin: 1.25rem 0; /* 20px 0 */
    padding: 0.625rem; /* 10px */
    background: rgba(255, 255, 255, 0.1);
    border-radius: 0; /* Making consistent with square design */
    width: 100%;
`,IO=tt.h3`
    font-size: 1.2rem;
    margin-bottom: 0.9375rem; /* 15px */
    color: ${({theme:n})=>n.colors.white}; /* Changed to white */
`,OO=tt.div`
    display: flex;
    justify-content: space-between;
    gap: 0.625rem; /* 10px */
    flex-wrap: wrap;
    width: 100%;
`,_m=tt.button`
    padding: 0.5rem 1rem; /* 8px 16px */
    background-color: ${({theme:n})=>n.colors.purple}; /* Changed to purple */
    color: white;
    border: none;
    border-radius: 0;
    cursor: pointer;
    transition: 0.3s;
    font-weight: bold; /* Added bold text */
    flex: 1;
    
    &:hover {
        background: ${({theme:n})=>n.colors.darkpurple};
    }
`,VO=()=>{const n=rr(),t=ir(),i=n.state||{score:0,totalQuestions:0,currentQuestionIndex:0,difficulty:"easy",players:[],multiplayer:!1,roomCode:null,playerId:null,hostIsObserver:!1},[a,o]=L.useState({score:i.score||0,totalQuestions:i.totalQuestions||0,currentQuestionIndex:i.currentQuestionIndex||0,difficulty:i.difficulty||"easy",players:i.players||[],multiplayer:i.multiplayer||!1,roomCode:i.roomCode||null,playerId:i.playerId||null,hostIsObserver:i.hostIsObserver||!1}),[u,f]=L.useState(a.players),[m,g]=L.useState(null),[y,E]=L.useState(!1),[S,A]=L.useState(a.hostIsObserver),[,x]=L.useState(!1);L.useEffect(()=>{y&&S&&t("/host-observer",{state:{currentQuestionIndex:a.currentQuestionIndex,difficulty:a.difficulty,players:u,roomCode:a.roomCode}})},[y,S,t,a,u]);const D=L.useCallback(async()=>{if(m){t("/multiplayer");return}const M=a.currentQuestionIndex+1;if(y&&a.multiplayer&&a.roomCode)try{await vh(a.roomCode,!0),t(`/quiz/${a.difficulty}`,{state:{currentQuestionIndex:M,score:a.score,players:u,multiplayer:a.multiplayer,roomCode:a.roomCode,playerId:a.playerId,hostIsObserver:S}}),setTimeout(async()=>{try{await vh(a.roomCode,!1)}catch(j){console.error("Error resetting continue flag after host navigation:",j)}},3e3)}catch(j){console.error("Error in host continue logic:",j),g("Failed to signal or navigate for continue")}else!y&&a.multiplayer&&a.roomCode?t(`/quiz/${a.difficulty}`,{state:{currentQuestionIndex:M,score:a.score,players:u,multiplayer:a.multiplayer,roomCode:a.roomCode,playerId:a.playerId,hostIsObserver:a.hostIsObserver}}):a.multiplayer||t(`/quiz/${a.difficulty}`,{state:{currentQuestionIndex:M,score:a.score,players:a.players,multiplayer:!1,roomCode:null,playerId:a.playerId,hostIsObserver:!1}})},[a,S,y,t,u,m,g]),H=L.useRef(D);return L.useEffect(()=>{H.current=D},[D]),L.useEffect(()=>{if(!n.state){const F=sessionStorage.getItem("multiplayerGame");if(F)try{const G=JSON.parse(F);o(rt=>({...rt,multiplayer:!0,roomCode:G.roomCode,playerId:G.playerId,difficulty:G.difficulty||rt.difficulty,hostIsObserver:G.hostIsObserver||!1})),A(G.hostIsObserver||!1)}catch(G){console.error("Error parsing multiplayer data from sessionStorage:",G),g("Unable to retrieve game data. Please return to the lobby.")}}(async()=>{if(a.multiplayer&&a.roomCode&&a.playerId)try{await gI(a.roomCode,a.playerId)}catch(F){console.error("Error marking player as ready at mid-quiz:",F)}})();const j=localStorage.getItem("isHost")==="true";if(E(j),j){const F=localStorage.getItem("hostIsObserver")==="true";A(F)}if(a.multiplayer&&a.roomCode){const F=iu(a.roomCode,G=>{if(G){const rt=G.hostIsObserver?G.players.filter(st=>st.id!==G.hostId):G.players;f(rt),G.hostIsObserver!==void 0&&y&&A(G.hostIsObserver),G.continueReady&&(x(!0),!y&&G.continueReady&&H.current())}else g("Game room no longer exists"),setTimeout(()=>t("/multiplayer"),2e3)});return()=>F()}},[a.multiplayer,a.roomCode,n.state,t,y]),m?N.jsxs(F_,{children:[N.jsx(G_,{children:"Error"}),N.jsx(PO,{children:m}),N.jsx(Q_,{onClick:()=>t("/multiplayer"),children:"Return to Multiplayer"})]}):N.jsxs(F_,{children:[N.jsx(G_,{children:"📊 Mid-Quiz Scoreboard"}),N.jsxs(NO,{children:["You scored ",a.score," so far!"]}),N.jsx(MO,{children:"🏆 Current Standings"}),N.jsxs(zO,{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Player"}),N.jsx("th",{children:"Score"})]})}),N.jsx("tbody",{children:u.sort((M,j)=>j.score-M.score).map(M=>N.jsxs("tr",{children:[N.jsxs("td",{children:[M.name,M.id===a.playerId?" (You)":""]}),N.jsx("td",{children:M.score})]},M.id))})]}),y||!a.multiplayer?N.jsx(Q_,{onClick:D,children:"Continue Quiz"}):N.jsx(kO,{children:"Waiting for the host to continue..."})]})},F_=tt.div`
  width: 100%;
  max-width: 31.25rem; /* 500px */
  margin: auto;
  text-align: center;
  padding: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.magnolia};
  border-radius: 0; /* Changed to match square design */
`,G_=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  font-size: 1.5rem;
  margin-bottom: 1.25rem; /* 20px */
`,NO=tt.p`
  font-size: 1.5rem;
  font-weight: bold;
  color: ${({theme:n})=>n.colors.purple};
  margin-bottom: 1.25rem; /* 20px */
`,MO=tt.h3`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  margin-top: 1.25rem; /* 20px */
`,zO=tt.table`
  width: 100%;
  margin-top: 0.625rem; /* 10px */
  border-collapse: collapse;
  font-size: 1rem;
  
  th, td {
    border: 0.0625rem solid ${({theme:n})=>n.colors.gray}; /* 1px */
    padding: 0.5rem; /* 8px */
    text-align: center;
  }

  th {
    background: ${({theme:n})=>n.colors.nightblue};
    color: white;
  }

  td {
    color: ${({theme:n})=>n.colors.black};
  }
`,Q_=tt.button`
  margin-top: 1.25rem; /* 20px */
  padding: 1rem 2rem; /* 16px 32px */
  font-size: 1rem;
  font-weight: bold;
  background-color: ${({theme:n})=>n.colors.purple};
  color: white;
  border: none;
  cursor: pointer;
  transition: 0.3s;
  &:hover {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
`,PO=tt.p`
  color: ${({theme:n})=>n.colors.incorrectRed};
  font-size: 1.2rem;
  margin-bottom: 1.25rem; /* 20px */
`,kO=tt.p`
  color: ${({theme:n})=>n.colors.purple};
  font-size: 1.2rem;
  font-weight: bold;
  margin-top: 1.25rem; /* 20px */
  padding: 1rem;
  border: 1px solid ${({theme:n})=>n.colors.pinkLavender};
  background-color: ${({theme:n})=>n.colors.magnolia};
`,UO=()=>{const n=rr(),t=ir(),i=n.state||{currentQuestionIndex:0,difficulty:"easy",players:[],roomCode:null},[a,o]=L.useState({currentQuestionIndex:i.currentQuestionIndex||0,difficulty:i.difficulty||"easy",players:i.players||[],roomCode:i.roomCode||null}),[u,f]=L.useState(a.players),[m,g]=L.useState(null),[,y]=L.useState(!1),[E,S]=L.useState([]),[A,x]=L.useState(!1),D=L.useCallback(async()=>{if(m){t("/multiplayer");return}if(a.roomCode)try{await vh(a.roomCode,!0),await yI(a.roomCode),setTimeout(async()=>{try{await vh(a.roomCode,!1)}catch(M){console.error("Error resetting continue flag for observer host:",M)}},3e3),g(null)}catch(M){console.error("Error in host continue logic:",M),g("Failed to signal continue")}},[a.roomCode,t,m]),H=L.useRef(D);return L.useEffect(()=>{H.current=D},[D]),L.useEffect(()=>{if(!n.state){const M=sessionStorage.getItem("multiplayerGame");if(M)try{const j=JSON.parse(M);o(F=>({...F,roomCode:j.roomCode,difficulty:j.difficulty||F.difficulty,currentQuestionIndex:j.currentQuestionIndex||0}))}catch(j){console.error("Error parsing host observer data from sessionStorage:",j),g("Unable to retrieve game data. Please return to the lobby.")}}if(a.roomCode){const M=iu(a.roomCode,j=>{if(j){const F=j.players.filter(G=>G.id!==j.hostId);if(f(F),j.playersAtMidQuiz){S(j.playersAtMidQuiz);const G=F.length>0&&F.every(rt=>{var st;return(st=j.playersAtMidQuiz)==null?void 0:st.includes(rt.id)});x(G)}else S([]),x(!1);j.continueReady&&y(!0)}else g("Game room no longer exists"),setTimeout(()=>t("/multiplayer"),2e3)});return()=>M()}},[a.roomCode,n.state,t]),m?N.jsxs(Y_,{children:[N.jsx(K_,{children:"Error"}),N.jsx(BO,{children:m}),N.jsx(X_,{onClick:()=>t("/multiplayer"),children:"Return to Multiplayer"})]}):N.jsxs(Y_,{children:[N.jsx(K_,{children:"📊 Host Observer View"}),N.jsx(LO,{children:"🏆 Current Standings"}),N.jsxs(jO,{children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Player"}),N.jsx("th",{children:"Score"})]})}),N.jsx("tbody",{children:u.sort((M,j)=>j.score-M.score).map(M=>N.jsxs("tr",{children:[N.jsxs("td",{children:[M.name,E.includes(M.id)&&N.jsx(Z_,{children:"✓"})]}),N.jsx("td",{children:M.score})]},M.id))})]}),N.jsxs($O,{children:[N.jsx(Z_,{children:"✓"})," indicates players ready to continue"]}),N.jsx(X_,{onClick:D,disabled:u.length>0&&!A,title:!A&&u.length>0?"Wait for all players to reach the mid-quiz scoreboard":"Continue to the next question",children:"Continue Quiz"})]})},Y_=tt.div`
  width: 100%;
  max-width: 31.25rem; /* 500px */
  margin: auto;
  text-align: center;
  padding: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.magnolia};
  border-radius: 0; /* Changed to match square design */
`,K_=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  font-size: 1.5rem;
  margin-bottom: 1.25rem; /* 20px */
`,LO=tt.h3`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  margin-top: 1.25rem; /* 20px */
`,jO=tt.table`
  width: 100%;
  margin-top: 0.625rem; /* 10px */
  border-collapse: collapse;
  font-size: 1rem;
  
  th, td {
    border: 0.0625rem solid ${({theme:n})=>n.colors.gray}; /* 1px */
    padding: 0.5rem; /* 8px */
    text-align: center;
  }

  th {
    background: ${({theme:n})=>n.colors.nightblue};
    color: white;
  }

  td {
    color: ${({theme:n})=>n.colors.black};
  }
`,X_=tt.button`
  margin-top: 1.25rem; /* 20px */
  padding: 1rem 2rem; /* 16px 32px */
  font-size: 1rem;
  font-weight: bold;
  background-color: ${({theme:n})=>n.colors.purple};
  color: white;
  border: none;
  cursor: pointer;
  transition: 0.3s;
  &:hover:not(:disabled) {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
`,BO=tt.p`
  color: ${({theme:n})=>n.colors.incorrectRed};
  font-size: 1.2rem;
  margin-bottom: 1.25rem; /* 20px */
`,$O=tt.p`
  color: ${({theme:n})=>n.colors.deepblue};
  font-size: 1rem;
  font-style: italic;
  margin-top: 0.75rem; /* 12px */
  margin-bottom: 0.5rem; /* 8px */
  padding: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
`,Z_=tt.span`
  color: ${({theme:n})=>n.colors.correctGreen};
  margin-left: 0.5rem;
  font-weight: bold;
`,qO=()=>{const n=ir();return N.jsxs(HO,{children:[N.jsx(FO,{children:"🚧 Feature Under Development 🚧"}),N.jsx(GO,{children:"The Create Quiz feature is coming soon! Our team is working hard to bring you the ability to create your own Eurovision quizzes."}),N.jsx(QO,{children:"Check back later for updates or try our existing quiz modes."}),N.jsx(YO,{children:N.jsxs(KO,{onClick:()=>n("/"),children:[N.jsx(HE,{size:20})," Return to Home"]})})]})},HO=tt.div`
  width: 100%;
  max-width: 31.25rem; /* 500px */
  margin: auto;
  text-align: center;
  padding: 1.25rem; /* 20px */
  background: ${({theme:n})=>n.colors.magnolia};
  box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1); /* 4px 6px */
`,FO=tt.h2`
  font-family: ${({theme:n})=>n.fonts.heading};
  color: ${({theme:n})=>n.colors.night};
  font-size: 1.8rem;
  margin-bottom: 1.25rem; /* 20px */
`,GO=tt.p`
  font-size: 1.2rem;
  color: ${({theme:n})=>n.colors.night};
  margin-bottom: 0.9375rem; /* 15px */
  line-height: 1.6;
`,QO=tt.p`
  font-size: 1rem;
  color: ${({theme:n})=>n.colors.gray};
  margin-bottom: 1.5625rem; /* 25px */
  font-style: italic;
`,YO=tt.div`
  display: flex;
  justify-content: center;
  margin-top: 1.25rem; /* 20px */
`,KO=tt.button`
  display: flex;
  align-items: center;
  gap: 0.625rem; /* 10px */
  padding: 0.75rem 1.25rem; /* 12px 20px */
  background: ${({theme:n})=>n.colors.purple};
  color: white;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  transition: 0.3s;
  
  &:hover {
    background: ${({theme:n})=>n.colors.darkpurple};
  }
`,XO=({children:n})=>N.jsx(ZO,{children:N.jsxs(JO,{children:[N.jsx(WO,{}),N.jsx(t4,{children:N.jsx(e4,{children:n})}),N.jsx(n4,{})]})}),ZO=tt.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: 20px;
  background-color: #f0f2f5;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  @media (max-width: 768px) {
    padding: 0;
    background-color: transparent;
    position: relative;
    height: 100vh;
  }
`,JO=tt.div`
  position: relative;
  width: 375px;
  max-width: 100%;
  height: 80vh;
  max-height: 812px;
  background-color: #1a1a1a;
  border-radius: 40px;
  box-shadow: 0 0 0 10px #111, 0 0 30px rgba(0, 0, 0, 0.5);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px 10px;

  @media (max-width: 768px) {
    width: 100%;
    height: 100vh;
    max-height: none;
    border-radius: 0;
    box-shadow: none;
    padding: 0;
  }
`,WO=tt.div`
  position: absolute;
  top: 0;
  width: 150px;
  height: 30px;
  background-color: #1a1a1a;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
  z-index: 10;

  @media (max-width: 768px) {
    display: none;
  }
`,t4=tt.div`
  width: 100%;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  background-color: ${({theme:n})=>n.colors.deepblue};
  border-radius: 30px;
  display: flex;
  flex-direction: column;
  position: relative;

  @media (max-width: 768px) {
    border-radius: 0;
  }
`,e4=tt.div`
  width: 100%;
  height: 100%;
  max-width: 355px;
  margin: 0 auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 15px 10px;
  overflow-y: auto;
  
  @media (max-width: 768px) {
    max-width: 100%;
  }
`,n4=tt.div`
  position: absolute;
  width: 40px;
  height: 5px;
  background-color: #333;
  border-radius: 3px;
  bottom: 10px;

  @media (max-width: 768px) {
    display: none;
  }
`,r4=()=>N.jsx($w,{theme:Fw,children:N.jsx(XO,{children:N.jsx(MA,{children:N.jsxs(cA,{children:[N.jsx(tr,{path:"/",element:N.jsx(Yw,{})}),N.jsx(tr,{path:"/select-difficulty",element:N.jsx(tR,{})}),N.jsx(tr,{path:"/quiz",element:N.jsx(qO,{})}),N.jsx(tr,{path:"/quiz/:difficulty",element:N.jsx(wI,{})}),N.jsx(tr,{path:"/results",element:N.jsx(jI,{})}),N.jsx(tr,{path:"/scoreboard",element:N.jsx(KI,{})}),N.jsx(tr,{path:"/multiplayer",element:N.jsx(lO,{})}),N.jsx(tr,{path:"/lobby",element:N.jsx(gO,{})}),N.jsx(tr,{path:"/mid-quiz-scoreboard",element:N.jsx(VO,{})}),N.jsx(tr,{path:"/host-observer",element:N.jsx(UO,{})})]})})})});vS.createRoot(document.getElementById("root")).render(N.jsx(L.StrictMode,{children:N.jsx(r4,{})}));
